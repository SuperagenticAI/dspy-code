{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83c\udfe0 Home","text":"Welcome to DSPy Code                 Comprehensive CLI to Optimize Your DSPy Code        <p>         Your AI-Powered DSPy Development Assistant: Claude Code for DSPy       </p> \u2728 Natural Language \ud83d\udd17 MCP Client \ud83e\uddec GEPA Optimization \ud83e\udde0 Codebase RAG Learn Build Optimize Connect \ud83d\ude80 Get Started \u26a1 Quick Start <p> \ud83d\udca1 Note: DSPy Code is in its initial release and under active development.     The quality and effectiveness of generated code depends on several factors: the language model you connect,     MCP (Model Context Protocol) servers you integrate, and the context you provide to DSPy Code.     We're continuously improving based on community feedback.   </p>"},{"location":"#what-is-dspy-code","title":"\ud83c\udfaf What is DSPy Code?","text":"Comprehensive CLI to Optimize Your DSPy Code - The Living Playbook <p>     DSPy Code is an interactive development environment that transforms how you learn and build with DSPy.     No need to read docs, books, or tutorials. Just enter the CLI, start building, ask questions, and get answers from your actual code in natural language.   </p> <p> Learn as you build. Whether you're a complete beginner or a DSPy expert, the CLI adapts to your level and guides you through every step.   </p>"},{"location":"#who-is-this-for","title":"\ud83d\udca1 Who is This For?","text":"<ul> <li> <p> Complete Beginners</p> <p>Never used DSPy before? Perfect! Start here and learn by doing. The CLI teaches you DSPy concepts as you build real programs.</p> <p>No prerequisites needed.</p> </li> <li> <p> DSPy Developers</p> <p>Already know DSPy? Supercharge your workflow with AI-powered code generation, validation, and optimization.</p> <p>Build faster, optimize smarter.</p> </li> <li> <p> Production Teams</p> <p>Building production DSPy applications? Get validated, optimized, production-ready code with GEPA optimization and best practices built-in.</p> <p>Ship with confidence.</p> </li> </ul>"},{"location":"#use-cases-when-to-use-dspy-code","title":"\ud83d\ude80 Use Cases: When to Use DSPy Code","text":""},{"location":"#1-starting-a-new-dspy-project","title":"1. Starting a New DSPy Project","text":"<p>Perfect for:</p> <ul> <li>Building a new AI application from scratch</li> <li>Prototyping ideas quickly</li> <li>Learning DSPy fundamentals</li> </ul> <p>What you get:</p> <pre><code>dspy-code\n/init --fresh\n</code></pre> <p>\u2705 Complete project structure \u2705 Configuration files \u2705 Example programs \u2705 Best practices setup \u2705 Ready to code in 2 minutes</p> <p>Example: \"I want to build a customer support chatbot with sentiment analysis and automated responses.\"</p> <p>Start Your First Project \u2192</p>"},{"location":"#2-adding-dspy-to-existing-projects","title":"2. Adding DSPy to Existing Projects","text":"<p>Perfect for:</p> <ul> <li>Enhancing existing Python applications</li> <li>Adding AI capabilities to current systems</li> <li>Modernizing legacy code</li> </ul> <p>What you get:</p> <pre><code>cd my-existing-project\ndspy-code\n/init\n</code></pre> <p>\u2705 Minimal setup (no disruption) \u2705 Scans your existing code \u2705 Understands your project structure \u2705 Generates code that fits your style \u2705 Works alongside your current code</p> <p>Example: \"I have a Django app. I want to add AI-powered document summarization.\"</p> <p>Add to Existing Project \u2192</p>"},{"location":"#3-learning-dspy-no-docs-required","title":"3. Learning DSPy (No Docs Required!)","text":"<p>Perfect for:</p> <ul> <li>First time using DSPy</li> <li>Understanding DSPy concepts</li> <li>Exploring different patterns</li> </ul> <p>How it works:</p> <p>Just ask questions in natural language:</p> <pre><code>\u2192 What is a DSPy Signature?\n\u2192 How does ChainOfThought work?\n\u2192 Show me an example of ReAct\n\u2192 When should I use GEPA optimization?\n</code></pre> <p>The CLI answers using YOUR installed DSPy version and provides working code examples!</p> <p>No reading required. Learn by building.</p> <p>Start Learning \u2192</p>"},{"location":"#4-connecting-to-mcp-servers-for-powerful-dspy-programs","title":"4. Connecting to MCP Servers for Powerful DSPy Programs","text":"<p>DSPy Code is an MCP Client!</p> <p>Connect to any MCP (Model Context Protocol) server to supercharge your DSPy programs with external tools, APIs, and data sources.</p> <p>What you can do:</p> <pre><code># Add MCP server\n/mcp-add web-tools --transport stdio --command \"python server.py\"\n\n# Connect to server\n/mcp-connect web-tools\n\n# Use tools in your DSPy programs\n\u2192 Create a DSPy module that searches the web and summarizes results\n</code></pre> <p>\u2705 Access external tools - Web search, databases, APIs \u2705 Read from data sources - Files, documents, databases \u2705 Execute commands - System operations, scripts \u2705 Integrate services - Third-party APIs and tools \u2705 Build powerful workflows - Combine DSPy with external capabilities</p> <p>Example: \"Build a RAG system that uses MCP to query my company's database and generate answers.\"</p> <p>Learn MCP Integration \u2192</p>"},{"location":"#5-optimizing-dspy-programs-with-gepa","title":"5. Optimizing DSPy Programs with GEPA","text":"<p>Perfect for:</p> <ul> <li>Improving accuracy of existing programs</li> <li>Automatic prompt engineering</li> <li>Production optimization</li> </ul> <p>What you get:</p> <pre><code># Generate training data\n\u2192 Generate 100 examples for sentiment analysis\n\n# Optimize automatically\n/optimize my_program.py training_data.jsonl\n</code></pre> <p>\u2705 AI-generated training data \u2705 Automatic GEPA optimization \u2705 10-30% accuracy improvements \u2705 Production-ready optimized code</p> <p>Real results: 75% \u2192 92% accuracy automatically!</p> <p>Learn GEPA Optimization \u2192</p>"},{"location":"#6-building-production-ai-applications","title":"6. Building Production AI Applications","text":"<p>Perfect for:</p> <ul> <li>Enterprise applications</li> <li>Production deployments</li> <li>Mission-critical systems</li> </ul> <p>What you get:</p> <p>\u2705 Validated, production-ready code \u2705 Best practices built-in \u2705 Error handling and logging \u2705 Type hints and documentation \u2705 Optimized performance \u2705 Export as packages</p> <p>Quality score: 90+ out of 100 automatically!</p> <p>Production Best Practices \u2192</p>"},{"location":"#key-features","title":"\u2728 Key Features","text":"<ul> <li> <p> Natural Language Interface</p> <p>Describe what you want in plain English. The CLI generates complete, working DSPy code.</p> <pre><code>\"Build a RAG system for document Q&amp;A\"\n</code></pre> <p>Done! Complete code generated.</p> </li> <li> <p> Built-in MCP Client</p> <p>Connect to any MCP server to access external tools, APIs, databases, and services in your DSPy programs.</p> <p>Build powerful, connected AI applications.</p> </li> <li> <p> Version-Aware Intelligence</p> <p>Adapts to YOUR installed DSPy version. Answers questions using your actual code, not outdated docs.</p> <p>Always current. Always accurate.</p> </li> <li> <p> Real GEPA Optimization</p> <p>Not mocked. Real genetic prompt evolution that improves your programs by 10-30% automatically.</p> <p>Production-grade results.</p> </li> <li> <p> Smart Validation</p> <p>Every generated code is validated for quality, best practices, and correctness. Score: 90+/100.</p> <p>Ship with confidence.</p> </li> <li> <p> Codebase Knowledge</p> <p>Indexes your DSPy installation and project. Ask questions about your own code!</p> <p>\"Explain my RAG module\" - Done!</p> </li> <li> <p> Universal Model Support</p> <p>Connect to any LLM: Ollama (local), OpenAI, Anthropic, Gemini. Switch anytime.</p> <p>Your choice, your control.</p> </li> <li> <p> Learn as You Build</p> <p>No docs, books, or tutorials needed. Ask questions, get answers from your code, build in real-time.</p> <p>Interactive learning experience.</p> </li> </ul>"},{"location":"#see-it-in-action","title":"\ud83c\udfac See It In Action","text":""},{"location":"#quick-example","title":"Quick Example","text":"<pre><code># Start DSPy Code\ndspy-code\n\n# Initialize project\n\u2192 /init --fresh\n\n# Connect to model\n\u2192 /connect ollama llama3.1:8b\n\n# Generate code in natural language\n\u2192 Create a sentiment analyzer with confidence scores\n\n# Validate\n\u2192 /validate\n\n# Save\n\u2192 /save sentiment_analyzer.py\n\n# Generate training data\n\u2192 Generate 50 examples for sentiment analysis\n\n# Optimize with GEPA\n\u2192 /optimize sentiment_analyzer.py training_data.jsonl\n</code></pre> <p>Result: Production-ready, optimized sentiment analyzer in 5 minutes!</p>"},{"location":"#quick-start","title":"\ud83c\udfc3 Quick Start","text":"1. Install <pre><code>pip install dspy-code</code></pre> 2. Start <pre><code>dspy-code</code></pre> 3. Build <pre><code>/init\n/connect ollama llama3.1:8b\nCreate a [your app]</code></pre> <p>Complete Quick Start Guide \u2192</p>"},{"location":"#real-workflows","title":"\ud83d\udcac Real Workflows","text":""},{"location":"#workflow-1-complete-beginner","title":"Workflow 1: Complete Beginner","text":"<pre><code>Day 1:\n\u2192 Install DSPy Code\n\u2192 /init --fresh\n\u2192 \"What is DSPy?\"\n\u2192 \"Create a simple text classifier\"\n\u2192 /save my_first_program.py\n\u2192 /run\n\nResult: Working DSPy program, understanding of basics\n</code></pre>"},{"location":"#workflow-2-building-production-app","title":"Workflow 2: Building Production App","text":"<pre><code>Week 1:\n\u2192 dspy-code /init in existing project\n\u2192 Generate signatures, modules, programs\n\u2192 Generate 200 training examples\n\u2192 Optimize with GEPA\n\u2192 Validate (95/100 quality score)\n\u2192 Export as package\n\u2192 Deploy\n\nResult: Production-ready AI application\n</code></pre>"},{"location":"#workflow-3-learning-advanced-patterns","title":"Workflow 3: Learning Advanced Patterns","text":"<pre><code>\u2192 \"Show me how ReAct works\"\n\u2192 \"Create a multi-agent system\"\n\u2192 \"Explain GEPA optimization\"\n\u2192 \"Build a RAG system with custom retrieval\"\n\nResult: Deep understanding through hands-on building\n</code></pre>"},{"location":"#common-questions","title":"\ud83c\udfaf Common Questions","text":"<p>Do I need to know DSPy first?</p> <p>No! That's the whole point. DSPy Code teaches you as you build. Just start creating and ask questions when you need help.</p> <p>Can I use this with my existing DSPy code?</p> <p>Yes! Run <code>/init</code> in your project directory. DSPy Code will scan your code and help you extend it.</p> <p>What models can I use?</p> <p>Any! Ollama (local), OpenAI, Anthropic, Gemini. Connect with one command: <code>/connect ollama llama3.1:8b</code></p> <p>Is the optimization real or mocked?</p> <p>Real GEPA optimization! Actual genetic prompt evolution that improves accuracy by 10-30%.</p> <p>Do I need to read documentation?</p> <p>No! Just ask DSPy Code. It answers questions using your actual installed DSPy version.</p>"},{"location":"#ready-to-start","title":"\ud83d\ude80 Ready to Start?Start Building in 2 Minutes","text":"<p>No docs to read. No tutorials to follow. Just start building.</p>        Install Now             Quick Start"},{"location":"#documentation-structure","title":"\ud83d\udcda Documentation Structure","text":"<ul> <li> <p>Getting Started</p> <p>Installation, quick start, first program, understanding the architecture</p> </li> <li> <p>User Guide</p> <p>Interactive mode, code generation, validation, optimization, project management</p> </li> <li> <p>Tutorials</p> <p>Step-by-step guides for building real applications</p> </li> <li> <p>Reference</p> <p>Commands, configuration, FAQ, troubleshooting</p> </li> <li> <p>Advanced</p> <p>MCP integration, custom modules, deployment</p> </li> </ul>"},{"location":"#technical-support","title":"\ud83e\udd1d Technical Support","text":"<p>Need help? Check these resources:</p> <ul> <li>FAQ - Common questions answered</li> <li>Troubleshooting - Fix common issues</li> <li>GitHub Issues - Report bugs or request features</li> </ul> <p> DSPy Code by     Superagentic AI </p> <p>     Comprehensive CLI to Optimize Your DSPy Code - Learn by building. No docs required.   </p>"},{"location":"about/","title":"About DSPy Code","text":"<p>DSPy Code is built by Superagentic AI, a full-stack Agentic AI company dedicated to building production-grade intelligent agents and developer tools.</p>"},{"location":"about/#about-superagentic-ai","title":"About Superagentic AI","text":"<p>Superagentic AI is the home of Agentic AI. We are building the next-generation Agentic AI developer tools, optimized for production-grade intelligent agents, and a full-stack agent optimization platform to help customers adopt agentic AI with confidence.</p>"},{"location":"about/#about-dspy-code_1","title":"About DSPy Code","text":"<p>DSPy Code (Claude Code for DSPy) is an AI-powered interactive development environment that makes working with DSPy effortless. It serves as a \"living playbook\" where users can:</p> <ul> <li>Generate DSPy code for existing or new projects</li> <li>Learn DSPy concepts through interactive guidance</li> <li>Evaluate and optimize DSPy programs</li> <li>Access all DSPy features with their installed DSPy version</li> <li>Connect to MCP servers for powerful hybrid AI applications</li> </ul>"},{"location":"about/#why-dspy-code","title":"Why DSPy Code?","text":"<p>What makes DSPy Code special compared to using Claude Code with the DSPy repository?</p> <p>DSPy Code is purpose-built for DSPy development with deep, specialized knowledge that generic AI assistants don't have. See our comprehensive comparison: Why DSPy Code?</p>"},{"location":"about/#key-features","title":"Key Features","text":"<ul> <li>Natural Language Interface - Describe your DSPy task in plain English</li> <li>Built-in MCP Client - Connect to any MCP server</li> <li>Version-Aware Intelligence - Adapts to YOUR installed DSPy version</li> <li>Real GEPA Optimization - Actual Genetic Prompt Evolution Algorithm integration</li> <li>Codebase Knowledge - Understands your codebase and DSPy concepts</li> <li>Smart Validation - Ensures best practices and correctness</li> </ul>"},{"location":"about/#philosophy","title":"Philosophy","text":"<p>Learn by building. No docs required.</p> <p>DSPy Code is designed for both beginners and experts. Whether you're starting your first DSPy project or optimizing production systems, DSPy Code adapts to your needs and provides context-aware guidance.</p>"},{"location":"about/#connect-with-superagentic-ai","title":"Connect With Superagentic AI","text":"<ul> <li>Website: https://super-agentic.ai</li> <li>GitHub: https://github.com/superagentic-ai</li> <li>PyPI: Production-ready Python packages for agentic AI development</li> <li>HuggingFace: Hosted models, experiments, and datasets from Superagentic Lab</li> <li>London Agentic AI Meetup: UK's first Agentic AI meetup (1,375+ members)</li> </ul>"},{"location":"about/#open-source","title":"Open Source","text":"<p>DSPy Code is part of Superagentic AI's commitment to open source leadership. We actively maintain multiple open source projects including SuperQuantX, SuperOptiX, and DSPy Code.</p> <p>Contributions are welcome! See our Contributing Guide for details.</p>"},{"location":"about/#license","title":"License","text":"<p>DSPy Code is released under the MIT License. See License for full details.</p> <p>Built with \u2764\ufe0f by Superagentic AI</p> <p>Full-Stack Agentic AI company building what today's agents are missing: full-stack intelligent developer infrastructure, evaluated and optimized from application to orchestration layer.</p>"},{"location":"about/changelog/","title":"Changelog","text":"<p>All notable changes to DSPy Code will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"about/changelog/#010-2025-11-21","title":"[0.1.0] - 2025-11-21","text":""},{"location":"about/changelog/#added","title":"Added","text":"<ul> <li>Initial release of DSPy Code (formerly DSPy CLI)</li> <li>Interactive mode with natural language interface</li> <li>Slash commands for all operations</li> <li>Code generation for Signatures, Modules, and complete programs</li> <li>Model connection support (Ollama, OpenAI, Anthropic, Gemini)</li> <li>Built-in MCP client integration</li> <li>Real GEPA optimization support</li> <li>Codebase RAG for project understanding</li> <li>Code validation and sandboxed execution</li> <li>Project initialization (fresh and existing projects)</li> <li>Session management with auto-save</li> <li>Export/import functionality</li> <li>Comprehensive documentation with MkDocs</li> </ul>"},{"location":"about/changelog/#changed","title":"Changed","text":"<ul> <li>Renamed from \"DSPy CLI\" to \"DSPy Code\" with tagline \"Claude Code for DSPy\"</li> <li>Updated branding to Superagentic AI</li> <li>Made all commands interactive-only (slash commands)</li> <li>Moved codebase indexing to <code>/init</code> command</li> <li>Enhanced error handling and user feedback</li> </ul>"},{"location":"about/changelog/#fixed","title":"Fixed","text":"<ul> <li>Context sharing between interactive session and slash commands</li> <li>Codebase indexing to use installed packages instead of reference directory</li> <li>Permission handling for restricted environments</li> <li>Model connection error messages</li> </ul>"},{"location":"about/changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"about/changelog/#major-change-everything-in-cwd-2024-11-24","title":"\ud83c\udfaf MAJOR CHANGE: Everything in CWD (2024-11-24)","text":"<p>BREAKING CHANGE: All dspy-code data now stored in current working directory for better isolation and portability.</p>"},{"location":"about/changelog/#what-changed","title":"What Changed","text":"<ul> <li>Cache location: Moved from <code>~/.dspy_cli/cache/</code> to <code>.dspy_code/cache/</code> in CWD</li> <li>Session data: Moved from <code>~/.dspy_cli/sessions/</code> to <code>.dspy_code/sessions/</code> in CWD</li> <li>Optimization workflows: Moved from <code>~/.dspy_cli/optimization/</code> to <code>.dspy_code/optimization/</code> in CWD</li> <li>Export history: Moved from <code>~/.dspy_cli/exports/</code> to <code>.dspy_code/exports/</code> in CWD</li> <li>Command history: Moved from <code>~/.dspy_code_history</code> to <code>.dspy_code/history.txt</code> in CWD</li> </ul>"},{"location":"about/changelog/#why-this-matters","title":"Why This Matters","text":"<p>\u2705 True CWD-only operation: Everything (code, cache, packages) stays in your project directory \u2705 Enhanced security: No home directory access at all \u2705 Perfect isolation: Each project is completely self-contained \u2705 Easy cleanup: Delete project folder to remove everything \u2705 Portability: Zip entire project directory to share or backup \u2705 Simplicity: One directory = one project with all its data  </p>"},{"location":"about/changelog/#recommended-setup","title":"Recommended Setup","text":"<p>CRITICAL: Always create virtual environment INSIDE your project:</p> <pre><code>mkdir my-dspy-project\ncd my-dspy-project\npython -m venv .venv          # Creates .venv IN project\nsource .venv/bin/activate\npip install dspy-code dspy\ndspy-code                      # Everything stays in my-dspy-project/\n</code></pre>"},{"location":"about/changelog/#migration","title":"Migration","text":"<p>Your old data in <code>~/.dspy_cli/</code> will not be automatically migrated. This is intentional - each project now has its own isolated cache and sessions.</p>"},{"location":"about/changelog/#security-fixes-2024-11-24","title":"\ud83d\udea8 SECURITY FIXES (2024-11-24)","text":""},{"location":"about/changelog/#file-system-access-protection","title":"File System Access Protection","text":"<ul> <li>CRITICAL: Fixed RAG indexer recursively scanning entire file system including personal directories</li> <li>CRITICAL: Added safety checks to prevent accessing iCloud Photos, Documents, Downloads, and other user directories</li> <li>CRITICAL: Implemented strict path boundary validation to limit operations to current working directory only</li> </ul>"},{"location":"about/changelog/#security-measures-added","title":"Security Measures Added","text":"<ol> <li>Directory Safety Validation</li> <li>Blocks scanning of home directory (<code>~/</code>)</li> <li>Blocks scanning of system directories (<code>/System</code>, <code>/Library</code>, <code>/usr</code>, <code>/private</code>)</li> <li>Blocks scanning of user directories (Desktop, Documents, Downloads, Pictures, Photos, Music, Movies)</li> <li> <p>Blocks scanning of immediate home subdirectories</p> </li> <li> <p>Path Boundary Protection</p> </li> <li>All file operations validated to stay within project directory</li> <li>Symlink attack prevention - verifies files are actually within project</li> <li>Maximum depth limiting (10 levels) to prevent infinite recursion</li> <li> <p>Explicit permission checks before accessing any file</p> </li> <li> <p>Startup Safety Checks</p> </li> <li>Critical warning displayed if running from home directory</li> <li>Warning displayed if running from user directories</li> <li>Error and exit if running from system directories</li> <li> <p>Recommendations to use dedicated project directories with virtual environments</p> </li> <li> <p>Limited Scanning Scope</p> </li> <li>RAG indexer only scans:<ul> <li>Installed packages in current virtual environment (not system-wide)</li> <li>Specific project directories: <code>generated/</code>, <code>modules/</code>, <code>signatures/</code>, <code>programs/</code>, <code>optimizers/</code>, <code>src/</code></li> <li>Python files in current directory (non-recursive)</li> </ul> </li> <li>Excludes test files, cache directories, hidden files automatically</li> </ol>"},{"location":"about/changelog/#added_1","title":"Added","text":"<ul> <li>Comprehensive security test suite (<code>tests/test_security.py</code>)</li> <li>Startup directory safety checks</li> <li>Path boundary validation in all file operations</li> <li>Project-specific command history</li> <li>Complete CWD isolation</li> <li>Security documentation page</li> </ul>"},{"location":"about/changelog/#changed_1","title":"Changed","text":"<ul> <li>BREAKING: All dspy-code internal data now in <code>.dspy_code/</code> in CWD instead of <code>~/.dspy_cli/</code></li> <li>RAG indexer strictly limited to project directory</li> <li>Project scanner respects path boundaries</li> <li>All <code>rglob()</code> operations use safe wrappers with depth limits</li> <li><code>.gitignore</code> updated to include <code>.dspy_code/</code> and <code>.dspy_cache/</code></li> <li>Documentation updated to emphasize virtual environment in project directory</li> </ul>"},{"location":"about/changelog/#planned","title":"Planned","text":"<ul> <li>Enhanced MCP tool integration</li> <li>Additional DSPy module templates</li> <li>Improved optimization workflows</li> <li>Extended evaluation capabilities</li> <li>Performance optimizations</li> </ul> <p>For detailed development history, see GitHub Commits</p>"},{"location":"about/contributing/","title":"Contributing to DSPy Code","text":"<p>Thank you for your interest in contributing to DSPy Code! We welcome contributions from the community.</p> <p>DSPy Code is built by Superagentic AI and is part of our commitment to open source leadership in the Agentic AI space.</p>"},{"location":"about/contributing/#how-to-contribute","title":"How to Contribute","text":""},{"location":"about/contributing/#reporting-bugs","title":"Reporting Bugs","text":"<p>If you find a bug, please open an issue on GitHub with:</p> <ul> <li>A clear description of the bug</li> <li>Steps to reproduce</li> <li>Expected vs actual behavior</li> <li>Your environment (OS, Python version, DSPy version)</li> <li>Any relevant error messages or logs</li> </ul>"},{"location":"about/contributing/#suggesting-features","title":"Suggesting Features","text":"<p>We welcome feature suggestions! Please open an issue with:</p> <ul> <li>A clear description of the feature</li> <li>Use cases and examples</li> <li>Why this feature would be valuable</li> <li>Any implementation ideas (optional)</li> </ul>"},{"location":"about/contributing/#code-contributions","title":"Code Contributions","text":"<ol> <li> <p>Fork the repository <pre><code>git clone https://github.com/superagentic-ai/dspy-code.git\ncd dspy-code\n</code></pre></p> </li> <li> <p>Create a branch <pre><code>git checkout -b feature/your-feature-name\n</code></pre></p> </li> <li> <p>Set up development environment <pre><code>python -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -e \".[dev]\"\n</code></pre></p> </li> <li> <p>Make your changes</p> </li> <li>Follow the existing code style</li> <li>Add tests for new features</li> <li>Update documentation as needed</li> <li> <p>Ensure all tests pass</p> </li> <li> <p>Test your changes <pre><code>pytest tests/\nmkdocs build  # Verify documentation builds\n</code></pre></p> </li> <li> <p>Commit your changes <pre><code>git commit -m \"Add: Description of your changes\"\n</code></pre></p> </li> <li> <p>Push and create a Pull Request <pre><code>git push origin feature/your-feature-name\n</code></pre></p> </li> </ol>"},{"location":"about/contributing/#development-guidelines","title":"Development Guidelines","text":""},{"location":"about/contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8 Python style guide</li> <li>Use type hints where appropriate</li> <li>Write docstrings for all public functions and classes</li> <li>Keep functions focused and single-purpose</li> </ul>"},{"location":"about/contributing/#testing","title":"Testing","text":"<ul> <li>Write tests for new features</li> <li>Ensure existing tests still pass</li> <li>Aim for good test coverage</li> </ul>"},{"location":"about/contributing/#documentation","title":"Documentation","text":"<ul> <li>Update relevant documentation pages</li> <li>Add examples for new features</li> <li>Keep documentation clear and beginner-friendly</li> </ul>"},{"location":"about/contributing/#commit-messages","title":"Commit Messages","text":"<p>Use clear, descriptive commit messages:</p> <pre><code>Add: Feature description\nFix: Bug description\nUpdate: Change description\nRefactor: Refactoring description\nDocs: Documentation update\n</code></pre>"},{"location":"about/contributing/#project-structure","title":"Project Structure","text":"<pre><code>dspy-code/\n\u251c\u2500\u2500 dspy_code/          # Main package\n\u2502   \u251c\u2500\u2500 commands/       # Slash command handlers\n\u2502   \u251c\u2500\u2500 core/           # Core functionality\n\u2502   \u251c\u2500\u2500 models/         # Code generation\n\u2502   \u251c\u2500\u2500 optimization/   # GEPA integration\n\u2502   \u251c\u2500\u2500 mcp/            # MCP client\n\u2502   \u251c\u2500\u2500 rag/            # Codebase RAG\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 docs/               # Documentation\n\u251c\u2500\u2500 tests/              # Test suite\n\u251c\u2500\u2500 examples/           # Example scripts\n\u2514\u2500\u2500 pyproject.toml      # Project configuration\n</code></pre>"},{"location":"about/contributing/#areas-for-contribution","title":"Areas for Contribution","text":""},{"location":"about/contributing/#high-priority","title":"High Priority","text":"<ul> <li>Additional DSPy module templates</li> <li>Enhanced MCP tool integrations</li> <li>Performance optimizations</li> <li>Extended validation rules</li> <li>More evaluation metrics</li> </ul>"},{"location":"about/contributing/#documentation_1","title":"Documentation","text":"<ul> <li>Tutorial improvements</li> <li>Code examples</li> <li>Best practices guides</li> <li>Video tutorials (external)</li> </ul>"},{"location":"about/contributing/#testing_1","title":"Testing","text":"<ul> <li>Additional test coverage</li> <li>Integration tests</li> <li>Performance benchmarks</li> </ul>"},{"location":"about/contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>We are committed to providing a welcoming and inclusive environment. Please:</p> <ul> <li>Be respectful and considerate</li> <li>Welcome newcomers and help them learn</li> <li>Focus on constructive feedback</li> <li>Celebrate diverse perspectives</li> </ul>"},{"location":"about/contributing/#questions","title":"Questions?","text":"<ul> <li>GitHub Issues: https://github.com/superagentic-ai/dspy-code/issues</li> <li>Website: https://super-agentic.ai</li> </ul>"},{"location":"about/contributing/#recognition","title":"Recognition","text":"<p>Contributors will be recognized in:</p> <ul> <li>Release notes</li> <li>Project documentation</li> <li>GitHub contributors page</li> </ul> <p>Thank you for helping make DSPy Code better! \ud83d\ude80</p> <p>Built by Superagentic AI - The Home of Agentic AI</p>"},{"location":"about/license/","title":"License","text":"<p>DSPy Code is released under the MIT License.</p>"},{"location":"about/license/#mit-license","title":"MIT License","text":"<p>Copyright (c) 2025 Superagentic AI</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"about/license/#third-party-licenses","title":"Third-Party Licenses","text":"<p>DSPy Code uses several open-source libraries. Their licenses are included below:</p>"},{"location":"about/license/#dspy","title":"DSPy","text":"<p>DSPy Code is designed to work with the DSPy framework. Please refer to the DSPy license for details.</p>"},{"location":"about/license/#gepa","title":"GEPA","text":"<p>If using GEPA optimization features, please refer to the GEPA license for details.</p>"},{"location":"about/license/#mcp-sdk","title":"MCP SDK","text":"<p>MCP client functionality uses the MCP Python SDK. Please refer to the MCP license for details.</p>"},{"location":"about/license/#other-dependencies","title":"Other Dependencies","text":"<p>All dependencies are listed in <code>pyproject.toml</code>. Each package maintains its own license, which can be viewed via:</p> <pre><code>pip show &lt;package-name&gt;\n</code></pre>"},{"location":"about/license/#commercial-use","title":"Commercial Use","text":"<p>DSPy Code is free for both personal and commercial use under the MIT License.</p>"},{"location":"about/license/#attribution","title":"Attribution","text":"<p>If you use DSPy Code in your project, attribution is appreciated but not required. You may include:</p> <pre><code>Built with DSPy Code by Superagentic AI\nhttps://github.com/superagentic-ai/dspy-code\n</code></pre>"},{"location":"about/license/#questions","title":"Questions?","text":"<p>For license questions, please contact:</p> <ul> <li>Email: legal@super-agentic.ai</li> <li>Website: https://super-agentic.ai</li> </ul> <p>Copyright \u00a9 2025 Superagentic AI. All rights reserved.</p> <p>DSPy Code is built by Superagentic AI - The Home of Agentic AI</p>"},{"location":"about/why-dspy-code/","title":"Why DSPy Code? What Makes It Special?","text":""},{"location":"about/why-dspy-code/#the-question","title":"The Question","text":"<p>\"Why use DSPy Code instead of just using Claude Code with the DSPy repository?\"</p> <p>This is a great question! Let us show you what makes DSPy Code uniquely valuable.</p>"},{"location":"about/why-dspy-code/#the-core-difference","title":"\ud83c\udfaf The Core Difference","text":""},{"location":"about/why-dspy-code/#claude-code-dspy-repo-generic-ai-assistant","title":"Claude Code + DSPy Repo = Generic AI Assistant","text":"<ul> <li>Claude Code is a general-purpose AI coding assistant</li> <li>It doesn't know DSPy-specific patterns, best practices, or workflows</li> <li>You have to explain DSPy concepts every time</li> <li>No built-in validation, optimization, or DSPy-specific tooling</li> <li>Manual setup for every project</li> </ul>"},{"location":"about/why-dspy-code/#dspy-code-dspy-native-development-environment","title":"DSPy Code = DSPy-Native Development Environment","text":"<ul> <li>Purpose-built for DSPy development</li> <li>Deep DSPy knowledge built into every interaction</li> <li>Automated workflows for optimization, validation, and testing</li> <li>Version-aware - adapts to YOUR installed DSPy version</li> <li>Zero-config project setup</li> </ul>"},{"location":"about/why-dspy-code/#10-unique-advantages","title":"\ud83d\ude80 10 Unique Advantages","text":""},{"location":"about/why-dspy-code/#1-dspy-specific-intelligence","title":"1. DSPy-Specific Intelligence \ud83e\udde0","text":"<p>What Claude Code does: - Generic code generation - No understanding of DSPy patterns - You must explain DSPy concepts repeatedly</p> <p>What DSPy Code does: - Built-in knowledge of all 10 DSPy predictors - Understands all 11 optimizers (GEPA, MIPROv2, BootstrapFewShot, etc.) - Knows all 4 adapters (JSONAdapter, XMLAdapter, ChatAdapter, TwoStepAdapter) - Familiar with all 3 retriever types (ColBERTv2, Custom, Embeddings) - Comprehensive evaluation metrics (Accuracy, F1, ROUGE, BLEU, etc.) - Async/streaming support built-in</p> <p>Example: <pre><code>You: \"What's the difference between ChainOfThought and ReAct?\"\n\nClaude Code: [Generic explanation, may not be accurate for DSPy]\n\nDSPy Code: [Detailed comparison with code examples, use cases,\n           performance metrics, and when to use each]\n</code></pre></p>"},{"location":"about/why-dspy-code/#2-version-aware-code-generation","title":"2. Version-Aware Code Generation \ud83d\udce6","text":"<p>What Claude Code does: - Generates code based on what it \"thinks\" DSPy looks like - May use outdated APIs or patterns - No awareness of your installed version</p> <p>What DSPy Code does: - Indexes YOUR installed DSPy package during <code>/init</code> - Generates code compatible with YOUR version - Warns you if your DSPy version is outdated - Adapts to version-specific APIs and features</p> <p>Example: <pre><code>DSPy Code detects: DSPy 3.0.4 installed\nGenerates code using: dspy.ChainOfThought (correct for 3.0.4)\nWarns if needed: \"Your DSPy version is old, consider upgrading\"\n</code></pre></p>"},{"location":"about/why-dspy-code/#3-real-gepa-optimization","title":"3. Real GEPA Optimization \ud83e\uddec","text":"<p>What Claude Code does: - Can generate GEPA code, but it's just code - No actual optimization execution - You must set up optimization manually</p> <p>What DSPy Code does: - Real GEPA integration - actually runs optimization - Automated workflow - generate data \u2192 optimize \u2192 evaluate - Progress tracking - see optimization in real-time - Best practices - proper metric functions, data formatting</p> <p>Example: <pre><code># Generate training data\nGenerate 20 examples for sentiment analysis\n\n# Optimize with real GEPA\n/optimize my_program.py\n\n# DSPy Code:\n# \u2705 Generates proper metric function\n# \u2705 Formats data correctly\n# \u2705 Runs actual GEPA optimization\n# \u2705 Shows progress and results\n</code></pre></p>"},{"location":"about/why-dspy-code/#4-codebase-rag-retrieval-augmented-generation","title":"4. Codebase RAG (Retrieval Augmented Generation) \ud83d\udcda","text":"<p>What Claude Code does: - Can read files you provide - No understanding of your project structure - No knowledge of your existing DSPy code</p> <p>What DSPy Code does: - Indexes your entire project during <code>/init</code> - Understands your codebase - asks questions about YOUR code - Generates code that fits YOUR patterns - Finds examples from YOUR existing code - Learns your conventions and applies them</p> <p>Example: <pre><code>You: \"Show me my sentiment analyzer\"\n\nDSPy Code: [Finds YOUR sentiment analyzer from your codebase,\n           shows it with context, explains how it works]\n\nYou: \"Create a similar module for email classification\"\n\nDSPy Code: [Generates code matching YOUR style and patterns]\n</code></pre></p>"},{"location":"about/why-dspy-code/#5-comprehensive-validation-testing","title":"5. Comprehensive Validation &amp; Testing \u2705","text":"<p>What Claude Code does: - Can check syntax - No DSPy-specific validation - No best practices checking</p> <p>What DSPy Code does: - DSPy-specific validation - checks signatures, modules, predictors - Best practices - ensures proper field descriptions, docstrings - Sandbox execution - safely tests your code - Error detection - finds common DSPy mistakes - Performance hints - suggests optimizations</p> <p>Example: <pre><code>/validate my_program.py\n\nDSPy Code checks:\n\u2705 Signature structure\n\u2705 Module implementation\n\u2705 Predictor usage\n\u2705 Field descriptions\n\u2705 Best practices\n\u2705 Common anti-patterns\n</code></pre></p>"},{"location":"about/why-dspy-code/#6-natural-language-dspy-learning","title":"6. Natural Language DSPy Learning \ud83c\udf93","text":"<p>What Claude Code does: - Can answer questions, but not DSPy-focused - No structured learning path - Generic explanations</p> <p>What DSPy Code does: - Ask anything about DSPy in natural language - Comprehensive explanations with code examples - Interactive learning - learn as you build - Context-aware - adapts to your level</p> <p>Example: <pre><code>You: \"What is ChainOfThought?\"\n\nDSPy Code: [Detailed explanation with:\n           - Description\n           - When to use\n           - Performance metrics\n           - Code example\n           - Comparison with other predictors\n           - Best practices]\n</code></pre></p>"},{"location":"about/why-dspy-code/#7-mcp-client-integration","title":"7. MCP Client Integration \ud83d\udd17","text":"<p>What Claude Code does: - No MCP support - Can't connect to external tools - Limited to code generation</p> <p>What DSPy Code does: - Built-in MCP Client - connect to any MCP server - Tool integration - use external APIs, databases, services - Hybrid AI - combine DSPy reasoning with external tools - Seamless workflow - all in one environment</p> <p>Example: <pre><code># Connect to filesystem MCP server\n/mcp-connect filesystem\n\n# Use tools in your DSPy programs\n/mcp-tools\n/mcp-call filesystem read_file {\"path\": \"data.json\"}\n</code></pre></p>"},{"location":"about/why-dspy-code/#8-complete-workflow-automation","title":"8. Complete Workflow Automation \u2699\ufe0f","text":"<p>What Claude Code does: - Generate code snippets - Manual setup for everything else - No workflow automation</p> <p>What DSPy Code does: - End-to-end workflows - from idea to production - Project initialization - <code>/init</code> sets up everything - Data generation - <code>/data</code> creates training examples - Optimization - <code>/optimize</code> runs GEPA - Evaluation - <code>/eval</code> tests your program - Export - <code>/export</code> packages for deployment</p> <p>Example: <pre><code># Complete workflow in one session\n/init\nCreate a sentiment analyzer\n/data sentiment 20\n/optimize\n/eval\n/export\n</code></pre></p>"},{"location":"about/why-dspy-code/#9-template-library-examples","title":"9. Template Library &amp; Examples \ud83d\udccb","text":"<p>What Claude Code does: - Can generate code, but no templates - No pre-built patterns - Start from scratch every time</p> <p>What DSPy Code does: - 6+ complete program templates - RAG, QA, Classification, etc. - 11 optimizer templates - GEPA, MIPROv2, BootstrapFewShot, etc. - 4 adapter templates - JSON, XML, Chat, TwoStep - 3 retriever templates - ColBERTv2, Custom, Embeddings - Evaluation templates - all metrics with examples</p> <p>Example: <pre><code>/examples rag\n# Shows complete RAG system template\n\n/examples sentiment\n# Shows sentiment analysis template\n</code></pre></p>"},{"location":"about/why-dspy-code/#10-session-management-context","title":"10. Session Management &amp; Context \ud83d\udcbe","text":"<p>What Claude Code does: - No session management - Lose context between conversations - Start fresh every time</p> <p>What DSPy Code does: - Session management - save/restore conversations - Context persistence - remembers your project - Auto-save - never lose your work - History - review past interactions</p> <p>Example: <pre><code>/session save my-project\n# Later...\n/session load my-project\n# Continues where you left off\n</code></pre></p>"},{"location":"about/why-dspy-code/#side-by-side-comparison","title":"\ud83d\udcca Side-by-Side Comparison","text":"Feature Claude Code + DSPy Repo DSPy Code DSPy Knowledge \u274c Generic \u2705 Deep, comprehensive Version Awareness \u274c None \u2705 Adapts to your version GEPA Optimization \u274c Code only \u2705 Real execution Codebase Understanding \u274c File reading \u2705 Full RAG indexing Validation \u274c Syntax only \u2705 DSPy-specific Learning \u274c Generic \u2705 DSPy-focused MCP Integration \u274c None \u2705 Built-in client Workflow Automation \u274c Manual \u2705 Complete workflows Templates \u274c None \u2705 20+ templates Session Management \u274c None \u2705 Full support"},{"location":"about/why-dspy-code/#real-world-scenarios","title":"\ud83c\udfaf Real-World Scenarios","text":""},{"location":"about/why-dspy-code/#scenario-1-learning-dspy","title":"Scenario 1: Learning DSPy","text":"<p>With Claude Code: 1. Read DSPy docs (hours) 2. Ask Claude Code generic questions 3. Get generic answers 4. Try to piece it together 5. Make mistakes, debug</p> <p>With DSPy Code: 1. Run <code>dspy-code</code> 2. Ask: \"What is ChainOfThought?\" 3. Get comprehensive answer with examples 4. Ask: \"Create a sentiment analyzer\" 5. Get working code immediately 6. Learn as you build</p> <p>Time saved: Hours \u2192 Minutes</p>"},{"location":"about/why-dspy-code/#scenario-2-building-a-rag-system","title":"Scenario 2: Building a RAG System","text":"<p>With Claude Code: 1. Research RAG patterns 2. Write code manually 3. Set up retriever 4. Configure DSPy 5. Test and debug 6. Optimize manually</p> <p>With DSPy Code: 1. <code>/init</code> 2. \"Create a RAG system for document Q&amp;A\" 3. Code generated automatically 4. <code>/validate</code> - checks everything 5. <code>/data qa 20</code> - generate training data 6. <code>/optimize</code> - real GEPA optimization 7. <code>/eval</code> - test performance</p> <p>Time saved: Days \u2192 Hours</p>"},{"location":"about/why-dspy-code/#scenario-3-optimizing-existing-code","title":"Scenario 3: Optimizing Existing Code","text":"<p>With Claude Code: 1. Manually set up GEPA 2. Write metric functions 3. Format training data 4. Run optimization 5. Debug issues 6. Interpret results</p> <p>With DSPy Code: 1. <code>/optimize my_program.py</code> 2. DSPy Code:    - Generates proper metric function    - Formats data correctly    - Runs GEPA optimization    - Shows progress    - Explains results</p> <p>Time saved: Hours \u2192 Minutes</p>"},{"location":"about/why-dspy-code/#the-bottom-line","title":"\ud83d\udca1 The Bottom Line","text":""},{"location":"about/why-dspy-code/#claude-code-dspy-repo","title":"Claude Code + DSPy Repo","text":"<ul> <li>Generic tool that happens to work with DSPy</li> <li>You do the work of understanding DSPy</li> <li>Manual setup for everything</li> <li>No specialization for DSPy workflows</li> </ul>"},{"location":"about/why-dspy-code/#dspy-code","title":"DSPy Code","text":"<ul> <li>Purpose-built for DSPy development</li> <li>Does the work of understanding DSPy for you</li> <li>Automated setup and workflows</li> <li>Deep specialization in DSPy patterns and best practices</li> </ul>"},{"location":"about/why-dspy-code/#try-it-yourself","title":"\ud83d\ude80 Try It Yourself","text":"<p>The best way to see the difference is to try it:</p> <pre><code>pip install dspy-code\ndspy-code\n</code></pre> <p>Then ask: - \"What is ChainOfThought?\" - \"Create a sentiment analyzer\" - \"How do I optimize with GEPA?\" - \"Show me all predictors\"</p> <p>You'll immediately see the difference.</p>"},{"location":"about/why-dspy-code/#learn-more","title":"\ud83d\udcda Learn More","text":"<ul> <li>Quick Start Guide</li> <li>Interactive Mode</li> <li>All Features</li> <li>MCP Integration</li> </ul> <p>Built with \u2764\ufe0f by Superagentic AI</p>"},{"location":"advanced/cicd/","title":"CI/CD Integration","text":"<p>Integrate DSPy Code into your CI/CD pipeline for automated testing, validation, and deployment.</p>"},{"location":"advanced/cicd/#overview","title":"Overview","text":"<p>This guide shows how to integrate DSPy Code into continuous integration and continuous deployment pipelines.</p>"},{"location":"advanced/cicd/#github-actions","title":"GitHub Actions","text":""},{"location":"advanced/cicd/#basic-workflow","title":"Basic Workflow","text":"<pre><code>name: DSPy Code CI\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n    branches: [main]\n\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Set up Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n\n      - name: Install DSPy Code\n        run: |\n          pip install dspy-code\n          pip install dspy\n\n      - name: Validate Code\n        run: |\n          dspy-code /validate my_program.py\n\n      - name: Run Tests\n        run: |\n          pytest tests/\n</code></pre>"},{"location":"advanced/cicd/#advanced-workflow","title":"Advanced Workflow","text":"<pre><code>name: DSPy Code CI/CD\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\nenv:\n  PYTHON_VERSION: '3.11'\n\njobs:\n  lint:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n      - name: Install dependencies\n        run: |\n          pip install flake8 black mypy\n      - name: Lint\n        run: |\n          flake8 dspy_code/\n          black --check dspy_code/\n          mypy dspy_code/\n\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n      - name: Install dependencies\n        run: |\n          pip install dspy-code dspy\n      - name: Validate programs\n        run: |\n          for file in programs/*.py; do\n            dspy-code /validate \"$file\"\n          done\n\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n      - name: Install dependencies\n        run: |\n          pip install -r requirements.txt\n          pip install pytest pytest-cov\n      - name: Run tests\n        run: |\n          pytest tests/ --cov=dspy_code --cov-report=xml\n      - name: Upload coverage\n        uses: codecov/codecov-action@v3\n        with:\n          file: ./coverage.xml\n\n  optimize:\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main'\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n      - name: Install dependencies\n        run: |\n          pip install dspy-code dspy gepa\n      - name: Optimize programs\n        env:\n          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}\n        run: |\n          dspy-code /optimize my_program.py training_data.jsonl\n\n  deploy:\n    needs: [lint, validate, test]\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main'\n    steps:\n      - uses: actions/checkout@v3\n      - name: Deploy to production\n        run: |\n          # Your deployment commands\n          echo \"Deploying to production...\"\n</code></pre>"},{"location":"advanced/cicd/#gitlab-ci","title":"GitLab CI","text":""},{"location":"advanced/cicd/#gitlab-ciyml","title":".gitlab-ci.yml","text":"<pre><code>stages:\n  - validate\n  - test\n  - optimize\n  - deploy\n\nvariables:\n  PYTHON_VERSION: \"3.11\"\n\nvalidate:\n  stage: validate\n  image: python:${PYTHON_VERSION}\n  before_script:\n    - pip install dspy-code dspy\n  script:\n    - dspy-code /validate my_program.py\n  only:\n    - merge_requests\n    - main\n\ntest:\n  stage: test\n  image: python:${PYTHON_VERSION}\n  before_script:\n    - pip install -r requirements.txt\n    - pip install pytest\n  script:\n    - pytest tests/\n  coverage: '/TOTAL.*\\s+(\\d+%)$/'\n\noptimize:\n  stage: optimize\n  image: python:${PYTHON_VERSION}\n  before_script:\n    - pip install dspy-code dspy gepa\n  script:\n    - dspy-code /optimize my_program.py training_data.jsonl\n  only:\n    - main\n  when: manual\n\ndeploy:\n  stage: deploy\n  image: python:${PYTHON_VERSION}\n  script:\n    - echo \"Deploying to production...\"\n    # Your deployment commands\n  only:\n    - main\n  when: manual\n</code></pre>"},{"location":"advanced/cicd/#jenkins","title":"Jenkins","text":""},{"location":"advanced/cicd/#jenkinsfile","title":"Jenkinsfile","text":"<pre><code>pipeline {\n    agent any\n\n    environment {\n        PYTHON_VERSION = '3.11'\n    }\n\n    stages {\n        stage('Install') {\n            steps {\n                sh '''\n                    python${PYTHON_VERSION} -m venv venv\n                    . venv/bin/activate\n                    pip install dspy-code dspy\n                '''\n            }\n        }\n\n        stage('Validate') {\n            steps {\n                sh '''\n                    . venv/bin/activate\n                    dspy-code /validate my_program.py\n                '''\n            }\n        }\n\n        stage('Test') {\n            steps {\n                sh '''\n                    . venv/bin/activate\n                    pip install pytest\n                    pytest tests/\n                '''\n            }\n        }\n\n        stage('Deploy') {\n            when {\n                branch 'main'\n            }\n            steps {\n                sh '''\n                    echo \"Deploying to production...\"\n                    # Your deployment commands\n                '''\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"advanced/cicd/#circleci","title":"CircleCI","text":""},{"location":"advanced/cicd/#circleciconfigyml","title":".circleci/config.yml","text":"<pre><code>version: 2.1\n\njobs:\n  validate:\n    docker:\n      - image: cimg/python:3.11\n    steps:\n      - checkout\n      - run:\n          name: Install dependencies\n          command: |\n            pip install dspy-code dspy\n      - run:\n          name: Validate\n          command: |\n            dspy-code /validate my_program.py\n\n  test:\n    docker:\n      - image: cimg/python:3.11\n    steps:\n      - checkout\n      - run:\n          name: Install dependencies\n          command: |\n            pip install -r requirements.txt\n            pip install pytest\n      - run:\n          name: Run tests\n          command: |\n            pytest tests/\n\nworkflows:\n  version: 2\n  validate_and_test:\n    jobs:\n      - validate\n      - test\n</code></pre>"},{"location":"advanced/cicd/#azure-devops","title":"Azure DevOps","text":""},{"location":"advanced/cicd/#azure-pipelinesyml","title":"azure-pipelines.yml","text":"<pre><code>trigger:\n  branches:\n    include:\n      - main\n      - develop\n\npool:\n  vmImage: 'ubuntu-latest'\n\nsteps:\n  - task: UsePythonVersion@0\n    inputs:\n      versionSpec: '3.11'\n\n  - script: |\n      pip install dspy-code dspy\n    displayName: 'Install dependencies'\n\n  - script: |\n      dspy-code /validate my_program.py\n    displayName: 'Validate code'\n\n  - script: |\n      pip install pytest\n      pytest tests/\n    displayName: 'Run tests'\n\n  - script: |\n      echo \"Deploying to production...\"\n    displayName: 'Deploy'\n    condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/main'))\n</code></pre>"},{"location":"advanced/cicd/#pre-commit-hooks","title":"Pre-commit Hooks","text":""},{"location":"advanced/cicd/#pre-commit-configyaml","title":".pre-commit-config.yaml","text":"<pre><code>repos:\n  - repo: local\n    hooks:\n      - id: validate-dspy\n        name: Validate DSPy Code\n        entry: dspy-code\n        args: ['/validate']\n        language: system\n        files: \\.py$\n        pass_filenames: true\n\n      - id: black\n        name: Format with Black\n        entry: black\n        language: system\n        files: \\.py$\n\n      - id: flake8\n        name: Lint with Flake8\n        entry: flake8\n        language: system\n        files: \\.py$\n</code></pre> <p>Install: <pre><code>pip install pre-commit\npre-commit install\n</code></pre></p>"},{"location":"advanced/cicd/#best-practices","title":"Best Practices","text":""},{"location":"advanced/cicd/#1-validate-early","title":"1. Validate Early","text":"<p>Run validation in CI before tests:</p> <pre><code>- name: Validate\n  run: dspy-code /validate my_program.py\n</code></pre>"},{"location":"advanced/cicd/#2-test-coverage","title":"2. Test Coverage","text":"<p>Maintain high test coverage:</p> <pre><code>- name: Test with coverage\n  run: pytest --cov=dspy_code --cov-report=xml\n</code></pre>"},{"location":"advanced/cicd/#3-optimize-on-main","title":"3. Optimize on Main","text":"<p>Only optimize on main branch:</p> <pre><code>if: github.ref == 'refs/heads/main'\n</code></pre>"},{"location":"advanced/cicd/#4-secure-secrets","title":"4. Secure Secrets","text":"<p>Use secrets for API keys:</p> <pre><code>env:\n  OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}\n</code></pre>"},{"location":"advanced/cicd/#5-parallel-jobs","title":"5. Parallel Jobs","text":"<p>Run jobs in parallel:</p> <pre><code>jobs:\n  lint:\n    # ...\n  test:\n    # ...\n  validate:\n    # ...\n</code></pre>"},{"location":"advanced/cicd/#6-conditional-deployment","title":"6. Conditional Deployment","text":"<p>Deploy only after all checks pass:</p> <pre><code>needs: [lint, test, validate]\n</code></pre>"},{"location":"advanced/cicd/#monitoring","title":"Monitoring","text":""},{"location":"advanced/cicd/#integration-tests","title":"Integration Tests","text":"<pre><code>def test_program_integration():\n    \"\"\"Test program in CI environment.\"\"\"\n    program = MyDSPyProgram()\n    result = program(input=\"test\")\n    assert result is not None\n</code></pre>"},{"location":"advanced/cicd/#performance-benchmarks","title":"Performance Benchmarks","text":"<pre><code>import time\n\ndef benchmark_program():\n    \"\"\"Benchmark program performance.\"\"\"\n    program = MyDSPyProgram()\n    start = time.time()\n    result = program(input=\"test\")\n    duration = time.time() - start\n    assert duration &lt; 5.0  # Max 5 seconds\n</code></pre>"},{"location":"advanced/cicd/#troubleshooting","title":"Troubleshooting","text":""},{"location":"advanced/cicd/#common-issues","title":"Common Issues","text":"<p>Missing Dependencies: <pre><code>- name: Install dependencies\n  run: pip install dspy-code dspy\n</code></pre></p> <p>API Key Not Set: <pre><code>env:\n  OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}\n</code></pre></p> <p>Validation Fails: Check your code with: <pre><code>dspy-code /validate my_program.py\n</code></pre></p> <p>For more details, see Deployment</p>"},{"location":"advanced/custom-modules/","title":"Custom Modules","text":"<p>Learn how to create and use custom DSPy modules in DSPy Code.</p>"},{"location":"advanced/custom-modules/#overview","title":"Overview","text":"<p>Custom modules allow you to build specialized DSPy components tailored to your specific use case. DSPy Code can help you generate, validate, and optimize custom modules.</p>"},{"location":"advanced/custom-modules/#module-structure","title":"Module Structure","text":"<p>A basic DSPy module follows this structure:</p> <pre><code>import dspy\n\nclass MyCustomModule(dspy.Module):\n    \"\"\"Description of your custom module.\"\"\"\n\n    def __init__(self):\n        super().__init__()\n        # Initialize your predictors, retrievers, etc.\n        self.predictor = dspy.Predict(\"input -&gt; output\")\n\n    def forward(self, input):\n        \"\"\"Forward pass through the module.\"\"\"\n        result = self.predictor(input=input)\n        return result\n</code></pre>"},{"location":"advanced/custom-modules/#creating-custom-modules","title":"Creating Custom Modules","text":""},{"location":"advanced/custom-modules/#using-dspy-code","title":"Using DSPy Code","text":"<p>Natural Language: <pre><code>dspy-code\n&gt; Create a custom module for document summarization with title and summary outputs\n</code></pre></p> <p>Slash Command: <pre><code>/create module document summarizer with text input and title, summary outputs\n</code></pre></p>"},{"location":"advanced/custom-modules/#manual-creation","title":"Manual Creation","text":"<ol> <li> <p>Define the Signature: <pre><code>class SummarizationSignature(dspy.Signature):\n    \"\"\"Summarize a document.\"\"\"\n    document: str = dspy.InputField(desc=\"Document to summarize\")\n    title: str = dspy.OutputField(desc=\"Document title\")\n    summary: str = dspy.OutputField(desc=\"Document summary\")\n</code></pre></p> </li> <li> <p>Create the Module: <pre><code>class DocumentSummarizer(dspy.Module):\n    \"\"\"Document summarization module.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.summarize = dspy.ChainOfThought(SummarizationSignature)\n\n    def forward(self, document):\n        return self.summarize(document=document)\n</code></pre></p> </li> </ol>"},{"location":"advanced/custom-modules/#advanced-patterns","title":"Advanced Patterns","text":""},{"location":"advanced/custom-modules/#multi-step-reasoning","title":"Multi-Step Reasoning","text":"<pre><code>class MultiStepReasoning(dspy.Module):\n    \"\"\"Module with multiple reasoning steps.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.analyze = dspy.ChainOfThought(\"input -&gt; analysis\")\n        self.synthesize = dspy.ChainOfThought(\"analysis -&gt; conclusion\")\n\n    def forward(self, input):\n        analysis = self.analyze(input=input)\n        conclusion = self.synthesize(analysis=analysis.analysis)\n        return conclusion\n</code></pre>"},{"location":"advanced/custom-modules/#retrieval-augmented","title":"Retrieval-Augmented","text":"<pre><code>class RAGModule(dspy.Module):\n    \"\"\"Module with retrieval augmentation.\"\"\"\n    def __init__(self, k=3):\n        super().__init__()\n        self.retrieve = dspy.Retrieve(k=k)\n        self.answer = dspy.ChainOfThought(\"context, question -&gt; answer\")\n\n    def forward(self, question):\n        passages = self.retrieve(question)\n        context = \"\\n\\n\".join([p.text for p in passages])\n        return self.answer(context=context, question=question)\n</code></pre>"},{"location":"advanced/custom-modules/#tool-using-modules","title":"Tool-Using Modules","text":"<pre><code>class ToolUsingModule(dspy.Module):\n    \"\"\"Module that uses external tools.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.react = dspy.ReAct(\"task -&gt; thought, action, observation -&gt; result\")\n\n    def forward(self, task):\n        # ReAct automatically handles tool usage\n        return self.react(task=task)\n</code></pre>"},{"location":"advanced/custom-modules/#conditional-logic","title":"Conditional Logic","text":"<pre><code>class ConditionalModule(dspy.Module):\n    \"\"\"Module with conditional logic.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.classify = dspy.Predict(\"input -&gt; category\")\n        self.process_a = dspy.ChainOfThought(\"input -&gt; output\")\n        self.process_b = dspy.ChainOfThought(\"input -&gt; output\")\n\n    def forward(self, input):\n        category = self.classify(input=input)\n\n        if category.category == \"type_a\":\n            return self.process_a(input=input)\n        else:\n            return self.process_b(input=input)\n</code></pre>"},{"location":"advanced/custom-modules/#module-composition","title":"Module Composition","text":""},{"location":"advanced/custom-modules/#sequential-composition","title":"Sequential Composition","text":"<pre><code>class Pipeline(dspy.Module):\n    \"\"\"Compose multiple modules sequentially.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.step1 = Module1()\n        self.step2 = Module2()\n        self.step3 = Module3()\n\n    def forward(self, input):\n        result1 = self.step1(input)\n        result2 = self.step2(result1)\n        result3 = self.step3(result2)\n        return result3\n</code></pre>"},{"location":"advanced/custom-modules/#parallel-composition","title":"Parallel Composition","text":"<pre><code>class ParallelModule(dspy.Module):\n    \"\"\"Run multiple modules in parallel.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.branch_a = ModuleA()\n        self.branch_b = ModuleB()\n        self.merge = dspy.ChainOfThought(\"result_a, result_b -&gt; merged\")\n\n    def forward(self, input):\n        result_a = self.branch_a(input)\n        result_b = self.branch_b(input)\n        return self.merge(result_a=result_a, result_b=result_b)\n</code></pre>"},{"location":"advanced/custom-modules/#using-custom-modules","title":"Using Custom Modules","text":""},{"location":"advanced/custom-modules/#save-your-module","title":"Save Your Module","text":"<pre><code>dspy-code\n&gt; /save my_custom_module.py\n</code></pre>"},{"location":"advanced/custom-modules/#import-and-use","title":"Import and Use","text":"<pre><code>from my_custom_module import MyCustomModule\n\nmodule = MyCustomModule()\nresult = module(input=\"your input here\")\n</code></pre>"},{"location":"advanced/custom-modules/#validate","title":"Validate","text":"<pre><code>dspy-code\n&gt; /validate my_custom_module.py\n</code></pre>"},{"location":"advanced/custom-modules/#optimization","title":"Optimization","text":""},{"location":"advanced/custom-modules/#optimize-custom-modules","title":"Optimize Custom Modules","text":"<pre><code>dspy-code\n&gt; /optimize my_custom_module.py training_data.jsonl\n</code></pre>"},{"location":"advanced/custom-modules/#custom-metrics","title":"Custom Metrics","text":"<pre><code>def my_custom_metric(example, pred, trace=None):\n    \"\"\"Define your custom metric.\"\"\"\n    # Your evaluation logic\n    score = calculate_score(example, pred)\n    return score\n</code></pre>"},{"location":"advanced/custom-modules/#best-practices","title":"Best Practices","text":"<ol> <li>Clear Signatures - Define clear input/output fields</li> <li>Documentation - Add docstrings to all modules</li> <li>Type Hints - Use type hints for better IDE support</li> <li>Testing - Test modules with sample inputs</li> <li>Validation - Use <code>/validate</code> before optimization</li> <li>Versioning - Track module versions</li> <li>Reusability - Design modules to be reusable</li> </ol>"},{"location":"advanced/custom-modules/#integration-with-dspy-code","title":"Integration with DSPy Code","text":""},{"location":"advanced/custom-modules/#generate-from-description","title":"Generate from Description","text":"<pre><code>Create a module for [your use case] with [inputs] and [outputs]\n</code></pre>"},{"location":"advanced/custom-modules/#validate-before-use","title":"Validate Before Use","text":"<pre><code>/validate my_module.py\n</code></pre>"},{"location":"advanced/custom-modules/#optimize-for-production","title":"Optimize for Production","text":"<pre><code>/optimize my_module.py training_data.jsonl\n</code></pre>"},{"location":"advanced/custom-modules/#export-for-sharing","title":"Export for Sharing","text":"<pre><code>/export my_module.py\n</code></pre>"},{"location":"advanced/custom-modules/#examples","title":"Examples","text":"<p>See the <code>examples/</code> directory for complete custom module examples:</p> <ul> <li>Email classifier</li> <li>Document analyzer</li> <li>Multi-agent systems</li> <li>Tool-using agents</li> </ul>"},{"location":"advanced/custom-modules/#troubleshooting","title":"Troubleshooting","text":""},{"location":"advanced/custom-modules/#module-not-found","title":"Module Not Found","text":"<p>Ensure your module is in the Python path or current directory.</p>"},{"location":"advanced/custom-modules/#import-errors","title":"Import Errors","text":"<p>Check that all dependencies are installed: <pre><code>pip install dspy\n</code></pre></p>"},{"location":"advanced/custom-modules/#validation-errors","title":"Validation Errors","text":"<p>Use <code>/validate</code> to check for common issues: - Missing signatures - Incorrect field types - Import problems</p> <p>For more details, see Generating Code and Optimization</p>"},{"location":"advanced/deployment/","title":"Deployment","text":"<p>Guide to deploying DSPy programs built with DSPy Code to production.</p>"},{"location":"advanced/deployment/#overview","title":"Overview","text":"<p>This guide covers deploying DSPy programs created with DSPy Code to production environments.</p>"},{"location":"advanced/deployment/#pre-deployment-checklist","title":"Pre-Deployment Checklist","text":""},{"location":"advanced/deployment/#1-code-validation","title":"1. Code Validation","text":"<p>Ensure your code is validated:</p> <pre><code>dspy-code\n&gt; /validate my_program.py\n</code></pre> <p>Check for: - Syntax errors - Missing imports - Incorrect signatures - Best practice violations</p>"},{"location":"advanced/deployment/#2-optimization","title":"2. Optimization","text":"<p>Optimize your program for production:</p> <pre><code>dspy-code\n&gt; /optimize my_program.py training_data.jsonl\n</code></pre> <p>Benefits: - Better performance - Reduced latency - Lower costs - Improved accuracy</p>"},{"location":"advanced/deployment/#3-testing","title":"3. Testing","text":"<p>Test thoroughly before deployment:</p> <pre><code>dspy-code\n&gt; /run my_program.py --test-file test_data.jsonl\n</code></pre> <p>Test Coverage: - Edge cases - Error handling - Performance benchmarks - Integration tests</p>"},{"location":"advanced/deployment/#deployment-options","title":"Deployment Options","text":""},{"location":"advanced/deployment/#option-1-python-package","title":"Option 1: Python Package","text":"<p>Package your DSPy program as a Python package.</p> <p>Structure: <pre><code>my_dspy_app/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 program.py\n\u251c\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 setup.py\n\u2514\u2500\u2500 README.md\n</code></pre></p> <p>requirements.txt: <pre><code>dspy&gt;=3.0.0\nopenai&gt;=1.0.0\nanthropic&gt;=0.18.0\n</code></pre></p> <p>Install: <pre><code>pip install -e .\n</code></pre></p>"},{"location":"advanced/deployment/#option-2-docker-container","title":"Option 2: Docker Container","text":"<p>Containerize your DSPy application.</p> <p>Dockerfile: <pre><code>FROM python:3.11-slim\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\n\nCMD [\"python\", \"my_program.py\"]\n</code></pre></p> <p>Build: <pre><code>docker build -t my-dspy-app .\n</code></pre></p> <p>Run: <pre><code>docker run -e OPENAI_API_KEY=$OPENAI_API_KEY my-dspy-app\n</code></pre></p>"},{"location":"advanced/deployment/#option-3-api-service","title":"Option 3: API Service","text":"<p>Deploy as a REST API using FastAPI or Flask.</p> <p>FastAPI Example: <pre><code>from fastapi import FastAPI\nfrom my_program import MyDSPyProgram\n\napp = FastAPI()\nprogram = MyDSPyProgram()\n\n@app.post(\"/predict\")\nasync def predict(input_data: dict):\n    result = program(**input_data)\n    return {\"result\": result}\n</code></pre></p> <p>Deploy: <pre><code>uvicorn app:app --host 0.0.0.0 --port 8000\n</code></pre></p>"},{"location":"advanced/deployment/#option-4-serverless","title":"Option 4: Serverless","text":"<p>Deploy to serverless platforms.</p>"},{"location":"advanced/deployment/#aws-lambda","title":"AWS Lambda","text":"<pre><code>import json\nfrom my_program import MyDSPyProgram\n\nprogram = MyDSPyProgram()\n\ndef lambda_handler(event, context):\n    input_data = json.loads(event['body'])\n    result = program(**input_data)\n    return {\n        'statusCode': 200,\n        'body': json.dumps(result)\n    }\n</code></pre>"},{"location":"advanced/deployment/#google-cloud-functions","title":"Google Cloud Functions","text":"<pre><code>from my_program import MyDSPyProgram\n\nprogram = MyDSPyProgram()\n\ndef predict(request):\n    input_data = request.get_json()\n    result = program(**input_data)\n    return {'result': result}\n</code></pre>"},{"location":"advanced/deployment/#environment-configuration","title":"Environment Configuration","text":""},{"location":"advanced/deployment/#environment-variables","title":"Environment Variables","text":"<p>Set required environment variables:</p> <pre><code>export OPENAI_API_KEY=\"sk-...\"\nexport ANTHROPIC_API_KEY=\"sk-ant-...\"\nexport DSPY_MODEL=\"gpt-4o\"\n</code></pre>"},{"location":"advanced/deployment/#configuration-files","title":"Configuration Files","text":"<p>Use <code>dspy_config.yaml</code> for deployment:</p> <pre><code>models:\n  default: production-model\n  providers:\n    - name: production-model\n      type: openai\n      model: gpt-4o\n      api_key: ${OPENAI_API_KEY}\n</code></pre>"},{"location":"advanced/deployment/#monitoring-logging","title":"Monitoring &amp; Logging","text":""},{"location":"advanced/deployment/#logging-setup","title":"Logging Setup","text":"<pre><code>import logging\n\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n\nlogger = logging.getLogger(__name__)\n</code></pre>"},{"location":"advanced/deployment/#metrics-collection","title":"Metrics Collection","text":"<p>Track key metrics: - Request latency - Token usage - Error rates - Cost per request</p>"},{"location":"advanced/deployment/#performance-optimization","title":"Performance Optimization","text":""},{"location":"advanced/deployment/#caching","title":"Caching","text":"<p>Cache frequent requests:</p> <pre><code>from functools import lru_cache\n\n@lru_cache(maxsize=100)\ndef cached_prediction(input_text):\n    return program(input_text)\n</code></pre>"},{"location":"advanced/deployment/#batch-processing","title":"Batch Processing","text":"<p>Process multiple inputs together:</p> <pre><code>def batch_predict(inputs):\n    results = []\n    for input in inputs:\n        results.append(program(**input))\n    return results\n</code></pre>"},{"location":"advanced/deployment/#async-processing","title":"Async Processing","text":"<p>Use async for better concurrency:</p> <pre><code>import asyncio\n\nasync def async_predict(input_data):\n    return await asyncio.to_thread(program, **input_data)\n</code></pre>"},{"location":"advanced/deployment/#security-best-practices","title":"Security Best Practices","text":""},{"location":"advanced/deployment/#api-key-management","title":"API Key Management","text":"<ul> <li>Never commit API keys</li> <li>Use environment variables</li> <li>Rotate keys regularly</li> <li>Use least privilege access</li> </ul>"},{"location":"advanced/deployment/#input-validation","title":"Input Validation","text":"<pre><code>def validate_input(input_data):\n    if not isinstance(input_data, dict):\n        raise ValueError(\"Input must be a dictionary\")\n    # Additional validation\n    return input_data\n</code></pre>"},{"location":"advanced/deployment/#rate-limiting","title":"Rate Limiting","text":"<p>Implement rate limiting to prevent abuse:</p> <pre><code>from functools import wraps\nimport time\n\ndef rate_limit(max_calls=100, period=60):\n    calls = []\n\n    def decorator(func):\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            now = time.time()\n            calls[:] = [c for c in calls if c &gt; now - period]\n            if len(calls) &gt;= max_calls:\n                raise Exception(\"Rate limit exceeded\")\n            calls.append(now)\n            return func(*args, **kwargs)\n        return wrapper\n    return decorator\n</code></pre>"},{"location":"advanced/deployment/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"advanced/deployment/#github-actions","title":"GitHub Actions","text":"<pre><code>name: Deploy DSPy App\n\non:\n  push:\n    branches: [main]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n      - name: Install dependencies\n        run: |\n          pip install -r requirements.txt\n      - name: Validate\n        run: |\n          dspy-code /validate my_program.py\n      - name: Deploy\n        run: |\n          # Your deployment commands\n</code></pre>"},{"location":"advanced/deployment/#scaling-considerations","title":"Scaling Considerations","text":""},{"location":"advanced/deployment/#horizontal-scaling","title":"Horizontal Scaling","text":"<ul> <li>Use load balancers</li> <li>Deploy multiple instances</li> <li>Use message queues for async processing</li> </ul>"},{"location":"advanced/deployment/#vertical-scaling","title":"Vertical Scaling","text":"<ul> <li>Increase compute resources</li> <li>Optimize model selection</li> <li>Use caching strategies</li> </ul>"},{"location":"advanced/deployment/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Monitor token usage</li> <li>Use appropriate models for tasks</li> <li>Implement caching</li> <li>Batch requests when possible</li> </ul>"},{"location":"advanced/deployment/#troubleshooting","title":"Troubleshooting","text":""},{"location":"advanced/deployment/#common-issues","title":"Common Issues","text":"<p>Import Errors: <pre><code>pip install -r requirements.txt\n</code></pre></p> <p>API Key Issues: <pre><code>export OPENAI_API_KEY=\"your-key\"\n</code></pre></p> <p>Model Connection: <pre><code>dspy-code\n&gt; /connect openai gpt-4o\n</code></pre></p>"},{"location":"advanced/deployment/#best-practices","title":"Best Practices","text":"<ol> <li>Validate Before Deploy - Always validate code</li> <li>Optimize for Production - Use GEPA optimization</li> <li>Monitor Performance - Track metrics</li> <li>Secure Secrets - Never commit API keys</li> <li>Test Thoroughly - Comprehensive testing</li> <li>Document Deployment - Clear deployment docs</li> <li>Version Control - Track deployments</li> <li>Rollback Plan - Prepare for issues</li> </ol> <p>For more details, see CI/CD Integration</p>"},{"location":"advanced/mcp-integration/","title":"MCP Integration","text":"<p>Learn how to integrate Model Context Protocol (MCP) servers with DSPy Code for extended capabilities.</p>"},{"location":"advanced/mcp-integration/#what-is-mcp","title":"What is MCP?","text":"<p>Model Context Protocol (MCP) is a standardized protocol that allows AI applications to:</p> <ul> <li>Access external tools and APIs</li> <li>Read from various data sources</li> <li>Execute commands and scripts</li> <li>Integrate with third-party services</li> </ul> <p>In DSPy Code, MCP enables your DSPy programs to:</p> <ul> <li>Query databases</li> <li>Search the web</li> <li>Read files and documents</li> <li>Call external APIs</li> <li>Execute system commands</li> </ul>"},{"location":"advanced/mcp-integration/#mcp-architecture","title":"MCP Architecture","text":"<pre><code>DSPy Code\n    \u2193\nMCP Client\n    \u2193\nMCP Server (stdio/SSE)\n    \u2193\nTools / Resources / Prompts\n</code></pre>"},{"location":"advanced/mcp-integration/#components","title":"Components","text":"<p>1. MCP Server:</p> <ul> <li>Provides tools, resources, and prompts</li> <li>Can be local (stdio) or remote (SSE)</li> <li>Implements MCP protocol</li> </ul> <p>2. MCP Client:</p> <ul> <li>Connects to MCP servers</li> <li>Manages sessions</li> <li>Routes requests</li> </ul> <p>3. Tools:</p> <ul> <li>Functions that can be called</li> <li>Take parameters, return results</li> <li>Examples: search, calculate, query</li> </ul> <p>4. Resources:</p> <ul> <li>Data sources that can be read</li> <li>Files, databases, APIs</li> <li>Examples: documents, configs</li> </ul> <p>5. Prompts:</p> <ul> <li>Pre-defined prompt templates</li> <li>Can include dynamic data</li> <li>Examples: analysis templates</li> </ul>"},{"location":"advanced/mcp-integration/#quick-start","title":"Quick Start","text":""},{"location":"advanced/mcp-integration/#step-1-add-an-mcp-server","title":"Step 1: Add an MCP Server","text":"<p>Add a server configuration:</p> <pre><code>/mcp-add my-server --transport stdio --command \"python server.py\"\n</code></pre> <p>Parameters:</p> <ul> <li><code>name</code>: Server identifier</li> <li><code>--transport</code>: <code>stdio</code> or <code>sse</code></li> <li><code>--command</code>: Command to start server (for stdio)</li> <li><code>--url</code>: Server URL (for SSE)</li> </ul>"},{"location":"advanced/mcp-integration/#step-2-connect-to-server","title":"Step 2: Connect to Server","text":"<pre><code>/mcp-connect my-server\n</code></pre> <p>DSPy Code establishes connection and discovers available tools.</p>"},{"location":"advanced/mcp-integration/#step-3-list-available-tools","title":"Step 3: List Available Tools","text":"<pre><code>/mcp-tools my-server\n</code></pre> <p>Example output:</p> <pre><code>Available tools from my-server:\n\n1. search_web\n   Description: Search the web for information\n   Parameters:\n     - query (string): Search query\n     - max_results (integer): Maximum results (default: 10)\n\n2. read_file\n   Description: Read contents of a file\n   Parameters:\n     - path (string): File path\n\n3. execute_python\n   Description: Execute Python code\n   Parameters:\n     - code (string): Python code to execute\n</code></pre>"},{"location":"advanced/mcp-integration/#step-4-use-tools-in-dspy-programs","title":"Step 4: Use Tools in DSPy Programs","text":"<p>Generate code that uses MCP tools:</p> <pre><code>Create a module that searches the web and summarizes results\n</code></pre> <p>DSPy Code generates code with MCP integration!</p>"},{"location":"advanced/mcp-integration/#mcp-server-types","title":"MCP Server Types","text":""},{"location":"advanced/mcp-integration/#1-stdio-transport","title":"1. stdio Transport","text":"<p>Local servers that communicate via standard input/output.</p> <p>Add stdio server:</p> <pre><code>/mcp-add local-tools --transport stdio --command \"python tools_server.py\"\n</code></pre> <p>Configuration in <code>dspy_config.yaml</code>:</p> <pre><code>mcp_servers:\n  local-tools:\n    transport: stdio\n    command: python tools_server.py\n    args: []\n    env: {}\n</code></pre> <p>Example server (<code>tools_server.py</code>):</p> <pre><code>import sys\nimport json\nfrom mcp.server import Server\nfrom mcp.server.stdio import stdio_server\n\napp = Server(\"local-tools\")\n\n@app.list_tools()\nasync def list_tools():\n    return [\n        {\n            \"name\": \"calculate\",\n            \"description\": \"Perform calculations\",\n            \"inputSchema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"expression\": {\"type\": \"string\"}\n                },\n                \"required\": [\"expression\"]\n            }\n        }\n    ]\n\n@app.call_tool()\nasync def call_tool(name, arguments):\n    if name == \"calculate\":\n        result = eval(arguments[\"expression\"])\n        return {\"result\": result}\n\nasync def main():\n    async with stdio_server() as streams:\n        await app.run(\n            streams[0],\n            streams[1],\n            app.create_initialization_options()\n        )\n\nif __name__ == \"__main__\":\n    import asyncio\n    asyncio.run(main())\n</code></pre>"},{"location":"advanced/mcp-integration/#2-sse-transport","title":"2. SSE Transport","text":"<p>Remote servers that communicate via Server-Sent Events over HTTP.</p> <p>Add SSE server:</p> <pre><code>/mcp-add remote-api --transport sse --url \"http://api.example.com/mcp\"\n</code></pre> <p>Configuration:</p> <pre><code>mcp_servers:\n  remote-api:\n    transport: sse\n    url: http://api.example.com/mcp\n    headers:\n      Authorization: Bearer YOUR_TOKEN\n</code></pre>"},{"location":"advanced/mcp-integration/#working-with-mcp-tools","title":"Working with MCP Tools","text":""},{"location":"advanced/mcp-integration/#discovering-tools","title":"Discovering Tools","text":"<p>List all tools:</p> <pre><code>/mcp-tools\n</code></pre> <p>List tools from specific server:</p> <pre><code>/mcp-tools my-server\n</code></pre> <p>Tool information includes:</p> <ul> <li>Name</li> <li>Description</li> <li>Input schema (parameters)</li> <li>Output format</li> </ul>"},{"location":"advanced/mcp-integration/#calling-tools","title":"Calling Tools","text":"<p>From DSPy Code:</p> <pre><code>/mcp-call my-server search_web query=\"DSPy framework\" max_results=5\n</code></pre> <p>From DSPy Programs:</p> <pre><code>import dspy\nfrom dspy_code.mcp import MCPClientManager\n\nclass WebSearchModule(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n        self.summarizer = dspy.ChainOfThought(\"context, query -&gt; summary\")\n\n    async def forward(self, query):\n        # Call MCP tool\n        results = await self.mcp.call_tool(\n            server=\"my-server\",\n            tool=\"search_web\",\n            arguments={\"query\": query, \"max_results\": 5}\n        )\n\n        # Process with DSPy\n        context = \"\\n\".join([r[\"snippet\"] for r in results])\n        summary = self.summarizer(context=context, query=query)\n\n        return summary\n</code></pre>"},{"location":"advanced/mcp-integration/#tool-parameters","title":"Tool Parameters","text":"<p>Required parameters:</p> <pre><code>arguments = {\n    \"query\": \"machine learning\",  # Required\n    \"max_results\": 10             # Optional with default\n}\n</code></pre> <p>Schema validation:</p> <p>MCP validates parameters against the tool's input schema.</p>"},{"location":"advanced/mcp-integration/#working-with-mcp-resources","title":"Working with MCP Resources","text":""},{"location":"advanced/mcp-integration/#discovering-resources","title":"Discovering Resources","text":"<p>List all resources:</p> <pre><code>/mcp-resources\n</code></pre> <p>List resources from specific server:</p> <pre><code>/mcp-resources my-server\n</code></pre> <p>Resource information includes:</p> <ul> <li>URI</li> <li>Name</li> <li>Description</li> <li>MIME type</li> </ul>"},{"location":"advanced/mcp-integration/#reading-resources","title":"Reading Resources","text":"<p>From DSPy Code:</p> <pre><code>/mcp-read my-server file:///path/to/document.txt\n</code></pre> <p>From DSPy Programs:</p> <pre><code>class DocumentAnalyzer(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n        self.analyzer = dspy.ChainOfThought(\"document -&gt; analysis\")\n\n    async def forward(self, resource_uri):\n        # Read resource\n        content = await self.mcp.read_resource(\n            server=\"my-server\",\n            uri=resource_uri\n        )\n\n        # Analyze with DSPy\n        analysis = self.analyzer(document=content)\n\n        return analysis\n</code></pre>"},{"location":"advanced/mcp-integration/#working-with-mcp-prompts","title":"Working with MCP Prompts","text":""},{"location":"advanced/mcp-integration/#discovering-prompts","title":"Discovering Prompts","text":"<p>List all prompts:</p> <pre><code>/mcp-prompts\n</code></pre> <p>Prompt information includes:</p> <ul> <li>Name</li> <li>Description</li> <li>Arguments</li> <li>Template</li> </ul>"},{"location":"advanced/mcp-integration/#using-prompts","title":"Using Prompts","text":"<p>Get prompt:</p> <pre><code>/mcp-prompt my-server analysis-template topic=\"AI safety\"\n</code></pre> <p>From DSPy Programs:</p> <pre><code>class TemplatedAnalysis(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n        self.executor = dspy.Predict(\"prompt -&gt; response\")\n\n    async def forward(self, topic):\n        # Get prompt template\n        prompt = await self.mcp.get_prompt(\n            server=\"my-server\",\n            name=\"analysis-template\",\n            arguments={\"topic\": topic}\n        )\n\n        # Execute with DSPy\n        response = self.executor(prompt=prompt)\n\n        return response\n</code></pre>"},{"location":"advanced/mcp-integration/#advanced-mcp-usage","title":"Advanced MCP Usage","text":""},{"location":"advanced/mcp-integration/#multiple-servers","title":"Multiple Servers","text":"<p>Connect to multiple MCP servers:</p> <pre><code>/mcp-add web-tools --transport stdio --command \"python web_server.py\"\n/mcp-add db-tools --transport stdio --command \"python db_server.py\"\n/mcp-add api-tools --transport sse --url \"http://api.example.com/mcp\"\n\n/mcp-connect web-tools\n/mcp-connect db-tools\n/mcp-connect api-tools\n</code></pre> <p>Use in programs:</p> <pre><code>class MultiSourceAnalyzer(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n        self.analyzer = dspy.ChainOfThought(\"data -&gt; insights\")\n\n    async def forward(self, query):\n        # Get data from multiple sources\n        web_data = await self.mcp.call_tool(\n            \"web-tools\", \"search\", {\"query\": query}\n        )\n\n        db_data = await self.mcp.call_tool(\n            \"db-tools\", \"query\", {\"sql\": f\"SELECT * FROM data WHERE topic='{query}'\"}\n        )\n\n        api_data = await self.mcp.call_tool(\n            \"api-tools\", \"fetch\", {\"endpoint\": f\"/data/{query}\"}\n        )\n\n        # Combine and analyze\n        all_data = {\n            \"web\": web_data,\n            \"database\": db_data,\n            \"api\": api_data\n        }\n\n        insights = self.analyzer(data=str(all_data))\n        return insights\n</code></pre>"},{"location":"advanced/mcp-integration/#error-handling","title":"Error Handling","text":"<p>Handle MCP errors:</p> <pre><code>from dspy_code.mcp.exceptions import MCPError, MCPConnectionError, MCPToolError\n\nclass RobustMCPModule(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n        self.processor = dspy.Predict(\"input -&gt; output\")\n\n    async def forward(self, query):\n        try:\n            # Try MCP tool\n            data = await self.mcp.call_tool(\n                \"my-server\", \"search\", {\"query\": query}\n            )\n        except MCPConnectionError:\n            # Server not connected\n            return {\"error\": \"MCP server not available\"}\n        except MCPToolError as e:\n            # Tool execution failed\n            return {\"error\": f\"Tool failed: {e}\"}\n        except MCPError as e:\n            # Other MCP error\n            return {\"error\": f\"MCP error: {e}\"}\n\n        # Process data\n        result = self.processor(input=data)\n        return result\n</code></pre>"},{"location":"advanced/mcp-integration/#asyncawait-pattern","title":"Async/Await Pattern","text":"<p>MCP operations are asynchronous:</p> <pre><code>import asyncio\n\nclass AsyncMCPModule(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n\n    async def forward(self, query):\n        # Parallel MCP calls\n        results = await asyncio.gather(\n            self.mcp.call_tool(\"server1\", \"tool1\", {\"q\": query}),\n            self.mcp.call_tool(\"server2\", \"tool2\", {\"q\": query}),\n            self.mcp.call_tool(\"server3\", \"tool3\", {\"q\": query})\n        )\n\n        return results\n\n# Usage\nasync def main():\n    module = AsyncMCPModule(mcp_manager)\n    result = await module(query=\"test\")\n    print(result)\n\nasyncio.run(main())\n</code></pre>"},{"location":"advanced/mcp-integration/#creating-custom-mcp-servers","title":"Creating Custom MCP Servers","text":""},{"location":"advanced/mcp-integration/#basic-server-template","title":"Basic Server Template","text":"<pre><code>from mcp.server import Server\nfrom mcp.server.stdio import stdio_server\nimport asyncio\n\n# Create server\napp = Server(\"my-custom-server\")\n\n# Define tools\n@app.list_tools()\nasync def list_tools():\n    return [\n        {\n            \"name\": \"my_tool\",\n            \"description\": \"Does something useful\",\n            \"inputSchema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"param1\": {\n                        \"type\": \"string\",\n                        \"description\": \"First parameter\"\n                    },\n                    \"param2\": {\n                        \"type\": \"integer\",\n                        \"description\": \"Second parameter\"\n                    }\n                },\n                \"required\": [\"param1\"]\n            }\n        }\n    ]\n\n# Implement tool\n@app.call_tool()\nasync def call_tool(name, arguments):\n    if name == \"my_tool\":\n        param1 = arguments[\"param1\"]\n        param2 = arguments.get(\"param2\", 0)\n\n        # Do something\n        result = f\"Processed {param1} with {param2}\"\n\n        return {\"result\": result}\n\n    raise ValueError(f\"Unknown tool: {name}\")\n\n# Define resources\n@app.list_resources()\nasync def list_resources():\n    return [\n        {\n            \"uri\": \"file:///data/example.txt\",\n            \"name\": \"Example Data\",\n            \"description\": \"Example data file\",\n            \"mimeType\": \"text/plain\"\n        }\n    ]\n\n# Implement resource reading\n@app.read_resource()\nasync def read_resource(uri):\n    if uri == \"file:///data/example.txt\":\n        with open(\"/path/to/example.txt\") as f:\n            content = f.read()\n        return {\n            \"contents\": [\n                {\n                    \"uri\": uri,\n                    \"mimeType\": \"text/plain\",\n                    \"text\": content\n                }\n            ]\n        }\n\n    raise ValueError(f\"Unknown resource: {uri}\")\n\n# Run server\nasync def main():\n    async with stdio_server() as streams:\n        await app.run(\n            streams[0],\n            streams[1],\n            app.create_initialization_options()\n        )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre>"},{"location":"advanced/mcp-integration/#server-with-database-access","title":"Server with Database Access","text":"<pre><code>from mcp.server import Server\nfrom mcp.server.stdio import stdio_server\nimport sqlite3\nimport json\n\napp = Server(\"database-server\")\n\n# Database connection\nconn = sqlite3.connect(\"data.db\")\n\n@app.list_tools()\nasync def list_tools():\n    return [\n        {\n            \"name\": \"query\",\n            \"description\": \"Execute SQL query\",\n            \"inputSchema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"sql\": {\"type\": \"string\"}\n                },\n                \"required\": [\"sql\"]\n            }\n        }\n    ]\n\n@app.call_tool()\nasync def call_tool(name, arguments):\n    if name == \"query\":\n        sql = arguments[\"sql\"]\n\n        # Execute query\n        cursor = conn.cursor()\n        cursor.execute(sql)\n        rows = cursor.fetchall()\n\n        # Format results\n        columns = [desc[0] for desc in cursor.description]\n        results = [dict(zip(columns, row)) for row in rows]\n\n        return {\"results\": results}\n\n# ... rest of server code\n</code></pre>"},{"location":"advanced/mcp-integration/#mcp-configuration","title":"MCP Configuration","text":""},{"location":"advanced/mcp-integration/#server-configuration","title":"Server Configuration","text":"<p><code>dspy_config.yaml</code>:</p> <pre><code>mcp_servers:\n  # stdio server\n  local-tools:\n    transport: stdio\n    command: python\n    args:\n      - tools_server.py\n    env:\n      PYTHONPATH: /path/to/modules\n\n  # SSE server\n  remote-api:\n    transport: sse\n    url: https://api.example.com/mcp\n    headers:\n      Authorization: Bearer ${API_TOKEN}\n      X-Custom-Header: value\n\n  # Another stdio server\n  database:\n    transport: stdio\n    command: node\n    args:\n      - db_server.js\n    working_dir: /path/to/server\n</code></pre>"},{"location":"advanced/mcp-integration/#environment-variables","title":"Environment Variables","text":"<p>Use environment variables in configuration:</p> <pre><code>mcp_servers:\n  api-server:\n    transport: sse\n    url: ${MCP_API_URL}\n    headers:\n      Authorization: Bearer ${MCP_API_TOKEN}\n</code></pre> <p>Set in environment:</p> <pre><code>export MCP_API_URL=\"https://api.example.com/mcp\"\nexport MCP_API_TOKEN=\"your-token-here\"\n</code></pre>"},{"location":"advanced/mcp-integration/#best-practices","title":"Best Practices","text":""},{"location":"advanced/mcp-integration/#1-server-lifecycle","title":"1. Server Lifecycle","text":"<p>Connect when needed:</p> <pre><code># Connect at module initialization\nclass MyModule(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n        # Server should already be connected\n</code></pre> <p>Disconnect when done:</p> <pre><code>/mcp-disconnect my-server\n</code></pre>"},{"location":"advanced/mcp-integration/#2-error-handling","title":"2. Error Handling","text":"<p>Always handle MCP errors:</p> <pre><code>try:\n    result = await mcp.call_tool(server, tool, args)\nexcept MCPError as e:\n    # Handle error\n    logger.error(f\"MCP error: {e}\")\n    result = None\n</code></pre>"},{"location":"advanced/mcp-integration/#3-timeouts","title":"3. Timeouts","text":"<p>Set timeouts for MCP calls:</p> <pre><code>import asyncio\n\ntry:\n    result = await asyncio.wait_for(\n        mcp.call_tool(server, tool, args),\n        timeout=30.0\n    )\nexcept asyncio.TimeoutError:\n    # Handle timeout\n    result = None\n</code></pre>"},{"location":"advanced/mcp-integration/#4-caching","title":"4. Caching","text":"<p>Cache MCP results when appropriate:</p> <pre><code>from functools import lru_cache\n\nclass CachedMCPModule(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n\n    @lru_cache(maxsize=100)\n    async def cached_call(self, server, tool, args_tuple):\n        args = dict(args_tuple)\n        return await self.mcp.call_tool(server, tool, args)\n\n    async def forward(self, query):\n        # Convert args to hashable tuple for caching\n        args_tuple = tuple(sorted({\"query\": query}.items()))\n        result = await self.cached_call(\"server\", \"search\", args_tuple)\n        return result\n</code></pre>"},{"location":"advanced/mcp-integration/#5-resource-management","title":"5. Resource Management","text":"<p>Clean up resources:</p> <pre><code>class ResourceAwareMCPModule(dspy.Module):\n    def __init__(self, mcp_manager):\n        super().__init__()\n        self.mcp = mcp_manager\n\n    async def __aenter__(self):\n        # Setup\n        await self.mcp.connect(\"my-server\")\n        return self\n\n    async def __aexit__(self, exc_type, exc_val, exc_tb):\n        # Cleanup\n        await self.mcp.disconnect(\"my-server\")\n\n# Usage\nasync with ResourceAwareMCPModule(mcp_manager) as module:\n    result = await module(query=\"test\")\n</code></pre>"},{"location":"advanced/mcp-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"advanced/mcp-integration/#server-wont-connect","title":"Server Won't Connect","text":"<p>Check configuration:</p> <pre><code>/mcp-list\n</code></pre> <p>Test command manually:</p> <pre><code>python tools_server.py\n</code></pre> <p>Check logs:</p> <pre><code>/mcp-connect my-server --verbose\n</code></pre>"},{"location":"advanced/mcp-integration/#tool-not-found","title":"Tool Not Found","text":"<p>List available tools:</p> <pre><code>/mcp-tools my-server\n</code></pre> <p>Check tool name spelling</p> <p>Verify server is connected</p>"},{"location":"advanced/mcp-integration/#invalid-parameters","title":"Invalid Parameters","text":"<p>Check tool schema:</p> <pre><code>/mcp-tools my-server\n</code></pre> <p>Validate arguments match schema</p> <p>Check required vs optional parameters</p>"},{"location":"advanced/mcp-integration/#summary","title":"Summary","text":"<p>MCP integration enables:</p> <ul> <li>\u2705 External tool access</li> <li>\u2705 Data source integration</li> <li>\u2705 API connectivity</li> <li>\u2705 Extended DSPy capabilities</li> </ul> <p>Key concepts:</p> <ul> <li>Servers provide tools/resources/prompts</li> <li>stdio for local, SSE for remote</li> <li>Async operations</li> <li>Error handling essential</li> <li>Configuration in <code>dspy_config.yaml</code></li> </ul> <p>See MCP Examples \u2192 Back to Advanced Topics \u2192</p>"},{"location":"getting-started/first-program/","title":"Your First DSPy Program","text":"<p>Build a complete DSPy program from scratch in this detailed tutorial.</p>"},{"location":"getting-started/first-program/#what-youll-build","title":"What You'll Build","text":"<p>A text classifier that categorizes customer feedback into categories: bug report, feature request, or question.</p> <p>Time: 20 minutes</p>"},{"location":"getting-started/first-program/#prerequisites","title":"Prerequisites","text":"<ul> <li>DSPy Code installed</li> <li>Basic Python knowledge</li> <li>(Optional) Ollama or OpenAI API key</li> </ul>"},{"location":"getting-started/first-program/#step-1-start-dspy-code","title":"Step 1: Start DSPy Code","text":"<p>Open your terminal:</p> <pre><code>dspy-code\n</code></pre> <p>You'll see the welcome screen with your DSPy version.</p>"},{"location":"getting-started/first-program/#step-2-initialize-your-project","title":"Step 2: Initialize Your Project","text":"<p>Create a new project:</p> <pre><code>/init\n</code></pre> <p>What happens:</p> <ul> <li>Creates <code>dspy_config.yaml</code></li> <li>Sets up project directories</li> <li>Indexes your DSPy installation</li> <li>Shows entertaining messages!</li> </ul> <p>Project Structure Created</p> <pre><code>my-project/\n\u251c\u2500\u2500 dspy_config.yaml\n\u251c\u2500\u2500 generated/\n\u251c\u2500\u2500 data/\n\u2514\u2500\u2500 .cache/\n</code></pre>"},{"location":"getting-started/first-program/#step-3-connect-to-a-model","title":"Step 3: Connect to a Model","text":"<p>For better results, connect to a model:</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>Without a Model?</p> <p>You can still use DSPy Code with templates. The code will be more generic but functional.</p>"},{"location":"getting-started/first-program/#step-4-describe-your-program","title":"Step 4: Describe Your Program","text":"<p>Use natural language to describe what you want:</p> <pre><code>Create a text classifier that takes customer feedback and categorizes it as bug report, feature request, or question\n</code></pre> <p>DSPy Code will generate complete code!</p>"},{"location":"getting-started/first-program/#step-5-understanding-the-generated-code","title":"Step 5: Understanding the Generated Code","text":"<p>Let's break down what was created:</p>"},{"location":"getting-started/first-program/#the-signature","title":"The Signature","text":"<pre><code>import dspy\n\nclass FeedbackClassifier(dspy.Signature):\n    \"\"\"Classify customer feedback into categories.\"\"\"\n\n    feedback: str = dspy.InputField(\n        desc=\"Customer feedback text\"\n    )\n    category: str = dspy.OutputField(\n        desc=\"bug_report, feature_request, or question\"\n    )\n</code></pre> <p>What this does:</p> <ul> <li>InputField: Defines what goes into the model</li> <li>OutputField: Defines what comes out</li> <li>Descriptions: Help the LLM understand the task</li> </ul>"},{"location":"getting-started/first-program/#the-module","title":"The Module","text":"<pre><code>class FeedbackClassifierModule(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.classifier = dspy.ChainOfThought(FeedbackClassifier)\n\n    def forward(self, feedback):\n        result = self.classifier(feedback=feedback)\n        return result\n</code></pre> <p>What this does:</p> <ul> <li>dspy.Module: Base class for all DSPy programs</li> <li>ChainOfThought: Uses reasoning to improve accuracy</li> <li>forward(): The main execution method</li> </ul>"},{"location":"getting-started/first-program/#configuration-and-usage","title":"Configuration and Usage","text":"<pre><code># Configure DSPy\nimport dspy\ndspy.settings.configure(\n    lm=dspy.OpenAI(model=\"gpt-3.5-turbo\")\n)\n\n# Create and use the classifier\nclassifier = FeedbackClassifierModule()\n\n# Test it\nresult = classifier(feedback=\"The app crashes when I click save\")\nprint(result.category)  # Output: bug_report\n\nresult = classifier(feedback=\"Can you add dark mode?\")\nprint(result.category)  # Output: feature_request\n\nresult = classifier(feedback=\"How do I export my data?\")\nprint(result.category)  # Output: question\n</code></pre>"},{"location":"getting-started/first-program/#step-6-save-your-program","title":"Step 6: Save Your Program","text":"<p>Save the generated code:</p> <pre><code>/save feedback_classifier.py\n</code></pre> <p>File saved to <code>generated/feedback_classifier.py</code></p>"},{"location":"getting-started/first-program/#step-7-validate-the-code","title":"Step 7: Validate the Code","text":"<p>Check for issues:</p> <pre><code>/validate\n</code></pre> <p>The validator checks:</p> <ul> <li>\u2705 Signature structure</li> <li>\u2705 InputField and OutputField usage</li> <li>\u2705 Module inheritance</li> <li>\u2705 forward() method implementation</li> <li>\u2705 Best practices</li> </ul> <p>Validation Passed</p> <pre><code>\u2713 Signature is correctly defined\n\u2713 Module inherits from dspy.Module\n\u2713 forward() method is implemented\n\u2713 No issues found\n\nQuality Score: 95/100\n</code></pre>"},{"location":"getting-started/first-program/#step-8-test-your-program","title":"Step 8: Test Your Program","text":"<p>Run it in the sandbox:</p> <pre><code>/run\n</code></pre> <p>DSPy Code executes your code safely and shows results.</p>"},{"location":"getting-started/first-program/#step-9-create-test-data","title":"Step 9: Create Test Data","text":"<p>Generate test examples:</p> <pre><code>Generate 10 examples for feedback classification with diverse customer messages\n</code></pre> <p>Generated examples:</p> <pre><code>{\"feedback\": \"App crashes on startup\", \"category\": \"bug_report\"}\n{\"feedback\": \"Please add export to PDF\", \"category\": \"feature_request\"}\n{\"feedback\": \"How do I reset my password?\", \"category\": \"question\"}\n...\n</code></pre> <p>Save the data:</p> <pre><code>/save-data feedback_examples.jsonl\n</code></pre>"},{"location":"getting-started/first-program/#step-10-evaluate-your-classifier","title":"Step 10: Evaluate Your Classifier","text":"<p>Create an evaluation script:</p> <pre><code>/eval\n</code></pre> <p>Generated evaluation code:</p> <pre><code>import dspy\nfrom dspy.evaluate import Evaluate\n\n# Load test data\ndef load_test_data():\n    examples = []\n    with open('data/feedback_examples.jsonl') as f:\n        for line in f:\n            data = json.loads(line)\n            examples.append(dspy.Example(**data).with_inputs('feedback'))\n    return examples\n\n# Define metric\ndef accuracy_metric(example, prediction, trace=None):\n    return example.category == prediction.category\n\n# Evaluate\nevaluator = Evaluate(\n    devset=load_test_data(),\n    metric=accuracy_metric,\n    num_threads=4\n)\n\nclassifier = FeedbackClassifierModule()\nscore = evaluator(classifier)\nprint(f\"Accuracy: {score}\")\n</code></pre> <p>Save it:</p> <pre><code>/save evaluate_classifier.py\n</code></pre>"},{"location":"getting-started/first-program/#step-11-optimize-with-gepa","title":"Step 11: Optimize with GEPA","text":"<p>Generate GEPA optimization code:</p> <pre><code>/optimize\n</code></pre> <p>This creates a complete GEPA optimization script!</p> <p>What's included:</p> <ul> <li>Metric with feedback for GEPA</li> <li>Training data loader</li> <li>GEPA configuration</li> <li>Optimization execution</li> </ul> <p>Save it:</p> <pre><code>/save optimize_classifier.py\n</code></pre>"},{"location":"getting-started/first-program/#step-12-run-optimization","title":"Step 12: Run Optimization","text":"<p>Exit DSPy Code and run:</p> <pre><code>python generated/optimize_classifier.py\n</code></pre> <p>GEPA will:</p> <ol> <li>Load training examples</li> <li>Evaluate current performance</li> <li>Use reflection to improve prompts</li> <li>Evolve better instructions</li> <li>Save optimized version</li> </ol> <p>Optimization Complete</p> <pre><code>Initial Accuracy: 75%\nFinal Accuracy: 92%\nImprovement: +17%\n\nOptimized program saved to:\ngenerated/feedback_classifier_optimized.py\n</code></pre>"},{"location":"getting-started/first-program/#step-13-deploy-your-classifier","title":"Step 13: Deploy Your Classifier","text":"<p>Your classifier is now ready for production!</p> <p>Package it:</p> <pre><code>/export package feedback-classifier\n</code></pre> <p>This creates a distributable package with:</p> <ul> <li>Your optimized code</li> <li>Configuration</li> <li>Dependencies</li> <li>README</li> <li>Tests</li> </ul>"},{"location":"getting-started/first-program/#what-you-learned","title":"What You Learned","text":"<p>Congratulations! You now know how to:</p> <ul> <li>\u2705 Create DSPy Signatures</li> <li>\u2705 Build DSPy Modules</li> <li>\u2705 Use ChainOfThought for reasoning</li> <li>\u2705 Validate code quality</li> <li>\u2705 Generate test data</li> <li>\u2705 Evaluate performance</li> <li>\u2705 Optimize with GEPA</li> <li>\u2705 Package for deployment</li> </ul>"},{"location":"getting-started/first-program/#next-steps","title":"Next Steps","text":""},{"location":"getting-started/first-program/#try-different-predictors","title":"Try Different Predictors","text":"<p>Modify your classifier to use different reasoning patterns:</p> <p>ReAct (Reasoning + Acting):</p> <pre><code>self.classifier = dspy.ReAct(FeedbackClassifier)\n</code></pre> <p>ProgramOfThought:</p> <pre><code>self.classifier = dspy.ProgramOfThought(FeedbackClassifier)\n</code></pre> <p>MultiChainComparison:</p> <pre><code>self.classifier = dspy.MultiChainComparison(FeedbackClassifier, M=3)\n</code></pre>"},{"location":"getting-started/first-program/#add-more-categories","title":"Add More Categories","text":"<p>Expand your classifier:</p> <pre><code>Modify the classifier to include categories: bug, feature, question, complaint, praise\n</code></pre>"},{"location":"getting-started/first-program/#add-confidence-scores","title":"Add Confidence Scores","text":"<pre><code>Add a confidence score output field to the classifier\n</code></pre>"},{"location":"getting-started/first-program/#multi-label-classification","title":"Multi-Label Classification","text":"<pre><code>Allow the classifier to assign multiple categories to one feedback\n</code></pre>"},{"location":"getting-started/first-program/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/first-program/#model-not-responding","title":"Model Not Responding","text":"<p>Check your model connection:</p> <pre><code>/status\n</code></pre> <p>Reconnect if needed:</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre>"},{"location":"getting-started/first-program/#low-accuracy","title":"Low Accuracy","text":"<p>Try these improvements:</p> <ol> <li>Better examples: Generate more diverse training data</li> <li>Better predictor: Use ChainOfThought or ReAct</li> <li>Optimization: Run GEPA optimization</li> <li>Better prompts: Add more detailed descriptions</li> </ol>"},{"location":"getting-started/first-program/#validation-errors","title":"Validation Errors","text":"<p>Read error messages carefully:</p> <pre><code>/validate\n</code></pre> <p>Common fixes:</p> <ul> <li>Add missing InputField/OutputField</li> <li>Inherit from dspy.Module</li> <li>Implement forward() method</li> <li>Add type hints</li> </ul>"},{"location":"getting-started/first-program/#summary","title":"Summary","text":"<p>You built a complete DSPy program with:</p> <ul> <li>\u2705 Signature definition</li> <li>\u2705 Module implementation</li> <li>\u2705 Validation</li> <li>\u2705 Testing</li> <li>\u2705 Evaluation</li> <li>\u2705 Optimization</li> <li>\u2705 Deployment package</li> </ul> <p>Time to build something more complex!</p> <p>Build a RAG System \u2192 Learn About Optimization \u2192</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Get DSPy Code up and running in just a few minutes!</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<p>Before installing DSPy Code, make sure you have:</p> <ul> <li>Python 3.10 or higher - Check your version with <code>python --version</code></li> <li>pip - Python's package installer (comes with Python)</li> </ul>"},{"location":"getting-started/installation/#installation-steps","title":"Installation Steps","text":"<p>CRITICAL: Create Virtual Environment IN Your Project</p> <p>For security and isolation, ALWAYS create your virtual environment INSIDE your project directory!</p> <p>This ensures:</p> <ul> <li>\ud83d\udd12 All file scanning stays within your project</li> <li>\ud83d\udce6 Complete project isolation</li> <li>\ud83d\ude80 Easy sharing and deployment</li> <li>\ud83e\uddf9 Clean removal (just delete the project folder)</li> </ul>"},{"location":"getting-started/installation/#step-1-create-your-project-directory","title":"Step 1: Create Your Project Directory","text":"<pre><code># Create a dedicated directory for your DSPy project\nmkdir my-dspy-project\ncd my-dspy-project\n</code></pre>"},{"location":"getting-started/installation/#step-2-create-virtual-environment-in-this-directory","title":"Step 2: Create Virtual Environment IN This Directory","text":"<pre><code># Create .venv INSIDE your project directory (not elsewhere!)\npython -m venv .venv\n\n# Activate it\nsource .venv/bin/activate  # On macOS/Linux\n# OR\n.venv\\Scripts\\activate  # On Windows\n</code></pre> <p>Why .venv in the Project?</p> <p>When you create the virtual environment inside your project:</p> <ul> <li>All packages install to <code>my-dspy-project/.venv/</code></li> <li>All dspy-code data goes to <code>my-dspy-project/.dspy_code/</code></li> <li>Everything stays in one place!</li> </ul> <p>Result: One directory = one complete project</p>"},{"location":"getting-started/installation/#step-3-install-dspy-code","title":"Step 3: Install DSPy Code","text":"<pre><code># This installs into .venv/ in your project\npip install dspy-code\n</code></pre> <p>That's it! DSPy Code is now installed in your project.</p>"},{"location":"getting-started/installation/#from-source","title":"From Source","text":"<p>If you want the latest development version:</p> <pre><code># Clone the repository\ngit clone https://github.com/superagentic-ai/dspy-code.git\ncd dspy-code\n\n# Install in development mode\npip install -e .\n</code></pre>"},{"location":"getting-started/installation/#install-dspy","title":"Install DSPy","text":"<p>DSPy Code requires DSPy to be installed. If you don't have it yet:</p> <pre><code>pip install dspy\n</code></pre> <p>DSPy Version</p> <p>DSPy Code works with any DSPy version (2.x, 3.x, or newer). It adapts to YOUR installed version!</p>"},{"location":"getting-started/installation/#step-4-install-dspy-optional","title":"Step 4: Install DSPy (Optional)","text":"<p>DSPy Code works with any version of DSPy you have installed:</p> <pre><code>pip install dspy-ai\n</code></pre> <p>DSPy Version</p> <p>DSPy Code adapts to YOUR installed DSPy version! It indexes your specific version for accurate code generation and Q&amp;A.</p>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Check that everything is installed correctly:</p> <pre><code># Make sure you're in your project directory\ncd my-dspy-project\n\n# Activate your virtual environment if not already active\nsource .venv/bin/activate\n\n# Check DSPy Code\ndspy-code --help\n\n# You should see:\n# Usage: dspy-code [OPTIONS]\n# DSPy Code - Interactive DSPy Development Environment\n</code></pre> <p>If you see the help text, you're all set! \ud83c\udf89</p>"},{"location":"getting-started/installation/#your-project-structure","title":"Your Project Structure","text":"<p>After installation, your project looks like this:</p> <pre><code>my-dspy-project/          # Your project root\n\u251c\u2500\u2500 .venv/                # Virtual environment (packages here!)\n\u2502   \u251c\u2500\u2500 bin/\n\u2502   \u251c\u2500\u2500 lib/\n\u2502   \u2502   \u2514\u2500\u2500 python3.x/\n\u2502   \u2502       \u2514\u2500\u2500 site-packages/\n\u2502   \u2502           \u251c\u2500\u2500 dspy/          # DSPy package\n\u2502   \u2502           \u2514\u2500\u2500 dspy_code/     # dspy-code package\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 (your files will be created by dspy-code)\n</code></pre> <p>When you run <code>/init</code>, dspy-code will create:</p> <pre><code>my-dspy-project/\n\u251c\u2500\u2500 .venv/                # Your packages (already created)\n\u251c\u2500\u2500 .dspy_cache/          # DSPy's LLM response cache\n\u251c\u2500\u2500 .dspy_code/           # dspy-code's internal data\n\u2502   \u251c\u2500\u2500 cache/            # RAG index cache\n\u2502   \u251c\u2500\u2500 sessions/         # Session state\n\u2502   \u251c\u2500\u2500 optimization/     # GEPA workflows\n\u2502   \u2514\u2500\u2500 exports/          # Export history\n\u251c\u2500\u2500 generated/            # Your generated code\n\u251c\u2500\u2500 modules/              # Your modules\n\u251c\u2500\u2500 signatures/           # Your signatures\n\u2514\u2500\u2500 dspy_config.yaml      # Your configuration\n</code></pre> <p>Everything in one place! \ud83d\udce6</p>"},{"location":"getting-started/installation/#optional-dependencies","title":"Optional Dependencies","text":"<p>DSPy Code has optional dependencies for different features. Install only what you need:</p>"},{"location":"getting-started/installation/#for-openai-models","title":"For OpenAI Models","text":"<pre><code>pip install openai\n</code></pre>"},{"location":"getting-started/installation/#for-anthropic-claude","title":"For Anthropic Claude","text":"<pre><code>pip install anthropic\n</code></pre>"},{"location":"getting-started/installation/#for-google-gemini","title":"For Google Gemini","text":"<pre><code>pip install google-generativeai\n</code></pre>"},{"location":"getting-started/installation/#for-semantic-similarity-metrics","title":"For Semantic Similarity Metrics","text":"<pre><code>pip install sentence-transformers scikit-learn\n</code></pre> <p>Install as Needed</p> <p>Don't worry about installing these now. DSPy Code will tell you if you need something and show you exactly how to install it!</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#command-not-found-dspy-code","title":"\"command not found: dspy-code\"","text":"<p>If you see this error:</p> <pre><code># Make sure your virtual environment is activated\nsource .venv/bin/activate\n\n# Verify installation\npip list | grep dspy-code\n\n# If not installed, install it\npip install dspy-code\n</code></pre>"},{"location":"getting-started/installation/#running-from-wrong-directory","title":"Running from Wrong Directory","text":"<p>If you see security warnings when starting dspy-code:</p> <pre><code>\ud83d\udea8 SECURITY WARNING\nYou are running dspy-code from your home directory!\n</code></pre> <p>Solution: Always run from your project directory:</p> <pre><code>cd my-dspy-project\nsource .venv/bin/activate\ndspy-code\n</code></pre>"},{"location":"getting-started/installation/#python-version-too-old","title":"Python Version Too Old","text":"<p>If you see an error about Python version:</p> <pre><code># Check your Python version\npython --version\n\n# If it's less than 3.10, upgrade Python:\n# - On macOS: brew install python@3.11\n# - On Ubuntu: sudo apt install python3.11\n# - On Windows: Download from python.org\n</code></pre>"},{"location":"getting-started/installation/#virtual-environment-outside-project","title":"Virtual Environment Outside Project","text":"<p>If you created the venv outside your project:</p> <pre><code># Wrong way:\ncd ~/\npython -m venv my_venv  # \u274c Don't do this!\n\n# Right way:\ncd ~/my-dspy-project\npython -m venv .venv     # \u2705 Do this!\n</code></pre>"},{"location":"getting-started/installation/#permission-denied","title":"Permission Denied","text":"<p>If you get permission errors, don't use --user or sudo. Use a virtual environment:</p> <pre><code>cd my-dspy-project\npython -m venv .venv\nsource .venv/bin/activate\npip install dspy-code\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that you have DSPy Code installed, let's run it!</p> <p>Quick Start Guide \u2192</p>"},{"location":"getting-started/installation/#system-specific-notes","title":"System-Specific Notes","text":""},{"location":"getting-started/installation/#macos","title":"macOS","text":"<p>DSPy Code works great on macOS. If you use Homebrew:</p> <pre><code># Install Python (if needed)\nbrew install python@3.11\n\n# Install DSPy Code\npip3 install dspy-code\n</code></pre>"},{"location":"getting-started/installation/#linux","title":"Linux","text":"<p>On Ubuntu/Debian:</p> <pre><code># Install Python (if needed)\nsudo apt update\nsudo apt install python3.11 python3-pip\n\n# Install DSPy Code\npip3 install dspy-code\n</code></pre>"},{"location":"getting-started/installation/#windows","title":"Windows","text":"<p>On Windows, use PowerShell or Command Prompt:</p> <pre><code># Install DSPy Code\npip install dspy-code\n\n# Run it\ndspy-code\n</code></pre> <p>Windows Terminal</p> <p>For the best experience on Windows, use Windows Terminal with PowerShell. The colors and formatting will look much better!</p>"},{"location":"getting-started/installation/#docker","title":"Docker","text":"<p>Want to run DSPy Code in Docker?</p> <pre><code>FROM python:3.11-slim\n\n# Set working directory\nWORKDIR /project\n\n# Create virtual environment in the project\nRUN python -m venv .venv\n\n# Activate venv and install\nRUN . .venv/bin/activate &amp;&amp; \\\n    pip install dspy-code dspy\n\n# Run with venv activated\nCMD [\".venv/bin/dspy-code\"]\n</code></pre> <p>Build and run:</p> <pre><code>docker build -t dspy-code .\ndocker run -it -v $(pwd):/project dspy-code\n</code></pre> <p>This mounts your current directory as <code>/project</code> in the container!</p>"},{"location":"getting-started/installation/#upgrading","title":"Upgrading","text":"<p>To upgrade to the latest version:</p> <pre><code>pip install --upgrade dspy-code\n</code></pre>"},{"location":"getting-started/installation/#uninstalling","title":"Uninstalling","text":"<p>If you need to uninstall:</p> <pre><code>pip uninstall dspy-code\n</code></pre> <p>Installation complete! Let's start using DSPy Code.</p> <p>Quick Start Guide \u2192</p>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get started with DSPy Code in 5 minutes! This guide will walk you through creating your first DSPy program.</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<p>Before starting, make sure you have:</p> <ol> <li>Created your project directory</li> <li>Set up virtual environment INSIDE the project</li> <li>Installed dspy-code</li> </ol> <p>If you haven't done this yet, see Installation Guide.</p>"},{"location":"getting-started/quick-start/#step-1-navigate-to-your-project","title":"Step 1: Navigate to Your Project","text":"<pre><code># Go to your project directory\ncd my-dspy-project\n\n# Activate your virtual environment\nsource .venv/bin/activate  # macOS/Linux\n# OR\n.venv\\Scripts\\activate  # Windows\n</code></pre> <p>Always Activate Your Venv</p> <p>Make sure your virtual environment is activated before running dspy-code. You should see <code>(.venv)</code> in your terminal prompt.</p>"},{"location":"getting-started/quick-start/#step-2-start-the-cli","title":"Step 2: Start the CLI","text":"<p>Open your terminal and run:</p> <pre><code>dspy-code\n</code></pre> <p>You'll see a beautiful welcome screen with the DSPy version and helpful tips.</p> <p>What You'll See</p> <pre><code>\u2713 DSPy Version: 3.0.4\n\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551   DSPy Code - Interactive Mode        \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\ud83d\udca1 Get Started:\n  /init     - Initialize your project\n  /demo     - See it in action\n  /help     - View all commands\n\n\ud83d\udcac Or just describe what you want to build!\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-initialize-your-project","title":"Step 2: Initialize Your Project","text":"<p>Inside the CLI, type:</p> <pre><code>/init\n</code></pre> <p>This will:</p> <ul> <li>Create a <code>dspy_config.yaml</code> file</li> <li>Set up project directories</li> <li>Index your code for intelligent Q&amp;A (with entertaining jokes!)</li> </ul> <p>What's Happening?</p> <p>The <code>/init</code> command scans your installed DSPy version and your project code. This lets DSPy Code answer questions about DSPy and understand your project!</p>"},{"location":"getting-started/quick-start/#step-3-generate-your-first-program","title":"Step 3: Generate Your First Program","text":"<p>Now for the fun part! Just describe what you want in plain English:</p> <pre><code>Create a sentiment analyzer that takes text and outputs positive or negative\n</code></pre> <p>DSPy Code will:</p> <ol> <li>Understand your request</li> <li>Generate a complete DSPy program</li> <li>Show you the code with syntax highlighting</li> <li>Give you next steps</li> </ol> <p>What You'll Get</p> <pre><code>import dspy\n\nclass SentimentSignature(dspy.Signature):\n    \"\"\"Analyze the sentiment of text.\"\"\"\n    text: str = dspy.InputField(desc=\"Text to analyze\")\n    sentiment: str = dspy.OutputField(desc=\"positive or negative\")\n\nclass SentimentAnalyzer(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(SentimentSignature)\n\n    def forward(self, text):\n        return self.predictor(text=text)\n</code></pre>"},{"location":"getting-started/quick-start/#step-4-save-your-code","title":"Step 4: Save Your Code","text":"<p>Save the generated code to a file:</p> <pre><code>/save sentiment.py\n</code></pre> <p>The file will be saved to your <code>generated/</code> directory.</p> <p>Saved!</p> <pre><code>\u2713 Code saved to: generated/sentiment.py\n</code></pre>"},{"location":"getting-started/quick-start/#step-5-validate-your-code","title":"Step 5: Validate Your Code","text":"<p>Check if your code follows DSPy best practices:</p> <pre><code>/validate\n</code></pre> <p>DSPy Code will check for:</p> <ul> <li>Correct Signature usage</li> <li>Proper Module structure</li> <li>Best practices</li> <li>Potential issues</li> </ul> <p>Quality Checks</p> <p>The validator catches common mistakes and suggests improvements. It's like having an expert review your code!</p>"},{"location":"getting-started/quick-start/#step-6-run-your-program","title":"Step 6: Run Your Program","text":"<p>Test your program:</p> <pre><code>/run\n</code></pre> <p>DSPy Code will execute your code in a safe sandbox and show you the results.</p>"},{"location":"getting-started/quick-start/#thats-it","title":"That's It!","text":"<p>You just:</p> <ol> <li>\u2705 Started DSPy Code</li> <li>\u2705 Initialized a project</li> <li>\u2705 Generated a DSPy program</li> <li>\u2705 Saved it to a file</li> <li>\u2705 Validated the code</li> <li>\u2705 Ran it successfully</li> </ol>"},{"location":"getting-started/quick-start/#whats-next","title":"What's Next?","text":""},{"location":"getting-started/quick-start/#connect-a-model-optional-but-recommended","title":"Connect a Model (Optional but Recommended)","text":"<p>For better code generation, connect to an LLM:</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>Or use OpenAI:</p> <pre><code>/connect openai gpt-4\n</code></pre> <p>Why Connect a Model?</p> <p>Without a model, DSPy Code uses templates. With a model, it can understand your specific requirements and generate more customized code!</p>"},{"location":"getting-started/quick-start/#try-more-examples","title":"Try More Examples","text":"<p>See what else you can build:</p> <pre><code>/demo\n</code></pre> <p>This shows you complete example programs you can learn from.</p>"},{"location":"getting-started/quick-start/#explore-commands","title":"Explore Commands","text":"<p>See all available commands:</p> <pre><code>/help\n</code></pre>"},{"location":"getting-started/quick-start/#ask-questions","title":"Ask Questions","text":"<p>DSPy Code can answer questions about DSPy:</p> <pre><code>How do Signatures work?\n</code></pre> <pre><code>Show me a ChainOfThought example\n</code></pre>"},{"location":"getting-started/quick-start/#common-first-tasks","title":"Common First Tasks","text":""},{"location":"getting-started/quick-start/#build-a-question-answering-system","title":"Build a Question Answering System","text":"<pre><code>Create a QA system that takes a question and context and returns an answer\n</code></pre>"},{"location":"getting-started/quick-start/#create-a-text-classifier","title":"Create a Text Classifier","text":"<pre><code>Build a classifier for email categories: work, personal, or spam\n</code></pre>"},{"location":"getting-started/quick-start/#make-a-summarizer","title":"Make a Summarizer","text":"<pre><code>Generate a summarizer that takes long text and outputs a brief summary\n</code></pre>"},{"location":"getting-started/quick-start/#tips-for-beginners","title":"Tips for Beginners","text":"<p>Natural Language Works!</p> <p>You don't need to know DSPy syntax. Just describe what you want in plain English:</p> <ul> <li>\"Create a sentiment analyzer\"</li> <li>\"Build a question answering system\"</li> <li>\"Make a text classifier for emails\"</li> </ul> <p>Use /status to Check</p> <p>Not sure if your code was saved? Use <code>/status</code> to see what's in your session: <pre><code>/status\n</code></pre></p> <p>Save Often</p> <p>After generating code you like, save it immediately: <pre><code>/save my_program.py\n</code></pre></p> <p>Validate Before Running</p> <p>Always validate your code before running: <pre><code>/validate\n/run\n</code></pre></p>"},{"location":"getting-started/quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/quick-start/#cli-wont-start","title":"CLI Won't Start","text":"<pre><code># Make sure it's installed\npip install dspy-code\n\n# Try running with python -m\npython -m dspy_code\n</code></pre>"},{"location":"getting-started/quick-start/#no-code-generated","title":"No Code Generated","text":"<ol> <li>Check if you described your task clearly</li> <li>Try connecting a model: <code>/connect ollama llama3.1:8b</code></li> <li>Or use templates: <code>/examples</code></li> </ol>"},{"location":"getting-started/quick-start/#cant-save-code","title":"Can't Save Code","text":"<ol> <li>Check if code was generated: <code>/status</code></li> <li>Make sure you specify a filename: <code>/save myfile.py</code></li> <li>Check directory permissions</li> </ol>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you've created your first program, learn more:</p> <ul> <li> <p>\ud83d\udcd6 Understanding DSPy Code</p> <p>Learn how DSPy Code works under the hood</p> <p>Learn More \u2192</p> </li> <li> <p>\ud83c\udfa8 Interactive Mode</p> <p>Master all the slash commands</p> <p>View Guide \u2192</p> </li> <li> <p>\ud83d\udcdd First Program Tutorial</p> <p>Build a complete project step by step</p> <p>Start Tutorial \u2192</p> </li> <li> <p>\ud83d\ude80 Generating Code</p> <p>Learn all the ways to generate DSPy code</p> <p>Read Guide \u2192</p> </li> </ul> <p>Ready to build something amazing? Let's dive deeper!</p> <p>First Program Tutorial \u2192</p>"},{"location":"getting-started/understanding/","title":"Understanding DSPy Code","text":"<p>Learn how DSPy Code works and how it helps you build better DSPy programs.</p>"},{"location":"getting-started/understanding/#what-is-dspy-code","title":"What is DSPy Code?","text":"<p>DSPy Code is an interactive development environment for DSPy that:</p> <ul> <li>Generates DSPy code from natural language</li> <li>Validates your code against best practices</li> <li>Helps you optimize programs with GEPA</li> <li>Provides a knowledge base about DSPy concepts</li> <li>Adapts to your installed DSPy version</li> </ul>"},{"location":"getting-started/understanding/#core-concepts","title":"Core Concepts","text":""},{"location":"getting-started/understanding/#1-living-playbook","title":"1. Living Playbook","text":"<p>DSPy Code is a \"living playbook\" that:</p> <p>Adapts to YOUR DSPy version:</p> <ul> <li>Indexes your installed DSPy package</li> <li>Answers questions based on YOUR version</li> <li>Generates code compatible with YOUR installation</li> </ul> <p>Understands your project:</p> <ul> <li>Scans your existing DSPy code</li> <li>Learns your patterns and conventions</li> <li>Generates code that fits your project</li> </ul> <p>Stays current:</p> <ul> <li>Re-indexes when you run <code>/init</code></li> <li>Detects version changes</li> <li>Warns about outdated versions</li> </ul>"},{"location":"getting-started/understanding/#2-interactive-only-design","title":"2. Interactive-Only Design","text":"<p>All commands are slash commands in interactive mode:</p> <pre><code>dspy-code\n  \u2192 /init\n  \u2192 /connect ollama llama3.1:8b\n  \u2192 Create a sentiment analyzer\n  \u2192 /save sentiment.py\n  \u2192 /validate\n  \u2192 /run\n</code></pre> <p>Why interactive-only?</p> <ul> <li>Natural conversation flow</li> <li>Context-aware responses</li> <li>Better error handling</li> <li>Easier to learn</li> </ul>"},{"location":"getting-started/understanding/#3-natural-language-generation","title":"3. Natural Language Generation","text":"<p>Describe what you want in plain English:</p> <pre><code>Build a module for sentiment analysis with text input and sentiment output\n</code></pre> <p>DSPy Code generates:</p> <ul> <li>Complete Signature</li> <li>Module implementation</li> <li>Example usage</li> <li>Configuration code</li> </ul>"},{"location":"getting-started/understanding/#4-version-awareness","title":"4. Version Awareness","text":"<p>DSPy Code shows your DSPy version on startup:</p> <pre><code>\u2713 DSPy Version: 3.0.4\n</code></pre> <p>If your version is old:</p> <pre><code>\u2713 DSPy Version: 2.5.0 (Old! Consider upgrading to &gt;=3.0.0)\n</code></pre> <p>Why this matters:</p> <ul> <li>DSPy APIs change between versions</li> <li>Generated code matches YOUR version</li> <li>Avoid compatibility issues</li> </ul>"},{"location":"getting-started/understanding/#architecture","title":"Architecture","text":""},{"location":"getting-started/understanding/#components","title":"Components","text":"<pre><code>DSPy Code\n\u251c\u2500\u2500 Interactive Session\n\u2502   \u251c\u2500\u2500 Natural language processing\n\u2502   \u251c\u2500\u2500 Context management\n\u2502   \u2514\u2500\u2500 Conversation history\n\u251c\u2500\u2500 Code Generation\n\u2502   \u251c\u2500\u2500 Signature generator\n\u2502   \u251c\u2500\u2500 Module generator\n\u2502   \u2514\u2500\u2500 Program templates\n\u251c\u2500\u2500 Validation Engine\n\u2502   \u251c\u2500\u2500 Syntax checker\n\u2502   \u251c\u2500\u2500 Best practices validator\n\u2502   \u2514\u2500\u2500 Quality scorer\n\u251c\u2500\u2500 Optimization\n\u2502   \u251c\u2500\u2500 GEPA integration\n\u2502   \u251c\u2500\u2500 Metric generation\n\u2502   \u2514\u2500\u2500 Data collection\n\u251c\u2500\u2500 Codebase RAG\n\u2502   \u251c\u2500\u2500 DSPy indexer\n\u2502   \u251c\u2500\u2500 Project scanner\n\u2502   \u2514\u2500\u2500 Semantic search\n\u2514\u2500\u2500 Model Connector\n    \u251c\u2500\u2500 Ollama\n    \u251c\u2500\u2500 OpenAI\n    \u251c\u2500\u2500 Anthropic\n    \u2514\u2500\u2500 Gemini\n</code></pre>"},{"location":"getting-started/understanding/#data-flow","title":"Data Flow","text":"<pre><code>User Input\n    \u2193\nNatural Language Understanding\n    \u2193\nIntent Detection\n    \u2193\nCode Generation / Command Execution\n    \u2193\nValidation (if code)\n    \u2193\nResponse to User\n</code></pre>"},{"location":"getting-started/understanding/#how-code-generation-works","title":"How Code Generation Works","text":""},{"location":"getting-started/understanding/#step-1-intent-detection","title":"Step 1: Intent Detection","text":"<p>DSPy Code analyzes your request:</p> <pre><code>\"Build a module for sentiment analysis\"\n</code></pre> <p>Detected intent:</p> <ul> <li>Type: Module generation</li> <li>Task: Sentiment analysis</li> <li>Predictor: Not specified (will use default)</li> </ul>"},{"location":"getting-started/understanding/#step-2-signature-generation","title":"Step 2: Signature Generation","text":"<p>Creates the DSPy Signature:</p> <pre><code>class SentimentSignature(dspy.Signature):\n    \"\"\"Analyze sentiment of text.\"\"\"\n    text = dspy.InputField(desc=\"Text to analyze\")\n    sentiment = dspy.OutputField(desc=\"positive, negative, or neutral\")\n</code></pre>"},{"location":"getting-started/understanding/#step-3-module-generation","title":"Step 3: Module Generation","text":"<p>Creates the Module:</p> <pre><code>class SentimentAnalyzer(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.Predict(SentimentSignature)\n\n    def forward(self, text):\n        return self.predictor(text=text)\n</code></pre>"},{"location":"getting-started/understanding/#step-4-add-usage-examples","title":"Step 4: Add Usage Examples","text":"<p>Includes example code:</p> <pre><code># Example usage\nanalyzer = SentimentAnalyzer()\nresult = analyzer(text=\"I love this!\")\nprint(result.sentiment)\n</code></pre>"},{"location":"getting-started/understanding/#step-5-context-storage","title":"Step 5: Context Storage","text":"<p>Stores in session context:</p> <pre><code>context['last_generated'] = code\ncontext['type'] = 'module'\n</code></pre> <p>Now you can use <code>/save</code>, <code>/validate</code>, <code>/run</code>!</p>"},{"location":"getting-started/understanding/#how-validation-works","title":"How Validation Works","text":""},{"location":"getting-started/understanding/#validation-checks","title":"Validation Checks","text":"<p>1. Signature Validation:</p> <ul> <li>\u2705 Inherits from dspy.Signature</li> <li>\u2705 Has InputField and OutputField</li> <li>\u2705 Fields have descriptions</li> <li>\u2705 Docstring present</li> </ul> <p>2. Module Validation:</p> <ul> <li>\u2705 Inherits from dspy.Module</li> <li>\u2705 Has <code>__init__</code> method</li> <li>\u2705 Has <code>forward</code> method</li> <li>\u2705 Uses DSPy predictors</li> </ul> <p>3. Best Practices:</p> <ul> <li>\u2705 Type hints used</li> <li>\u2705 Descriptive names</li> <li>\u2705 No anti-patterns</li> <li>\u2705 Proper error handling</li> </ul> <p>4. Syntax:</p> <ul> <li>\u2705 Valid Python</li> <li>\u2705 No syntax errors</li> <li>\u2705 Imports present</li> </ul>"},{"location":"getting-started/understanding/#quality-scoring","title":"Quality Scoring","text":"<p>Each check contributes to a quality score:</p> <pre><code>Signature structure: 20 points\nModule structure: 20 points\nBest practices: 30 points\nDocumentation: 15 points\nType hints: 15 points\n\nTotal: 100 points\n</code></pre> <p>Score interpretation:</p> <ul> <li>90-100: Excellent</li> <li>80-89: Good</li> <li>70-79: Acceptable</li> <li>&lt;70: Needs improvement</li> </ul>"},{"location":"getting-started/understanding/#how-codebase-rag-works","title":"How Codebase RAG Works","text":""},{"location":"getting-started/understanding/#indexing-process","title":"Indexing Process","text":"<p>1. Discovery:</p> <pre><code>Discovering codebases...\n  \u2713 Found DSPy 3.0.4\n  \u2713 Found GEPA 1.2.0\n  \u2713 Found project code\n</code></pre> <p>2. Scanning:</p> <pre><code>Scanning Python files...\n  \u2713 150 files in DSPy\n  \u2713 45 files in GEPA\n  \u2713 12 files in your project\n</code></pre> <p>3. Extraction:</p> <pre><code>Extracting structure...\n  \u2713 234 classes\n  \u2713 1,456 functions\n  \u2713 89 signatures\n</code></pre> <p>4. Indexing:</p> <pre><code>Building search index...\n  \u2713 3,421 code elements indexed\n  \u2713 Cache saved\n</code></pre>"},{"location":"getting-started/understanding/#answering-questions","title":"Answering Questions","text":"<p>When you ask a question:</p> <pre><code>How does ChainOfThought work?\n</code></pre> <p>1. Search:</p> <ul> <li>Semantic search in indexed code</li> <li>Find relevant classes/functions</li> <li>Rank by relevance</li> </ul> <p>2. Context Building:</p> <ul> <li>Extract code snippets</li> <li>Get docstrings</li> <li>Find usage examples</li> </ul> <p>3. Answer Generation:</p> <ul> <li>Use LLM with context</li> <li>Generate explanation</li> <li>Include code examples</li> </ul> <p>4. Response:</p> <pre><code>ChainOfThought is a DSPy predictor that uses reasoning...\n\nExample from your DSPy version:\n\nclass ChainOfThought(Predict):\n    def __init__(self, signature, rationale_type=None, **config):\n        ...\n</code></pre>"},{"location":"getting-started/understanding/#how-optimization-works","title":"How Optimization Works","text":""},{"location":"getting-started/understanding/#gepa-overview","title":"GEPA Overview","text":"<p>GEPA (Genetic Prompt Evolution Algorithm) optimizes DSPy programs by:</p> <ol> <li>Evaluation: Test current performance</li> <li>Reflection: Analyze failures</li> <li>Evolution: Generate better prompts</li> <li>Selection: Keep best versions</li> <li>Iteration: Repeat until optimal</li> </ol>"},{"location":"getting-started/understanding/#optimization-process","title":"Optimization Process","text":"<p>1. Prepare Data:</p> <pre><code>/generate data 50 for sentiment analysis\n/save-data sentiment_data.jsonl\n</code></pre> <p>2. Generate Optimization Script:</p> <pre><code>/optimize sentiment_analyzer.py sentiment_data.jsonl\n</code></pre> <p>3. Run GEPA:</p> <pre><code>from dspy.teleprompt import GEPA\n\noptimizer = GEPA(\n    metric=accuracy_with_feedback,\n    breadth=10,\n    depth=3,\n    init_temperature=1.4\n)\n\noptimized = optimizer.compile(\n    program,\n    trainset=examples\n)\n</code></pre> <p>4. Results:</p> <pre><code>Initial: 75% accuracy\nFinal: 92% accuracy\nImprovement: +17%\n</code></pre>"},{"location":"getting-started/understanding/#metrics-with-feedback","title":"Metrics with Feedback","text":"<p>GEPA uses metrics that provide feedback:</p> <pre><code>def accuracy_with_feedback(gold, pred, trace=None):\n    if gold.sentiment == pred.sentiment:\n        return 1.0\n    else:\n        feedback = f\"Expected {gold.sentiment}, got {pred.sentiment}\"\n        return {'score': 0.0, 'feedback': feedback}\n</code></pre> <p>This feedback helps GEPA learn!</p>"},{"location":"getting-started/understanding/#how-model-connection-works","title":"How Model Connection Works","text":""},{"location":"getting-started/understanding/#supported-providers","title":"Supported Providers","text":"<p>1. Ollama (Local):</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>2. OpenAI:</p> <pre><code>/connect openai gpt-4\n</code></pre> <p>3. Anthropic:</p> <pre><code>/connect anthropic claude-3-sonnet\n</code></pre> <p>4. Gemini:</p> <pre><code>/connect gemini gemini-pro\n</code></pre>"},{"location":"getting-started/understanding/#connection-process","title":"Connection Process","text":"<p>1. Validation:</p> <ul> <li>Check provider is valid</li> <li>Verify model name</li> <li>Test API key (if needed)</li> </ul> <p>2. Configuration:</p> <pre><code>if provider == \"ollama\":\n    lm = dspy.OllamaLocal(model=model_name)\nelif provider == \"openai\":\n    lm = dspy.OpenAI(model=model_name, api_key=api_key)\n</code></pre> <p>3. Testing:</p> <pre><code>Testing connection...\n  \u2713 Model responds\n  \u2713 Connection stable\n</code></pre> <p>4. Storage:</p> <pre><code># dspy_config.yaml\nmodels:\n  default: ollama/llama3.1:8b\n  ollama:\n    llama3.1:8b:\n      base_url: http://localhost:11434\n</code></pre>"},{"location":"getting-started/understanding/#session-management","title":"Session Management","text":""},{"location":"getting-started/understanding/#session-context","title":"Session Context","text":"<p>Each session maintains:</p> <pre><code>context = {\n    'last_generated': \"...\",  # Last generated code\n    'type': 'module',         # Code type\n    'last_generated_data': [...],  # Training data\n    'data_task': 'sentiment',  # Task description\n    'history': [...]          # Conversation history\n}\n</code></pre>"},{"location":"getting-started/understanding/#persistence","title":"Persistence","text":"<p>Save session:</p> <pre><code>/session save my-work\n</code></pre> <p>Load session:</p> <pre><code>/session load my-work\n</code></pre> <p>List sessions:</p> <pre><code>/sessions list\n</code></pre>"},{"location":"getting-started/understanding/#whats-saved","title":"What's Saved","text":"<ul> <li>Generated code</li> <li>Training data</li> <li>Model configuration</li> <li>Conversation history</li> <li>Project context</li> </ul>"},{"location":"getting-started/understanding/#configuration","title":"Configuration","text":""},{"location":"getting-started/understanding/#project-configuration","title":"Project Configuration","text":"<p><code>dspy_config.yaml</code>:</p> <pre><code>project_name: my-dspy-project\ndspy_version: 3.0.4\n\nmodels:\n  default: ollama/llama3.1:8b\n  ollama:\n    llama3.1:8b:\n      base_url: http://localhost:11434\n\npaths:\n  generated: generated/\n  data: data/\n  cache: .cache/\n\nrag:\n  enabled: true\n  cache_ttl: 86400\n</code></pre>"},{"location":"getting-started/understanding/#user-configuration","title":"User Configuration","text":"<p><code>~/.dspy-code/config.yaml</code>:</p> <pre><code>default_model: ollama/llama3.1:8b\nverbose: false\nauto_save: true\n</code></pre>"},{"location":"getting-started/understanding/#best-practices","title":"Best Practices","text":""},{"location":"getting-started/understanding/#1-always-initialize","title":"1. Always Initialize","text":"<p>Run <code>/init</code> when starting a new project:</p> <pre><code>/init\n</code></pre> <p>This builds the codebase index!</p>"},{"location":"getting-started/understanding/#2-check-status-often","title":"2. Check Status Often","text":"<p>Use <code>/status</code> to see what's in context:</p> <pre><code>/status\n</code></pre>"},{"location":"getting-started/understanding/#3-validate-before-running","title":"3. Validate Before Running","text":"<p>Always validate generated code:</p> <pre><code>/validate\n/run\n</code></pre>"},{"location":"getting-started/understanding/#4-save-your-work","title":"4. Save Your Work","text":"<p>Save sessions for complex projects:</p> <pre><code>/session save project-name\n</code></pre>"},{"location":"getting-started/understanding/#5-use-descriptive-requests","title":"5. Use Descriptive Requests","text":"<p>Be specific when generating code:</p> <pre><code>Good: \"Build a module using ChainOfThought for sentiment analysis with text input and sentiment output\"\n\nBad: \"Make a sentiment thing\"\n</code></pre>"},{"location":"getting-started/understanding/#6-iterate","title":"6. Iterate","text":"<p>Refine generated code:</p> <pre><code>Add error handling to the last generated code\nAdd type hints to all functions\nOptimize for better performance\n</code></pre>"},{"location":"getting-started/understanding/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/understanding/#code-not-saving","title":"Code Not Saving","text":"<p>Check context:</p> <pre><code>/status\n</code></pre> <p>If no code in context, generate first:</p> <pre><code>Create a simple signature\n/save my_signature.py\n</code></pre>"},{"location":"getting-started/understanding/#validation-fails","title":"Validation Fails","text":"<p>Read error messages:</p> <pre><code>/validate\n</code></pre> <p>Fix issues:</p> <pre><code>Fix the validation errors in the last generated code\n</code></pre>"},{"location":"getting-started/understanding/#model-not-connected","title":"Model Not Connected","text":"<p>Check status:</p> <pre><code>/status\n</code></pre> <p>Connect:</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre>"},{"location":"getting-started/understanding/#index-not-built","title":"Index Not Built","text":"<p>Run init:</p> <pre><code>/init\n</code></pre>"},{"location":"getting-started/understanding/#summary","title":"Summary","text":"<p>DSPy Code is:</p> <ul> <li>\u2705 Interactive development environment</li> <li>\u2705 Natural language code generator</li> <li>\u2705 Validation and quality checker</li> <li>\u2705 GEPA optimization platform</li> <li>\u2705 DSPy knowledge base</li> <li>\u2705 Version-aware assistant</li> </ul> <p>Start building better DSPy programs today!</p> <p>Build Your First Program \u2192 Learn Slash Commands \u2192</p>"},{"location":"guide/adapters/","title":"DSPy Adapters Guide","text":"<p>Adapters in DSPy are the interface layer between DSPy modules and Language Models (LMs). They handle the transformation pipeline from DSPy inputs to LM calls and back to structured outputs. Adapters format prompts, parse responses, and manage conversation history.</p>"},{"location":"guide/adapters/#what-are-adapters","title":"What are Adapters?","text":"<p>Adapters sit between your DSPy signatures/modules and the language model. They:</p> <ul> <li>Format your signature fields into prompts the LM understands</li> <li>Parse LM responses back into structured DSPy outputs</li> <li>Handle different output formats (JSON, XML, chat, etc.)</li> <li>Support special features like function calling and structured outputs</li> </ul>"},{"location":"guide/adapters/#available-adapters","title":"Available Adapters","text":"<p>DSPy Code supports four main adapters:</p>"},{"location":"guide/adapters/#1-chatadapter-default","title":"1. ChatAdapter (Default)","text":"<p>The default adapter for natural language interactions.</p> <p>When to use: - General use cases - Conversational AI applications - When you don't need strict structured output - Default choice for most applications</p> <p>Example:</p> <pre><code>import dspy\n\n# ChatAdapter is the default\ndspy.configure(\n    lm=dspy.LM(model=\"openai/gpt-4o\"),\n    adapter=dspy.ChatAdapter()  # Optional, this is default\n)\n\nclass QASignature(dspy.Signature):\n    question = dspy.InputField(desc=\"User's question\")\n    answer = dspy.OutputField(desc=\"Natural language answer\")\n\nqa = dspy.ChainOfThought(QASignature)\nresult = qa(question=\"What is machine learning?\")\n</code></pre>"},{"location":"guide/adapters/#2-jsonadapter","title":"2. JSONAdapter","text":"<p>Structured JSON output with native function calling support.</p> <p>When to use: - Structured data extraction - API responses - When you need guaranteed JSON format - Native function calling support</p> <p>Features: - \u2705 Structured outputs (when supported) - \u2705 Native function calling - \u2705 Automatic JSON mode fallback - \u2705 Works with Pydantic models</p> <p>Example:</p> <pre><code>import dspy\nimport pydantic\n\n# Configure with JSONAdapter\ndspy.configure(\n    lm=dspy.LM(model=\"openai/gpt-4o\"),\n    adapter=dspy.JSONAdapter()\n)\n\nclass Address(pydantic.BaseModel):\n    street: str\n    city: str\n    zip_code: str\n\nclass PersonInfo(dspy.Signature):\n    text = dspy.InputField(desc=\"Text containing person information\")\n    name = dspy.OutputField(desc=\"Person's name\")\n    age = dspy.OutputField(desc=\"Person's age\")\n    address = Address = dspy.OutputField(desc=\"Person's address\")\n\nextractor = dspy.Predict(PersonInfo)\nresult = extractor(text=\"John Smith, age 30, lives at 123 Main St, New York, NY 10001\")\n</code></pre>"},{"location":"guide/adapters/#3-xmladapter","title":"3. XMLAdapter","text":"<p>XML-formatted output for structured responses.</p> <p>When to use: - XML-based systems - Legacy integrations - When you need XML format - Human-readable structured output</p> <p>Example:</p> <pre><code>import dspy\n\n# Configure with XMLAdapter\ndspy.configure(\n    lm=dspy.LM(model=\"openai/gpt-4o\"),\n    adapter=dspy.XMLAdapter()\n)\n\nclass ExtractionSignature(dspy.Signature):\n    text = dspy.InputField(desc=\"Text to extract information from\")\n    entity = dspy.OutputField(desc=\"Extracted entity name\")\n    type = dspy.OutputField(desc=\"Entity type\")\n\nextractor = dspy.ChainOfThought(ExtractionSignature)\nresult = extractor(text=\"Apple Inc. was founded by Steve Jobs in Cupertino.\")\n</code></pre> <p>XML Format:</p> <pre><code>&lt;entity&gt;\nApple Inc.\n&lt;/entity&gt;\n\n&lt;type&gt;\nORGANIZATION\n&lt;/type&gt;\n</code></pre>"},{"location":"guide/adapters/#4-twostepadapter","title":"4. TwoStepAdapter","text":"<p>Two-stage processing: main LM for reasoning, smaller LM for extraction.</p> <p>When to use: - Using reasoning models (o3, o1) - When main model struggles with structured output - Cost optimization (expensive reasoning + cheap extraction) - Complex extraction tasks</p> <p>How it works:</p> <ol> <li>Step 1: Main LM (reasoning model) receives the problem and generates a natural language response with reasoning</li> <li>Step 2: Extraction LM (smaller model) receives the main LM's response and extracts structured fields using ChatAdapter</li> </ol> <p>Example:</p> <pre><code>import dspy\n\n# Main model: Reasoning model (expensive)\nmain_lm = dspy.LM(\n    model=\"openai/o3-mini\",\n    max_tokens=16000,\n    temperature=1.0\n)\n\n# Extraction model: Smaller, cheaper model\nextraction_lm = dspy.LM(model=\"openai/gpt-4o-mini\")\n\n# Create TwoStepAdapter\nadapter = dspy.TwoStepAdapter(extraction_model=extraction_lm)\n\n# Configure\ndspy.configure(\n    lm=main_lm,  # Main reasoning model\n    adapter=adapter\n)\n\nclass ComplexReasoningSignature(dspy.Signature):\n    problem = dspy.InputField(desc=\"Complex problem to solve\")\n    reasoning = dspy.OutputField(desc=\"Step-by-step reasoning\")\n    answer = dspy.OutputField(desc=\"Final answer\")\n    confidence = dspy.OutputField(desc=\"Confidence level\")\n\nreasoner = dspy.ChainOfThought(ComplexReasoningSignature)\nresult = reasoner(problem=\"If a train travels 60 mph for 2.5 hours, how far does it go?\")\n</code></pre>"},{"location":"guide/adapters/#using-adapters-in-dspy-code","title":"Using Adapters in DSPy Code","text":""},{"location":"guide/adapters/#via-slash-commands","title":"Via Slash Commands","text":"<p>List all adapters:</p> <pre><code>/adapters\n</code></pre> <p>Get details for a specific adapter:</p> <pre><code>/adapters json\n/adapters xml\n/adapters chat\n/adapters two-step\n</code></pre>"},{"location":"guide/adapters/#via-natural-language","title":"Via Natural Language","text":"<p>Ask about adapters:</p> <pre><code>What is JSONAdapter?\nExplain TwoStepAdapter\nTell me about all adapters\n</code></pre>"},{"location":"guide/adapters/#via-code-generation","title":"Via Code Generation","text":"<p>Request adapter usage:</p> <pre><code>Create a module using JSONAdapter for structured output\nBuild a system with TwoStepAdapter for reasoning models\nGenerate code with XMLAdapter\n</code></pre>"},{"location":"guide/adapters/#choosing-the-right-adapter","title":"Choosing the Right Adapter","text":"Adapter Best For Difficulty ChatAdapter General use, conversational AI Beginner JSONAdapter Structured data, APIs, JSON format Beginner XMLAdapter XML systems, legacy integration Beginner TwoStepAdapter Reasoning models, cost optimization Advanced"},{"location":"guide/adapters/#configuration","title":"Configuration","text":""},{"location":"guide/adapters/#global-configuration","title":"Global Configuration","text":"<p>Set adapter globally for all DSPy operations:</p> <pre><code>dspy.configure(\n    lm=dspy.LM(model=\"openai/gpt-4o\"),\n    adapter=dspy.JSONAdapter()\n)\n</code></pre>"},{"location":"guide/adapters/#context-specific-configuration","title":"Context-Specific Configuration","text":"<p>Use a specific adapter in a context:</p> <pre><code>with dspy.context(adapter=dspy.XMLAdapter()):\n    result = predictor(input=\"...\")\n</code></pre>"},{"location":"guide/adapters/#advanced-features","title":"Advanced Features","text":""},{"location":"guide/adapters/#jsonadapter-with-pydantic-models","title":"JSONAdapter with Pydantic Models","text":"<p>JSONAdapter supports complex nested structures using Pydantic:</p> <pre><code>import pydantic\nimport dspy\n\nclass Address(pydantic.BaseModel):\n    street: str\n    city: str\n    zip_code: str\n\nclass Person(dspy.Signature):\n    text = dspy.InputField()\n    name = dspy.OutputField()\n    address = Address = dspy.OutputField()\n</code></pre>"},{"location":"guide/adapters/#twostepadapter-cost-optimization","title":"TwoStepAdapter Cost Optimization","text":"<p>TwoStepAdapter can be more cost-effective:</p> <ul> <li>Main LM (o3-mini): Used for complex reasoning (expensive)</li> <li>Extraction LM (gpt-4o-mini): Used only for simple extraction (cheap)</li> </ul> <p>This can be more cost-effective than using a single expensive model for both reasoning and structured output.</p>"},{"location":"guide/adapters/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/adapters/#jsonadapter-issues","title":"JSONAdapter Issues","text":"<p>If structured outputs fail, JSONAdapter automatically falls back to JSON mode. Check:</p> <ul> <li>Model supports structured outputs (e.g., gpt-4o, claude-3.5-sonnet)</li> <li>No open-ended dict types in output fields</li> <li>Native function calling enabled (default)</li> </ul>"},{"location":"guide/adapters/#twostepadapter-issues","title":"TwoStepAdapter Issues","text":"<p>Ensure:</p> <ul> <li>Main LM is a reasoning model (o3, o1)</li> <li>Extraction LM is smaller and cheaper</li> <li>Both models are properly configured</li> </ul>"},{"location":"guide/adapters/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Generating Code to create modules with adapters</li> <li>Explore Optimization to improve your programs</li> <li>Check Validation to ensure code quality</li> <li>See Complete Programs for full examples</li> </ul>"},{"location":"guide/adapters/#additional-resources","title":"Additional Resources","text":"<ul> <li>DSPy Adapters Documentation</li> <li>Use <code>/explain adapter &lt;name&gt;</code> in the CLI for detailed explanations</li> <li>Use <code>/adapters</code> to see all available adapters</li> </ul>"},{"location":"guide/async-streaming/","title":"Async and Streaming Support","text":"<p>DSPy Code supports async/await and streaming for production applications. This guide covers async execution, streaming outputs, usage tracking, caching, and logging.</p>"},{"location":"guide/async-streaming/#overview","title":"Overview","text":"<p>DSPy provides several features for production applications:</p> <ul> <li>Async/Await - Parallel execution of programs</li> <li>Streaming - Real-time incremental output</li> <li>Usage Tracking - Monitor token usage and costs</li> <li>Caching - Reduce costs and improve latency</li> <li>Logging - Debugging and monitoring</li> </ul>"},{"location":"guide/async-streaming/#asyncawait-support","title":"Async/Await Support","text":""},{"location":"guide/async-streaming/#asyncify","title":"Asyncify","text":"<p>Convert synchronous DSPy programs to async for parallel execution.</p> <p>When to use: - Parallel execution of multiple programs - Concurrent requests - Async web frameworks (FastAPI, etc.) - Better resource utilization</p> <p>Example:</p> <pre><code>import dspy\nimport asyncio\nfrom dspy.utils.asyncify import asyncify\n\n# Create your program\nclass QAProgram(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(\"question -&gt; answer\")\n\n    def forward(self, question: str):\n        return self.predictor(question=question)\n\n# Convert to async\nprogram = QAProgram()\nasync_program = asyncify(program)\n\n# Use async program\nasync def process_questions():\n    questions = [\n        \"What is machine learning?\",\n        \"What is deep learning?\",\n        \"What is neural networks?\",\n    ]\n\n    # Process all questions concurrently\n    tasks = [async_program(question=q) for q in questions]\n    results = await asyncio.gather(*tasks)\n\n    for question, result in zip(questions, results):\n        print(f\"Q: {question}\")\n        print(f\"A: {result.answer}\\n\")\n\n    return results\n\n# Run async function\nasyncio.run(process_questions())\n</code></pre> <p>Configuration:</p> <pre><code># Set max concurrent workers\ndspy.settings.async_max_workers = 10  # Default is usually 5\n</code></pre> <p>Benefits: - Parallel execution of multiple programs - Better resource utilization - Faster processing for batch operations - Compatible with async web frameworks - Non-blocking execution</p>"},{"location":"guide/async-streaming/#streaming-support","title":"Streaming Support","text":""},{"location":"guide/async-streaming/#streamify","title":"Streamify","text":"<p>Stream outputs incrementally instead of waiting for complete response.</p> <p>When to use: - Real-time user feedback - Better user experience - Long-running tasks - Progressive output display</p> <p>Example:</p> <pre><code>import dspy\nimport asyncio\nfrom dspy.streaming import streamify\n\n# Create your program\nclass QAProgram(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(\"question -&gt; answer\")\n\n    def forward(self, question: str):\n        return self.predictor(question=question)\n\n# Convert to streaming\nprogram = QAProgram()\nstreaming_program = streamify(\n    program,\n    include_final_prediction_in_output_stream=True,\n    async_streaming=True\n)\n\n# Use streaming program\nasync def stream_response():\n    question = \"What is machine learning?\"\n\n    print(f\"Q: {question}\\n\")\n    print(\"A: \", end=\"\", flush=True)\n\n    async for chunk in streaming_program(question=question):\n        if hasattr(chunk, 'answer'):\n            # Stream the answer field\n            print(chunk.answer, end=\"\", flush=True)\n        elif isinstance(chunk, str):\n            # Stream text directly\n            print(chunk, end=\"\", flush=True)\n\n    print(\"\\n\")  # New line after streaming\n\n# Run streaming\nasyncio.run(stream_response())\n</code></pre> <p>Custom Status Messages:</p> <pre><code>from dspy.streaming.messages import StatusMessageProvider\n\nclass CustomStatusProvider(StatusMessageProvider):\n    \"\"\"Custom status message provider.\"\"\"\n\n    def get_status_message(self, module_name: str, status: str) -&gt; str:\n        \"\"\"Generate custom status messages.\"\"\"\n        messages = {\n            \"starting\": f\"\ud83d\ude80 Starting {module_name}...\",\n            \"processing\": f\"\u2699\ufe0f  Processing with {module_name}...\",\n            \"complete\": f\"\u2713 {module_name} complete\",\n        }\n        return messages.get(status, f\"{module_name}: {status}\")\n\n# Use custom status provider\nstreaming_with_status = streamify(\n    program,\n    status_message_provider=CustomStatusProvider(),\n    include_final_prediction_in_output_stream=True\n)\n</code></pre> <p>Stream Specific Fields:</p> <pre><code>from dspy.streaming.streaming_listener import StreamListener\n\n# Create listener for specific field\nanswer_listener = StreamListener(\n    target_module=\"QAProgram\",\n    target_field=\"answer\"\n)\n\nstreaming_with_listener = streamify(\n    program,\n    stream_listeners=[answer_listener],\n    include_final_prediction_in_output_stream=True\n)\n</code></pre> <p>Benefits: - Real-time user feedback - Better user experience - Progressive output display - Lower perceived latency - Works with streaming-capable models</p>"},{"location":"guide/async-streaming/#usage-tracking","title":"Usage Tracking","text":"<p>Monitor token usage, API calls, and costs.</p> <p>Example:</p> <pre><code>import dspy\nfrom dspy.utils.usage_tracker import UsageTracker\n\n# Configure DSPy\ndspy.configure(\n    lm=dspy.LM(model=\"openai/gpt-4o\")\n)\n\n# Create program\nprogram = YourProgram()\n\n# Track usage\ntracker = UsageTracker()\ntracker.reset()\n\n# Run program\nresult = program(input=\"...\")\n\n# Get usage statistics\nstats = tracker.get_stats()\n\nprint(\"Usage Statistics:\")\nprint(f\"Total tokens: {stats.get('total_tokens', 0)}\")\nprint(f\"Total cost: ${stats.get('total_cost', 0):.4f}\")\nprint(f\"API calls: {stats.get('api_calls', 0)}\")\nprint(f\"Cache hits: {stats.get('cache_hits', 0)}\")\nprint(f\"Cache misses: {stats.get('cache_misses', 0)}\")\n</code></pre> <p>Export Usage Data:</p> <pre><code>import json\nfrom pathlib import Path\n\ntracker = UsageTracker()\nstats = tracker.get_stats()\n\n# Export to JSON\noutput_file = Path(\"usage_stats.json\")\nwith open(output_file, 'w') as f:\n    json.dump(stats, f, indent=2)\n\nprint(f\"\u2713 Exported usage data to {output_file}\")\n</code></pre> <p>Benefits: - Monitor costs in real-time - Optimize token usage - Budget management - Performance analysis - Cost per request tracking</p>"},{"location":"guide/async-streaming/#caching","title":"Caching","text":"<p>Cache LM responses to reduce costs and improve latency.</p> <p>Example:</p> <pre><code>import dspy\nimport os\n\n# Set cache directory\nos.environ['DSPY_CACHEDIR'] = './.dspy_cache'\n\n# Configure DSPy\ndspy.configure(\n    lm=dspy.LM(model=\"openai/gpt-4o\")\n)\n\n# Create program\nprogram = YourProgram()\n\n# First call - will be cached\nresult1 = program(input=\"What is DSPy?\")\n\n# Second call - will use cache (same result)\nresult2 = program(input=\"What is DSPy?\")\n\n# Third call with rollout_id - bypasses cache, gets fresh response\nresult3 = program(\n    input=\"What is DSPy?\",\n    config={\"rollout_id\": \"fresh_1\", \"temperature\": 1.0}\n)\n</code></pre> <p>Cache Statistics:</p> <pre><code>from pathlib import Path\n\ncache_dir = \"./.dspy_cache\"\ncache_path = Path(cache_dir)\n\nif cache_path.exists():\n    cache_files = list(cache_path.glob(\"*.cache\"))\n\n    print(\"Cache Statistics:\")\n    print(f\"Cache files: {len(cache_files)}\")\n\n    total_size = sum(f.stat().st_size for f in cache_files)\n    print(f\"Total cache size: {total_size / 1024 / 1024:.2f} MB\")\n</code></pre> <p>Clear Cache:</p> <pre><code>from pathlib import Path\nimport shutil\n\ncache_path = Path(\"./.dspy_cache\")\nif cache_path.exists():\n    shutil.rmtree(cache_path)\n    cache_path.mkdir()\n    print(\"\u2713 Cleared cache\")\n</code></pre> <p>Benefits: - Reduced API costs (repeated queries use cache) - Faster responses (cache hits are instant) - Consistent results for same inputs - Can bypass cache with rollout_id when needed - Automatic cache management</p>"},{"location":"guide/async-streaming/#logging","title":"Logging","text":"<p>Configure logging for debugging and monitoring.</p> <p>Example:</p> <pre><code>import dspy\nimport logging\nfrom dspy.utils.logging_utils import setup_logging\n\n# Configure logging\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n    handlers=[\n        logging.FileHandler('dspy.log'),\n        logging.StreamHandler()\n    ]\n)\n\nlogger = logging.getLogger(__name__)\n\n# Set DSPy log level\ndspy.settings.log_level = logging.INFO\n\n# Or use DSPy's logging utils\nsetup_logging(level=logging.INFO)\n\n# Program with logging\nclass QAProgram(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(\"question -&gt; answer\")\n        self.logger = logging.getLogger(self.__class__.__name__)\n\n    def forward(self, question: str):\n        self.logger.info(f\"Processing question: {question}\")\n\n        try:\n            result = self.predictor(question=question)\n            self.logger.info(f\"Generated answer: {result.answer[:50]}...\")\n            return result\n        except Exception as e:\n            self.logger.error(f\"Error processing question: {e}\", exc_info=True)\n            raise\n</code></pre> <p>Structured Logging:</p> <pre><code>import json\n\ndef log_structured(level, message, **kwargs):\n    log_entry = {\n        \"level\": level,\n        \"message\": message,\n        **kwargs\n    }\n    print(json.dumps(log_entry))\n\n# Use structured logging\nlog_structured(\"INFO\", \"Processing question\", question=\"What is DSPy?\")\nlog_structured(\"INFO\", \"Generated answer\", answer=\"DSPy is a framework...\")\n</code></pre> <p>Benefits: - Debug issues in production - Monitor program behavior - Track performance metrics - Audit trail of operations - Troubleshooting support</p>"},{"location":"guide/async-streaming/#using-asyncstreaming-in-dspy-code","title":"Using Async/Streaming in DSPy Code","text":""},{"location":"guide/async-streaming/#via-slash-commands","title":"Via Slash Commands","text":"<p>Show async support:</p> <pre><code>/async                  # Show async support overview\n/async example         # Generate async example code\n</code></pre> <p>Show streaming support:</p> <pre><code>/streaming             # Show streaming support overview\n/streaming example     # Generate streaming example code\n</code></pre>"},{"location":"guide/async-streaming/#via-natural-language","title":"Via Natural Language","text":"<p>Ask about async/streaming:</p> <pre><code>How do I use async in DSPy?\nShow me streaming examples\nTell me about usage tracking\n</code></pre>"},{"location":"guide/async-streaming/#via-code-generation","title":"Via Code Generation","text":"<p>Request async/streaming code:</p> <pre><code>Create an async version of my program\nBuild a streaming response system\nAdd usage tracking to my program\n</code></pre>"},{"location":"guide/async-streaming/#best-practices","title":"Best Practices","text":""},{"location":"guide/async-streaming/#1-async-execution","title":"1. Async Execution","text":"<ul> <li>Batch operations: Use async for processing multiple items</li> <li>Concurrent limits: Set appropriate <code>async_max_workers</code></li> <li>Error handling: Handle exceptions in async tasks</li> <li>Resource management: Monitor resource usage</li> </ul>"},{"location":"guide/async-streaming/#2-streaming","title":"2. Streaming","text":"<ul> <li>User experience: Use streaming for better UX</li> <li>Progress indicators: Show status messages</li> <li>Field selection: Stream only relevant fields</li> <li>Error handling: Handle streaming errors gracefully</li> </ul>"},{"location":"guide/async-streaming/#3-usage-tracking","title":"3. Usage Tracking","text":"<ul> <li>Regular monitoring: Check usage regularly</li> <li>Cost optimization: Identify expensive operations</li> <li>Budget alerts: Set up alerts for high usage</li> <li>Export data: Export for analysis</li> </ul>"},{"location":"guide/async-streaming/#4-caching","title":"4. Caching","text":"<ul> <li>Cache strategy: Decide what to cache</li> <li>Cache invalidation: Clear cache when needed</li> <li>Fresh responses: Use rollout_id for fresh results</li> <li>Cache size: Monitor cache size</li> </ul>"},{"location":"guide/async-streaming/#5-logging","title":"5. Logging","text":"<ul> <li>Log levels: Use appropriate log levels</li> <li>Structured logging: Use structured format for production</li> <li>Log rotation: Rotate logs to manage size</li> <li>Security: Don't log sensitive data</li> </ul>"},{"location":"guide/async-streaming/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/async-streaming/#async-issues","title":"Async Issues","text":"<ul> <li>Import errors: Ensure <code>asyncer</code> is installed</li> <li>Deadlocks: Check for blocking operations</li> <li>Resource limits: Adjust <code>async_max_workers</code></li> <li>Error propagation: Handle exceptions properly</li> </ul>"},{"location":"guide/async-streaming/#streaming-issues","title":"Streaming Issues","text":"<ul> <li>Model support: Ensure model supports streaming</li> <li>Field access: Check field names match signature</li> <li>Status messages: Verify status provider implementation</li> <li>Performance: Monitor streaming performance</li> </ul>"},{"location":"guide/async-streaming/#usage-tracking-issues","title":"Usage Tracking Issues","text":"<ul> <li>Missing data: Ensure tracking is enabled</li> <li>Cost calculation: Verify cost calculation logic</li> <li>Export errors: Check file permissions</li> <li>Statistics: Verify statistics calculation</li> </ul>"},{"location":"guide/async-streaming/#caching-issues","title":"Caching Issues","text":"<ul> <li>Cache not working: Check cache directory permissions</li> <li>Stale cache: Clear cache when needed</li> <li>Cache size: Monitor and manage cache size</li> <li>Bypass cache: Use rollout_id correctly</li> </ul>"},{"location":"guide/async-streaming/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Optimization to improve performance</li> <li>Explore RAG Systems for RAG-specific patterns</li> <li>Check Evaluation to measure performance</li> <li>See Complete Programs for full examples</li> </ul>"},{"location":"guide/async-streaming/#additional-resources","title":"Additional Resources","text":"<ul> <li>DSPy Async Documentation</li> <li>DSPy Streaming Documentation</li> <li>Use <code>/async</code> and <code>/streaming</code> in the CLI for examples</li> <li>Use <code>/explain async</code> or <code>/explain streaming</code> for detailed explanations</li> </ul>"},{"location":"guide/creating-gold-data/","title":"Creating Gold Example Data","text":"<p>Complete guide to creating high-quality training data for DSPy optimization using DSPy Code.</p>"},{"location":"guide/creating-gold-data/#what-is-gold-example-data","title":"What is Gold Example Data?","text":"<p>Gold example data (also called training data) consists of input-output pairs that represent the correct behavior of your DSPy program.</p> <p>Example for sentiment analysis:</p> <pre><code>{\n  \"text\": \"I love this product!\",\n  \"sentiment\": \"positive\"\n}\n</code></pre> <p>Why it's called \"gold\":</p> <ul> <li>Represents the \"gold standard\" of correct outputs</li> <li>Used to train and optimize your DSPy programs</li> <li>Quality of gold data directly impacts optimization results</li> </ul>"},{"location":"guide/creating-gold-data/#data-requirements-for-gepa","title":"Data Requirements for GEPA","text":"<p>GEPA (Genetic Prompt Evolution Algorithm) requires:</p> <p>Minimum: - 10-20 examples for simple tasks - 50-100 examples for complex tasks</p> <p>Recommended: - 50-200 examples for production use - Diverse examples covering edge cases - Balanced across categories (for classification)</p> <p>Format: - JSON or JSONL (JSON Lines) - Consistent field names - All examples have same input fields - Clear, unambiguous outputs</p>"},{"location":"guide/creating-gold-data/#methods-to-create-gold-data","title":"Methods to Create Gold Data","text":"<p>DSPy Code provides three methods:</p> <ol> <li>AI-Generated - Let AI create synthetic examples</li> <li>Interactive - Manually enter examples</li> <li>Import - Load from existing files</li> </ol>"},{"location":"guide/creating-gold-data/#method-1-ai-generated-data-recommended","title":"Method 1: AI-Generated Data (Recommended)","text":"<p>Use the LLM to generate diverse, high-quality examples:</p> <pre><code>Generate 50 examples for sentiment analysis\n</code></pre> <p>What happens:</p> <ol> <li>DSPy Code analyzes your task</li> <li>Generates diverse input examples</li> <li>Creates correct outputs</li> <li>Ensures variety and coverage</li> </ol> <p>Output:</p> <pre><code>\ud83c\udfb2 Generating 50 diverse examples for sentiment analysis...\n\n\u2713 Generated 50 examples!\n\nSample Examples:\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 Input: \"The movie was absolutely fantastic, a real masterpiece!\"           \u2502\n\u2502 Output: \"positive\"                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Input: \"I'm not sure how I feel about this, it's neither good nor bad.\"    \u2502\n\u2502 Output: \"neutral\"                                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Input: \"What a terrible experience, I regret every moment.\"                \u2502\n\u2502 Output: \"negative\"                                                         \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\nDistribution:\n  positive: 17 examples (34%)\n  negative: 16 examples (32%)\n  neutral: 17 examples (34%)\n\nNext Steps:\n\u2022 Type /save-data &lt;filename&gt; to save as JSONL\n\u2022 Ask me to generate more examples\n\u2022 Use these for GEPA optimization\n\u2022 Request different types of examples\n</code></pre> <p>Advanced generation:</p> <pre><code>Generate 100 examples for email classification with diverse subjects, senders, and content types\n</code></pre> <pre><code>Generate 50 examples for question answering about Python programming\n</code></pre> <pre><code>Generate 30 examples for text summarization with varying document lengths\n</code></pre>"},{"location":"guide/creating-gold-data/#method-2-interactive-data-collection","title":"Method 2: Interactive Data Collection","text":"<p>Manually enter examples through guided prompts:</p> <pre><code>/data collect\n</code></pre> <p>Interactive flow:</p> <pre><code>\ud83d\udcca Training Data Collection\n\nLet's collect training examples for optimization.\nYou'll need at least 10 examples.\n\nExample 1:\n  Enter inputs (or 'done' to finish):\n    Field name [done]: text\n    text value: I love this product!\n    Add another input field? [y/N]: n\n  Expected output: positive\n\u2713 Example 1 added\n\nExample 2:\n  Enter inputs (or 'done' to finish):\n    Field name [done]: text\n    text value: This is terrible\n    Add another input field? [y/N]: n\n  Expected output: negative\n\u2713 Example 2 added\n\n...\n\nAdd more examples? (have 10) [Y/n]: n\n\n\u2713 Collected 10 examples\n\nTraining Data Summary:\nTotal examples: 10\nInput fields: text\n\nSample Examples:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 text                     \u2502 Output   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 I love this product!     \u2502 positive \u2502\n\u2502 This is terrible         \u2502 negative \u2502\n\u2502 It's okay                \u2502 neutral  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nSave to file? [Y/n]: y\nFilename [training_data.jsonl]: sentiment_train.jsonl\n\u2713 Saved to data/sentiment_train.jsonl\n</code></pre>"},{"location":"guide/creating-gold-data/#method-3-import-from-files","title":"Method 3: Import from Files","text":"<p>Load existing data from JSON or JSONL files:</p> <pre><code>/data load examples.jsonl\n</code></pre> <p>Supported formats:</p> <p>JSONL (JSON Lines) - Recommended:</p> <pre><code>{\"text\": \"I love this!\", \"sentiment\": \"positive\"}\n{\"text\": \"Terrible product\", \"sentiment\": \"negative\"}\n{\"text\": \"It's okay\", \"sentiment\": \"neutral\"}\n</code></pre> <p>JSON Array:</p> <pre><code>[\n  {\"text\": \"I love this!\", \"sentiment\": \"positive\"},\n  {\"text\": \"Terrible product\", \"sentiment\": \"negative\"},\n  {\"text\": \"It's okay\", \"sentiment\": \"neutral\"}\n]\n</code></pre> <p>CSV (auto-converted):</p> <pre><code>text,sentiment\n\"I love this!\",positive\n\"Terrible product\",negative\n\"It's okay\",neutral\n</code></pre> <p>Import process:</p> <pre><code>/data load sentiment_examples.csv\n\nLoading data from sentiment_examples.csv...\n\u2713 Detected CSV format\n\u2713 Converting to JSONL\n\u2713 Loaded 50 examples\n\nValidation:\n  \u2713 All examples have consistent fields\n  \u2713 No empty values\n  \u2713 Field names match: text, sentiment\n\nData Summary:\n  Total: 50 examples\n  Fields: text (input), sentiment (output)\n  Distribution:\n    positive: 17 (34%)\n    negative: 16 (32%)\n    neutral: 17 (34%)\n\n\u2713 Data ready for optimization!\n</code></pre>"},{"location":"guide/creating-gold-data/#data-quality-guidelines","title":"Data Quality Guidelines","text":""},{"location":"guide/creating-gold-data/#1-diversity","title":"1. Diversity","text":"<p>Good - Diverse examples:</p> <pre><code>{\"text\": \"I absolutely love this!\", \"sentiment\": \"positive\"}\n{\"text\": \"Best purchase ever!\", \"sentiment\": \"positive\"}\n{\"text\": \"Exceeded my expectations\", \"sentiment\": \"positive\"}\n{\"text\": \"Terrible quality\", \"sentiment\": \"negative\"}\n{\"text\": \"Very disappointed\", \"sentiment\": \"negative\"}\n{\"text\": \"Waste of money\", \"sentiment\": \"negative\"}\n{\"text\": \"It's okay\", \"sentiment\": \"neutral\"}\n{\"text\": \"Nothing special\", \"sentiment\": \"neutral\"}\n{\"text\": \"Average product\", \"sentiment\": \"neutral\"}\n</code></pre> <p>Bad - Repetitive examples:</p> <pre><code>{\"text\": \"I love it\", \"sentiment\": \"positive\"}\n{\"text\": \"I love this\", \"sentiment\": \"positive\"}\n{\"text\": \"I love that\", \"sentiment\": \"positive\"}\n</code></pre>"},{"location":"guide/creating-gold-data/#2-balance","title":"2. Balance","text":"<p>Good - Balanced distribution:</p> <pre><code>positive: 33 examples (33%)\nnegative: 34 examples (34%)\nneutral: 33 examples (33%)\n</code></pre> <p>Bad - Imbalanced:</p> <pre><code>positive: 80 examples (80%)\nnegative: 15 examples (15%)\nneutral: 5 examples (5%)\n</code></pre>"},{"location":"guide/creating-gold-data/#3-clarity","title":"3. Clarity","text":"<p>Good - Clear, unambiguous:</p> <pre><code>{\"text\": \"This product is amazing!\", \"sentiment\": \"positive\"}\n{\"text\": \"Worst purchase ever\", \"sentiment\": \"negative\"}\n</code></pre> <p>Bad - Ambiguous:</p> <pre><code>{\"text\": \"Well...\", \"sentiment\": \"positive\"}  // Unclear\n{\"text\": \"It's something\", \"sentiment\": \"neutral\"}  // Vague\n</code></pre>"},{"location":"guide/creating-gold-data/#4-realistic","title":"4. Realistic","text":"<p>Good - Real-world examples:</p> <pre><code>{\"text\": \"The app crashes when I click save. Very frustrating.\", \"sentiment\": \"negative\"}\n{\"text\": \"Fast shipping and great customer service!\", \"sentiment\": \"positive\"}\n</code></pre> <p>Bad - Artificial examples:</p> <pre><code>{\"text\": \"positive sentiment example\", \"sentiment\": \"positive\"}\n{\"text\": \"test negative\", \"sentiment\": \"negative\"}\n</code></pre>"},{"location":"guide/creating-gold-data/#5-completeness","title":"5. Completeness","text":"<p>Good - All fields present:</p> <pre><code>{\n  \"question\": \"What is Python?\",\n  \"context\": \"Python is a programming language created by Guido van Rossum.\",\n  \"answer\": \"Python is a programming language\"\n}\n</code></pre> <p>Bad - Missing fields:</p> <pre><code>{\n  \"question\": \"What is Python?\",\n  \"answer\": \"Python is a programming language\"\n  // Missing context field!\n}\n</code></pre>"},{"location":"guide/creating-gold-data/#data-validation","title":"Data Validation","text":""},{"location":"guide/creating-gold-data/#automatic-validation","title":"Automatic Validation","text":"<p>DSPy Code automatically validates your data:</p> <pre><code>/data validate\n</code></pre> <p>Checks performed:</p> <ol> <li>Consistent fields - All examples have same inputs</li> <li>No empty values - All fields have content</li> <li>Correct types - Values match expected types</li> <li>Sufficient quantity - Enough examples for optimization</li> <li>Distribution - Balanced across categories</li> </ol> <p>Validation report:</p> <pre><code>Data Validation Report:\n\n\u2713 Field Consistency\n  All 50 examples have fields: text, sentiment\n\n\u2713 No Empty Values\n  All fields contain data\n\n\u2713 Type Checking\n  text: string (50/50)\n  sentiment: string (50/50)\n\n\u2713 Quantity\n  50 examples (minimum 10 required)\n\n\u26a0 Distribution\n  positive: 30 (60%)  \u2190 Overrepresented\n  negative: 15 (30%)\n  neutral: 5 (10%)   \u2190 Underrepresented\n\n  Recommendation: Add more neutral and negative examples\n\nQuality Score: 85/100\n\nIssues: 1 warning\nErrors: 0\n</code></pre>"},{"location":"guide/creating-gold-data/#manual-validation","title":"Manual Validation","text":"<p>Review examples manually:</p> <pre><code>/data show\n</code></pre> <p>Display options:</p> <pre><code>/data show --limit 10        # Show first 10\n/data show --random 5        # Show 5 random\n/data show --filter positive # Show only positive\n/data show --stats           # Show statistics\n</code></pre>"},{"location":"guide/creating-gold-data/#data-augmentation","title":"Data Augmentation","text":""},{"location":"guide/creating-gold-data/#expand-existing-data","title":"Expand Existing Data","text":"<p>Generate variations of existing examples:</p> <pre><code>Augment my training data with 50 more diverse examples\n</code></pre> <p>What happens:</p> <ol> <li>Analyzes existing examples</li> <li>Identifies patterns</li> <li>Generates similar but different examples</li> <li>Maintains distribution</li> </ol> <p>Example:</p> <p>Original:</p> <pre><code>{\"text\": \"I love this product!\", \"sentiment\": \"positive\"}\n</code></pre> <p>Augmented:</p> <pre><code>{\"text\": \"This product is fantastic!\", \"sentiment\": \"positive\"}\n{\"text\": \"Absolutely love it!\", \"sentiment\": \"positive\"}\n{\"text\": \"Best product I've bought!\", \"sentiment\": \"positive\"}\n</code></pre>"},{"location":"guide/creating-gold-data/#paraphrase-examples","title":"Paraphrase Examples","text":"<p>Create paraphrases for more variety:</p> <pre><code>Create 3 paraphrases for each example in my training data\n</code></pre>"},{"location":"guide/creating-gold-data/#add-edge-cases","title":"Add Edge Cases","text":"<p>Request specific edge cases:</p> <pre><code>Generate 20 edge case examples for sentiment analysis including sarcasm, mixed emotions, and ambiguous statements\n</code></pre> <p>Generated:</p> <pre><code>{\"text\": \"Oh great, another bug. Just what I needed.\", \"sentiment\": \"negative\"}\n{\"text\": \"It's good but could be better\", \"sentiment\": \"neutral\"}\n{\"text\": \"I hate to love this\", \"sentiment\": \"positive\"}\n</code></pre>"},{"location":"guide/creating-gold-data/#data-organization","title":"Data Organization","text":""},{"location":"guide/creating-gold-data/#file-naming","title":"File Naming","text":"<p>By task:</p> <pre><code>data/\n\u251c\u2500\u2500 sentiment_train.jsonl\n\u251c\u2500\u2500 sentiment_val.jsonl\n\u2514\u2500\u2500 sentiment_test.jsonl\n</code></pre> <p>By version:</p> <pre><code>data/\n\u251c\u2500\u2500 sentiment_v1_train.jsonl\n\u251c\u2500\u2500 sentiment_v2_train.jsonl\n\u2514\u2500\u2500 sentiment_v3_train.jsonl\n</code></pre> <p>By source:</p> <pre><code>data/\n\u251c\u2500\u2500 sentiment_ai_generated.jsonl\n\u251c\u2500\u2500 sentiment_manual.jsonl\n\u2514\u2500\u2500 sentiment_real_users.jsonl\n</code></pre>"},{"location":"guide/creating-gold-data/#trainvaltest-split","title":"Train/Val/Test Split","text":"<p>Recommended split:</p> <ul> <li>Training: 70-80%</li> <li>Validation: 10-15%</li> <li>Test: 10-15%</li> </ul> <p>Split existing data:</p> <pre><code>/data split sentiment_all.jsonl --train 0.7 --val 0.15 --test 0.15\n</code></pre> <p>Output:</p> <pre><code>Splitting sentiment_all.jsonl...\n\n\u2713 Created sentiment_train.jsonl (70 examples, 70%)\n\u2713 Created sentiment_val.jsonl (15 examples, 15%)\n\u2713 Created sentiment_test.jsonl (15 examples, 15%)\n\nTotal: 100 examples\n</code></pre>"},{"location":"guide/creating-gold-data/#merge-data-files","title":"Merge Data Files","text":"<p>Combine multiple data files:</p> <pre><code>/data merge sentiment_ai.jsonl sentiment_manual.jsonl --output sentiment_combined.jsonl\n</code></pre>"},{"location":"guide/creating-gold-data/#data-for-different-tasks","title":"Data for Different Tasks","text":""},{"location":"guide/creating-gold-data/#classification","title":"Classification","text":"<p>Structure:</p> <pre><code>{\n  \"input_field\": \"text to classify\",\n  \"category\": \"predicted_category\"\n}\n</code></pre> <p>Example - Sentiment:</p> <pre><code>{\"text\": \"I love this!\", \"sentiment\": \"positive\"}\n</code></pre> <p>Example - Email:</p> <pre><code>{\n  \"subject\": \"Meeting tomorrow\",\n  \"body\": \"Can we reschedule?\",\n  \"category\": \"work\"\n}\n</code></pre>"},{"location":"guide/creating-gold-data/#question-answering","title":"Question Answering","text":"<p>Structure:</p> <pre><code>{\n  \"question\": \"question text\",\n  \"context\": \"relevant context\",\n  \"answer\": \"correct answer\"\n}\n</code></pre> <p>Example:</p> <pre><code>{\n  \"question\": \"What is the capital of France?\",\n  \"context\": \"France is a country in Europe. Its capital is Paris.\",\n  \"answer\": \"Paris\"\n}\n</code></pre>"},{"location":"guide/creating-gold-data/#text-generation","title":"Text Generation","text":"<p>Structure:</p> <pre><code>{\n  \"prompt\": \"generation prompt\",\n  \"generated_text\": \"expected output\"\n}\n</code></pre> <p>Example - Summarization:</p> <pre><code>{\n  \"document\": \"Long document text here...\",\n  \"summary\": \"Brief summary of the document\"\n}\n</code></pre>"},{"location":"guide/creating-gold-data/#extraction","title":"Extraction","text":"<p>Structure:</p> <pre><code>{\n  \"text\": \"text to extract from\",\n  \"entities\": [\"extracted\", \"entities\"]\n}\n</code></pre> <p>Example - Named Entity Recognition:</p> <pre><code>{\n  \"text\": \"Apple Inc. was founded by Steve Jobs in California.\",\n  \"entities\": [\"Apple Inc.\", \"Steve Jobs\", \"California\"]\n}\n</code></pre>"},{"location":"guide/creating-gold-data/#rag-retrieval-augmented-generation","title":"RAG (Retrieval-Augmented Generation)","text":"<p>Structure:</p> <pre><code>{\n  \"query\": \"user question\",\n  \"retrieved_context\": \"relevant documents\",\n  \"answer\": \"generated answer\"\n}\n</code></pre> <p>Example:</p> <pre><code>{\n  \"query\": \"How do I install DSPy?\",\n  \"retrieved_context\": \"DSPy can be installed using pip: pip install dspy\",\n  \"answer\": \"You can install DSPy by running 'pip install dspy' in your terminal.\"\n}\n</code></pre>"},{"location":"guide/creating-gold-data/#using-gold-data-for-optimization","title":"Using Gold Data for Optimization","text":""},{"location":"guide/creating-gold-data/#save-data","title":"Save Data","text":"<pre><code>/save-data sentiment_train.jsonl\n</code></pre> <p>Saved to: <code>data/sentiment_train.jsonl</code></p>"},{"location":"guide/creating-gold-data/#load-data-for-optimization","title":"Load Data for Optimization","text":"<pre><code>/optimize my_module.py sentiment_train.jsonl\n</code></pre>"},{"location":"guide/creating-gold-data/#specify-data-in-gepa-script","title":"Specify Data in GEPA Script","text":"<p>Generated GEPA scripts include data loading:</p> <pre><code>def load_training_data(filepath):\n    \"\"\"Load training examples from JSONL.\"\"\"\n    examples = []\n    with open(filepath, 'r') as f:\n        for line in f:\n            data = json.loads(line)\n            example = dspy.Example(**data).with_inputs('text')\n            examples.append(example)\n    return examples\n\n# Load data\ntrainset = load_training_data('data/sentiment_train.jsonl')\n</code></pre>"},{"location":"guide/creating-gold-data/#data-best-practices","title":"Data Best Practices","text":""},{"location":"guide/creating-gold-data/#1-start-with-ai-generation","title":"1. Start with AI Generation","text":"<p>Quickest way to get started:</p> <pre><code>Generate 50 examples for [task]\n</code></pre>"},{"location":"guide/creating-gold-data/#2-review-and-refine","title":"2. Review and Refine","text":"<p>Check generated examples:</p> <pre><code>/data show --random 10\n</code></pre> <p>Remove bad examples, add edge cases.</p>"},{"location":"guide/creating-gold-data/#3-augment-with-real-data","title":"3. Augment with Real Data","text":"<p>Add real user data when available:</p> <pre><code>/data load user_feedback.csv\n/data merge ai_generated.jsonl user_feedback.jsonl\n</code></pre>"},{"location":"guide/creating-gold-data/#4-validate-before-optimization","title":"4. Validate Before Optimization","text":"<p>Always validate:</p> <pre><code>/data validate\n</code></pre> <p>Fix issues before running GEPA.</p>"},{"location":"guide/creating-gold-data/#5-keep-multiple-versions","title":"5. Keep Multiple Versions","text":"<p>Save versions as you improve:</p> <pre><code>data/\n\u251c\u2500\u2500 sentiment_v1.jsonl  # Initial AI-generated\n\u251c\u2500\u2500 sentiment_v2.jsonl  # After manual review\n\u2514\u2500\u2500 sentiment_v3.jsonl  # With real user data\n</code></pre>"},{"location":"guide/creating-gold-data/#6-document-your-data","title":"6. Document Your Data","text":"<p>Add metadata file:</p> <pre><code># data/sentiment_metadata.yaml\ndataset: sentiment_v3\ncreated: 2025-01-15\ntotal_examples: 150\nsource: AI-generated + manual review + user feedback\ndistribution:\n  positive: 50\n  negative: 50\n  neutral: 50\nquality_score: 95\nnotes: |\n  - Includes edge cases for sarcasm\n  - Balanced across all categories\n  - Validated for consistency\n</code></pre>"},{"location":"guide/creating-gold-data/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/creating-gold-data/#not-enough-examples","title":"Not Enough Examples","text":"<pre><code>\u26a0\ufe0f  Only 5 examples. Need at least 10 for optimization.\n</code></pre> <p>Solution:</p> <pre><code>Generate 20 more examples for [task]\n</code></pre>"},{"location":"guide/creating-gold-data/#imbalanced-data","title":"Imbalanced Data","text":"<pre><code>\u26a0\ufe0f  Distribution is imbalanced:\n  positive: 80%\n  negative: 15%\n  neutral: 5%\n</code></pre> <p>Solution:</p> <pre><code>Generate 30 negative examples and 30 neutral examples for sentiment analysis\n</code></pre>"},{"location":"guide/creating-gold-data/#inconsistent-fields","title":"Inconsistent Fields","text":"<pre><code>\u274c Example 5 has different fields than Example 1\n</code></pre> <p>Solution:</p> <p>Review and fix manually, or regenerate:</p> <pre><code>/data validate --fix\n</code></pre>"},{"location":"guide/creating-gold-data/#empty-values","title":"Empty Values","text":"<pre><code>\u274c Example 12 has empty 'text' field\n</code></pre> <p>Solution:</p> <p>Remove or fix the example:</p> <pre><code>/data remove --index 12\n</code></pre> <p>Or regenerate:</p> <pre><code>/data validate --remove-empty\n</code></pre>"},{"location":"guide/creating-gold-data/#summary","title":"Summary","text":"<p>Creating gold example data:</p> <ul> <li>\u2705 AI-generated (fastest)</li> <li>\u2705 Interactive collection (most control)</li> <li>\u2705 Import from files (use existing data)</li> <li>\u2705 Validation and quality checks</li> <li>\u2705 Data augmentation</li> <li>\u2705 Train/val/test splits</li> <li>\u2705 Task-specific formats</li> </ul> <p>Key commands:</p> <ul> <li><code>Generate N examples for [task]</code> - AI generation</li> <li><code>/data collect</code> - Interactive collection</li> <li><code>/data load &lt;file&gt;</code> - Import data</li> <li><code>/data validate</code> - Check quality</li> <li><code>/save-data &lt;file&gt;</code> - Save data</li> <li><code>/data split</code> - Create train/val/test</li> <li><code>/data merge</code> - Combine datasets</li> </ul> <p>Best practices:</p> <ol> <li>Start with 50-100 examples</li> <li>Ensure diversity and balance</li> <li>Use clear, realistic examples</li> <li>Validate before optimization</li> <li>Keep multiple versions</li> <li>Document your data</li> </ol> <p>Learn About Optimization \u2192 See Complete Workflow \u2192</p>"},{"location":"guide/evaluation/","title":"DSPy Evaluation Guide","text":"<p>Comprehensive evaluation framework for measuring and improving your DSPy programs. This guide covers all available metrics, evaluation strategies, and best practices.</p>"},{"location":"guide/evaluation/#quick-start-with-natural-language","title":"Quick Start with Natural Language","text":"<p>DSPy Code supports natural language for evaluation! You don't need to remember command syntax - just describe what you want:</p> <p>Examples: - \"evaluate my program\" - \"test performance with accuracy\" - \"measure F1 score of my_module.py\" - \"run evaluation on test_data.jsonl\" - \"calculate metrics\"</p> <p>DSPy Code automatically understands your intent and routes to the appropriate evaluation command. See the Natural Language Commands guide for more examples.</p>"},{"location":"guide/evaluation/#what-is-evaluation","title":"What is Evaluation?","text":"<p>Evaluation measures how well your DSPy program performs on your task. It helps you:</p> <ul> <li>Measure Performance - Understand current accuracy and quality</li> <li>Compare Approaches - Test different predictors, optimizers, or configurations</li> <li>Track Progress - Monitor improvements during optimization</li> <li>Quality Assurance - Ensure production readiness</li> </ul>"},{"location":"guide/evaluation/#available-metrics","title":"Available Metrics","text":"<p>DSPy Code supports a comprehensive set of evaluation metrics:</p>"},{"location":"guide/evaluation/#basic-metrics","title":"Basic Metrics","text":""},{"location":"guide/evaluation/#accuracy","title":"Accuracy","text":"<p>Simple accuracy metric for classification tasks.</p> <pre><code>def accuracy_metric(example, pred, trace=None):\n    \"\"\"Calculate accuracy.\"\"\"\n    predicted = pred.output.strip().lower()\n    expected = example.output.strip().lower()\n    return 1.0 if predicted == expected else 0.0\n</code></pre> <p>When to use: - Classification tasks - Exact match requirements - Simple correctness checks</p>"},{"location":"guide/evaluation/#f1-score","title":"F1 Score","text":"<p>F1 score for classification tasks (harmonic mean of precision and recall).</p> <pre><code>def f1_metric(example, pred, trace=None):\n    \"\"\"Calculate F1 score.\"\"\"\n    predicted = pred.output.strip().lower()\n    expected = example.output.strip().lower()\n\n    if predicted == expected:\n        return 1.0  # Perfect precision and recall\n    else:\n        return 0.0  # Simplified - implement proper F1 for your task\n</code></pre> <p>When to use: - Classification with multiple classes - Need to balance precision and recall - Imbalanced datasets</p>"},{"location":"guide/evaluation/#precision-recall","title":"Precision &amp; Recall","text":"<p>Precision and recall metrics for classification.</p> <pre><code>def precision_metric(example, pred, trace=None):\n    \"\"\"Calculate precision.\"\"\"\n    # Implement based on your task\n    pass\n\ndef recall_metric(example, pred, trace=None):\n    \"\"\"Calculate recall.\"\"\"\n    # Implement based on your task\n    pass\n</code></pre> <p>When to use: - Binary classification - Need separate precision/recall scores - Understanding false positives/negatives</p>"},{"location":"guide/evaluation/#exact-match","title":"Exact Match","text":"<p>Exact match metric for question answering tasks.</p> <pre><code>def exact_match_metric(example, pred, trace=None):\n    \"\"\"Exact match metric for QA.\"\"\"\n    predicted = pred.output.strip()\n    expected = example.output.strip()\n    return 1.0 if predicted == expected else 0.0\n</code></pre> <p>When to use: - Question answering - Factual extraction - Short answer tasks</p>"},{"location":"guide/evaluation/#advanced-metrics","title":"Advanced Metrics","text":""},{"location":"guide/evaluation/#answer-correctness","title":"Answer Correctness","text":"<p>Answer correctness for QA tasks with partial credit.</p> <pre><code>def answer_correctness_metric(example, pred, trace=None):\n    \"\"\"Answer correctness for QA tasks.\"\"\"\n    predicted = pred.answer.strip().lower() if hasattr(pred, 'answer') else pred.output.strip().lower()\n    expected = example.answer.strip().lower() if hasattr(example, 'answer') else example.output.strip().lower()\n\n    # Check exact match\n    if predicted == expected:\n        return 1.0\n\n    # Check if answer contains expected key terms\n    expected_terms = set(expected.split())\n    predicted_terms = set(predicted.split())\n    overlap = len(expected_terms &amp; predicted_terms)\n\n    if len(expected_terms) &gt; 0:\n        return overlap / len(expected_terms)\n    return 0.0\n</code></pre> <p>When to use: - Question answering with partial credit - Flexible answer formats - Key term matching</p>"},{"location":"guide/evaluation/#context-relevance","title":"Context Relevance","text":"<p>Context relevance for RAG tasks.</p> <pre><code>def context_relevance_metric(example, pred, trace=None):\n    \"\"\"Context relevance for RAG tasks.\"\"\"\n    question = example.question if hasattr(example, 'question') else example.input_text\n    context = pred.context if hasattr(pred, 'context') else \"\"\n\n    if not context:\n        return 0.0\n\n    # Simple relevance: check keyword overlap\n    question_words = set(question.lower().split())\n    context_words = set(context.lower().split())\n    overlap = len(question_words &amp; context_words)\n\n    if len(question_words) &gt; 0:\n        return min(overlap / len(question_words), 1.0)\n    return 0.0\n</code></pre> <p>When to use: - RAG systems - Measuring retrieval quality - Context quality assessment</p>"},{"location":"guide/evaluation/#faithfulness","title":"Faithfulness","text":"<p>Faithfulness: answer is grounded in context.</p> <pre><code>def faithfulness_metric(example, pred, trace=None):\n    \"\"\"Faithfulness: answer is grounded in context.\"\"\"\n    answer = pred.answer if hasattr(pred, 'answer') else pred.output\n    context = pred.context if hasattr(pred, 'context') else \"\"\n\n    if not context or not answer:\n        return 0.0\n\n    # Check if answer terms appear in context\n    answer_words = set(answer.lower().split())\n    context_words = set(context.lower().split())\n    overlap = len(answer_words &amp; context_words)\n\n    if len(answer_words) &gt; 0:\n        return overlap / len(answer_words)\n    return 0.0\n</code></pre> <p>When to use: - RAG systems - Measuring hallucination - Grounding verification</p>"},{"location":"guide/evaluation/#rouge-score","title":"ROUGE Score","text":"<p>ROUGE score for summarization tasks.</p> <pre><code>def rouge_metric(example, pred, trace=None):\n    \"\"\"ROUGE score for summarization tasks.\"\"\"\n    try:\n        from rouge_score import rouge_scorer\n        scorer = rouge_scorer.RougeScorer(['rouge1', 'rouge2', 'rougeL'], use_stemmer=True)\n\n        predicted = pred.output if hasattr(pred, 'output') else str(pred)\n        expected = example.output if hasattr(example, 'output') else str(example)\n\n        scores = scorer.score(expected, predicted)\n        # Return average of ROUGE-1, ROUGE-2, ROUGE-L F1 scores\n        return (scores['rouge1'].fmeasure + scores['rouge2'].fmeasure + scores['rougeL'].fmeasure) / 3.0\n    except ImportError:\n        print(\"\u26a0\ufe0f  rouge-score not installed: pip install rouge-score\")\n        return 0.0\n</code></pre> <p>When to use: - Summarization tasks - Text generation - Content overlap measurement</p>"},{"location":"guide/evaluation/#bleu-score","title":"BLEU Score","text":"<p>BLEU score for generation tasks.</p> <pre><code>def bleu_metric(example, pred, trace=None):\n    \"\"\"BLEU score for generation tasks.\"\"\"\n    try:\n        from nltk.translate.bleu_score import sentence_bleu\n\n        predicted = pred.output.split() if hasattr(pred, 'output') else str(pred).split()\n        expected = example.output.split() if hasattr(example, 'output') else str(example).split()\n\n        return sentence_bleu([expected], predicted)\n    except ImportError:\n        print(\"\u26a0\ufe0f  nltk not installed: pip install nltk\")\n        return 0.0\n</code></pre> <p>When to use: - Text generation - Machine translation - Sequence-to-sequence tasks</p>"},{"location":"guide/evaluation/#semantic-similarity","title":"Semantic Similarity","text":"<p>Semantic similarity using embeddings.</p> <pre><code>def semantic_similarity_metric(example, pred, trace=None):\n    \"\"\"Semantic similarity using embeddings.\"\"\"\n    try:\n        from sentence_transformers import SentenceTransformer\n        import numpy as np\n\n        model = SentenceTransformer('all-MiniLM-L6-v2')\n\n        predicted = pred.output if hasattr(pred, 'output') else str(pred)\n        expected = example.output if hasattr(example, 'output') else str(example)\n\n        embeddings = model.encode([predicted, expected])\n        similarity = np.dot(embeddings[0], embeddings[1]) / (\n            np.linalg.norm(embeddings[0]) * np.linalg.norm(embeddings[1])\n        )\n        return float(similarity)\n    except ImportError:\n        print(\"\u26a0\ufe0f  sentence-transformers not installed: pip install sentence-transformers\")\n        return 0.0\n</code></pre> <p>When to use: - Semantic similarity tasks - Flexible answer formats - Meaning-based evaluation</p>"},{"location":"guide/evaluation/#running-evaluation","title":"Running Evaluation","text":""},{"location":"guide/evaluation/#basic-evaluation","title":"Basic Evaluation","text":"<pre><code>import dspy\nfrom dspy.evaluate import Evaluate\n\n# Your program\nprogram = YourModule()\n\n# Test dataset\ntestset = [\n    dspy.Example(input=\"...\", output=\"...\").with_inputs(\"input\"),\n    # ... more examples\n]\n\n# Metric function\ndef accuracy_metric(example, pred, trace=None):\n    return 1.0 if pred.output == example.output else 0.0\n\n# Run evaluation\nevaluator = Evaluate(\n    devset=testset,\n    metric=accuracy_metric,\n    num_threads=4,\n    display_progress=True\n)\n\nscore = evaluator(program)\nprint(f\"Accuracy: {score:.2%}\")\n</code></pre>"},{"location":"guide/evaluation/#multiple-metrics","title":"Multiple Metrics","text":"<pre><code># Define multiple metrics\ndef accuracy_metric(example, pred, trace=None):\n    return 1.0 if pred.output == example.output else 0.0\n\ndef semantic_similarity_metric(example, pred, trace=None):\n    # ... implementation\n    return similarity_score\n\n# Evaluate with each metric\naccuracy = Evaluate(devset=testset, metric=accuracy_metric)(program)\nsimilarity = Evaluate(devset=testset, metric=semantic_similarity_metric)(program)\n\nprint(f\"Accuracy: {accuracy:.2%}\")\nprint(f\"Semantic Similarity: {similarity:.2%}\")\n</code></pre>"},{"location":"guide/evaluation/#using-dspy-code-cli","title":"Using DSPy Code CLI","text":"<p>Generate evaluation code:</p> <pre><code>/eval                    # Generate evaluation with accuracy metric\n/eval list               # List all available metrics\n/eval accuracy f1        # Use multiple metrics\n/eval context_relevance  # Use RAG-specific metrics\n</code></pre>"},{"location":"guide/evaluation/#evaluation-best-practices","title":"Evaluation Best Practices","text":""},{"location":"guide/evaluation/#1-test-dataset","title":"1. Test Dataset","text":"<ul> <li>Size: Use 20-50 examples minimum for reliable results</li> <li>Distribution: Match real-world data distribution</li> <li>Quality: Ensure high-quality ground truth labels</li> <li>Diversity: Cover different cases and edge cases</li> </ul>"},{"location":"guide/evaluation/#2-metric-selection","title":"2. Metric Selection","text":"<ul> <li>Task-appropriate: Choose metrics that match your task</li> <li>Multiple metrics: Use 2-3 metrics to avoid overfitting</li> <li>Baseline comparison: Compare against baseline or previous versions</li> <li>Domain-specific: Consider custom metrics for your domain</li> </ul>"},{"location":"guide/evaluation/#3-evaluation-workflow","title":"3. Evaluation Workflow","text":"<ol> <li>Initial evaluation - Establish baseline performance</li> <li>Optimization - Improve program with optimizers</li> <li>Re-evaluation - Measure improvements</li> <li>Iteration - Repeat until performance is acceptable</li> </ol>"},{"location":"guide/evaluation/#4-interpreting-results","title":"4. Interpreting Results","text":"<ul> <li>Score ranges: Understand what scores mean for your task</li> <li>Error analysis: Analyze failures to identify patterns</li> <li>Confidence intervals: Consider statistical significance</li> <li>Trade-offs: Balance different metrics (e.g., accuracy vs. speed)</li> </ul>"},{"location":"guide/evaluation/#evaluation-report","title":"Evaluation Report","text":"<p>DSPy Code generates comprehensive evaluation reports:</p> <pre><code>Evaluation Results\n======================================================================\n\nMetric                    Score           Status\n----------------------------------------------------------------------\naccuracy                  85.00%          \u2713 Pass\nf1                        82.50%          \u2713 Pass\ncontext_relevance         75.00%          \u26a0\ufe0f  Needs Improvement\nfaithfulness              90.00%          \u2713 Pass\n----------------------------------------------------------------------\nAverage                   83.13%\n\nAnalysis\n======================================================================\nTotal examples evaluated: 50\nMetrics computed: 4\n\nBest performing metric: faithfulness (90.00%)\nWorst performing metric: context_relevance (75.00%)\n</code></pre>"},{"location":"guide/evaluation/#custom-metrics","title":"Custom Metrics","text":"<p>Create custom metrics for your specific needs:</p> <pre><code>def custom_metric(example, pred, trace=None):\n    \"\"\"Custom metric - implement your own logic.\"\"\"\n    predicted = pred.output\n    expected = example.output\n\n    # Your custom scoring logic\n    score = 0.0\n\n    # Example: Check if key terms are present\n    key_terms = expected.split()\n    found_terms = sum(1 for term in key_terms if term in predicted)\n\n    if len(key_terms) &gt; 0:\n        score = found_terms / len(key_terms)\n\n    return score\n</code></pre>"},{"location":"guide/evaluation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/evaluation/#low-scores","title":"Low Scores","text":"<ul> <li>Check data quality: Ensure test data is correct</li> <li>Review metric: Verify metric implementation</li> <li>Analyze failures: Look at specific failure cases</li> <li>Baseline comparison: Compare against simple baseline</li> </ul>"},{"location":"guide/evaluation/#inconsistent-results","title":"Inconsistent Results","text":"<ul> <li>Larger test set: Use more examples</li> <li>Multiple runs: Average over multiple runs</li> <li>Stability: Check for non-deterministic behavior</li> <li>Data distribution: Ensure representative test set</li> </ul>"},{"location":"guide/evaluation/#metric-issues","title":"Metric Issues","text":"<ul> <li>Import errors: Install required packages (rouge-score, nltk, sentence-transformers)</li> <li>Type errors: Ensure metric returns float (0.0-1.0)</li> <li>Attribute errors: Check field names match your signature</li> </ul>"},{"location":"guide/evaluation/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Optimization to improve performance</li> <li>Explore RAG Systems for RAG-specific metrics</li> <li>Check Validation for code quality checks</li> <li>See Complete Programs for full examples</li> </ul>"},{"location":"guide/evaluation/#additional-resources","title":"Additional Resources","text":"<ul> <li>DSPy Evaluation Documentation</li> <li>Use <code>/eval list</code> in the CLI to see all available metrics</li> <li>Use <code>/eval &lt;metric&gt;</code> to generate evaluation code</li> </ul>"},{"location":"guide/generating-code/","title":"Generating Code","text":"<p>Master code generation with DSPy Code to create Signatures, Modules, and complete programs.</p>"},{"location":"guide/generating-code/#overview","title":"Overview","text":"<p>DSPy Code generates DSPy code from natural language descriptions. You can create:</p> <ul> <li>Signatures - Input/output specifications</li> <li>Modules - DSPy programs with predictors</li> <li>Complete Programs - Full applications with examples</li> <li>Optimizers - GEPA optimization scripts</li> <li>Evaluations - Testing and evaluation code</li> </ul>"},{"location":"guide/generating-code/#generating-signatures","title":"Generating Signatures","text":""},{"location":"guide/generating-code/#basic-signature","title":"Basic Signature","text":"<p>Describe inputs and outputs:</p> <pre><code>Create a signature for sentiment analysis with text input and sentiment output\n</code></pre> <p>Generated:</p> <pre><code>import dspy\n\nclass SentimentSignature(dspy.Signature):\n    \"\"\"Analyze sentiment of text.\"\"\"\n\n    text: str = dspy.InputField(\n        desc=\"Text to analyze\"\n    )\n    sentiment: str = dspy.OutputField(\n        desc=\"Sentiment: positive, negative, or neutral\"\n    )\n</code></pre>"},{"location":"guide/generating-code/#multiple-fields","title":"Multiple Fields","text":"<p>Specify multiple inputs/outputs:</p> <pre><code>Create a signature for email classification with subject, body, and sender as inputs, and category and priority as outputs\n</code></pre> <p>Generated:</p> <pre><code>class EmailClassificationSignature(dspy.Signature):\n    \"\"\"Classify emails by category and priority.\"\"\"\n\n    subject: str = dspy.InputField(desc=\"Email subject line\")\n    body: str = dspy.InputField(desc=\"Email body content\")\n    sender: str = dspy.InputField(desc=\"Sender email address\")\n\n    category: str = dspy.OutputField(\n        desc=\"Email category: work, personal, spam, etc.\"\n    )\n    priority: str = dspy.OutputField(\n        desc=\"Priority level: high, medium, low\"\n    )\n</code></pre>"},{"location":"guide/generating-code/#with-type-specifications","title":"With Type Specifications","text":"<p>Specify field types:</p> <pre><code>Create a signature with question (string) and context (string) as inputs, answer (string) and confidence (float) as outputs\n</code></pre> <p>Generated:</p> <pre><code>class QASignature(dspy.Signature):\n    \"\"\"Answer questions based on context.\"\"\"\n\n    question: str = dspy.InputField(desc=\"Question to answer\")\n    context: str = dspy.InputField(desc=\"Context for answering\")\n\n    answer: str = dspy.OutputField(desc=\"Answer to the question\")\n    confidence: float = dspy.OutputField(\n        desc=\"Confidence score (0.0 to 1.0)\"\n    )\n</code></pre>"},{"location":"guide/generating-code/#with-examples","title":"With Examples","text":"<p>Include example values:</p> <pre><code>Create a signature for text classification where:\n- Input: \"I love this product!\" \u2192 Output: \"positive\"\n- Input: \"Terrible experience\" \u2192 Output: \"negative\"\n- Input: \"It's okay\" \u2192 Output: \"neutral\"\n</code></pre> <p>Generated with examples in docstring:</p> <pre><code>class TextClassificationSignature(dspy.Signature):\n    \"\"\"\n    Classify text sentiment.\n\n    Examples:\n        \"I love this product!\" \u2192 \"positive\"\n        \"Terrible experience\" \u2192 \"negative\"\n        \"It's okay\" \u2192 \"neutral\"\n    \"\"\"\n\n    text: str = dspy.InputField(desc=\"Text to classify\")\n    sentiment: str = dspy.OutputField(\n        desc=\"Sentiment: positive, negative, or neutral\"\n    )\n</code></pre>"},{"location":"guide/generating-code/#generating-modules","title":"Generating Modules","text":""},{"location":"guide/generating-code/#basic-module","title":"Basic Module","text":"<p>Specify the task:</p> <pre><code>Build a module for sentiment analysis\n</code></pre> <p>Generated:</p> <pre><code>import dspy\n\nclass SentimentSignature(dspy.Signature):\n    \"\"\"Analyze sentiment of text.\"\"\"\n    text: str = dspy.InputField(desc=\"Text to analyze\")\n    sentiment: str = dspy.OutputField(desc=\"Sentiment classification\")\n\nclass SentimentAnalyzer(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.Predict(SentimentSignature)\n\n    def forward(self, text: str) -&gt; dspy.Prediction:\n        return self.predictor(text=text)\n</code></pre>"},{"location":"guide/generating-code/#with-specific-predictor","title":"With Specific Predictor","text":"<p>Choose reasoning pattern:</p> <pre><code>Build a module using ChainOfThought for sentiment analysis\n</code></pre> <p>Generated:</p> <pre><code>class SentimentAnalyzer(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(SentimentSignature)\n\n    def forward(self, text: str) -&gt; dspy.Prediction:\n        return self.predictor(text=text)\n</code></pre> <p>Available predictors:</p> <ul> <li><code>Predict</code> - Basic prediction</li> <li><code>ChainOfThought</code> - Step-by-step reasoning</li> <li><code>ReAct</code> - Reasoning + Acting</li> <li><code>ProgramOfThought</code> - Code-based reasoning</li> <li><code>MultiChainComparison</code> - Multiple reasoning chains</li> </ul>"},{"location":"guide/generating-code/#multi-step-module","title":"Multi-Step Module","text":"<p>Create complex workflows:</p> <pre><code>Build a RAG module that retrieves context then generates an answer\n</code></pre> <p>Generated:</p> <pre><code>class RetrievalSignature(dspy.Signature):\n    \"\"\"Retrieve relevant context.\"\"\"\n    question: str = dspy.InputField()\n    context: str = dspy.OutputField()\n\nclass GenerationSignature(dspy.Signature):\n    \"\"\"Generate answer from context.\"\"\"\n    question: str = dspy.InputField()\n    context: str = dspy.InputField()\n    answer: str = dspy.OutputField()\n\nclass RAGModule(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.retriever = dspy.Predict(RetrievalSignature)\n        self.generator = dspy.ChainOfThought(GenerationSignature)\n\n    def forward(self, question: str) -&gt; dspy.Prediction:\n        # Step 1: Retrieve context\n        retrieval = self.retriever(question=question)\n\n        # Step 2: Generate answer\n        answer = self.generator(\n            question=question,\n            context=retrieval.context\n        )\n\n        return answer\n</code></pre>"},{"location":"guide/generating-code/#with-configuration","title":"With Configuration","text":"<p>Add configurable parameters:</p> <pre><code>Build a classifier module with configurable categories\n</code></pre> <p>Generated:</p> <pre><code>from typing import List\n\nclass Classifier(dspy.Module):\n    def __init__(self, categories: List[str]):\n        super().__init__()\n\n        if not categories:\n            raise ValueError(\"Categories cannot be empty\")\n\n        self.categories = categories\n        self.predictor = dspy.ChainOfThought(ClassificationSignature)\n\n    def forward(self, text: str) -&gt; dspy.Prediction:\n        categories_str = \", \".join(self.categories)\n        return self.predictor(\n            text=text,\n            categories=categories_str\n        )\n</code></pre>"},{"location":"guide/generating-code/#generating-complete-programs","title":"Generating Complete Programs","text":""},{"location":"guide/generating-code/#full-application","title":"Full Application","text":"<p>Request a complete solution:</p> <pre><code>Generate a complete program for sentiment analysis with examples and configuration\n</code></pre> <p>Generated:</p> <pre><code>\"\"\"\nSentiment Analysis Program\nGenerated by DSPy Code\n\"\"\"\n\nimport dspy\nfrom typing import Optional\nimport logging\n\n# Configure logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n# Signature\nclass SentimentSignature(dspy.Signature):\n    \"\"\"Analyze sentiment of text.\"\"\"\n    text: str = dspy.InputField(desc=\"Text to analyze\")\n    sentiment: str = dspy.OutputField(\n        desc=\"Sentiment: positive, negative, or neutral\"\n    )\n\n# Module\nclass SentimentAnalyzer(dspy.Module):\n    \"\"\"Sentiment analysis module using DSPy.\"\"\"\n\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(SentimentSignature)\n\n    def forward(self, text: str) -&gt; dspy.Prediction:\n        \"\"\"Analyze sentiment of text.\"\"\"\n        if not text or not text.strip():\n            raise ValueError(\"Text cannot be empty\")\n\n        try:\n            result = self.predictor(text=text)\n            return result\n        except Exception as e:\n            logger.error(f\"Sentiment analysis failed: {e}\")\n            raise\n\n# Configuration\ndef configure_dspy(\n    provider: str = \"ollama\",\n    model: str = \"llama3.1:8b\",\n    api_key: Optional[str] = None\n):\n    \"\"\"Configure DSPy with specified model.\"\"\"\n\n    if provider == \"ollama\":\n        lm = dspy.OllamaLocal(model=model)\n    elif provider == \"openai\":\n        lm = dspy.OpenAI(model=model, api_key=api_key)\n    elif provider == \"anthropic\":\n        lm = dspy.Anthropic(model=model, api_key=api_key)\n    else:\n        raise ValueError(f\"Unknown provider: {provider}\")\n\n    dspy.settings.configure(lm=lm)\n    logger.info(f\"Configured DSPy with {provider}/{model}\")\n\n# Main\ndef main():\n    \"\"\"Main execution.\"\"\"\n\n    # Configure\n    configure_dspy(provider=\"ollama\", model=\"llama3.1:8b\")\n\n    # Create analyzer\n    analyzer = SentimentAnalyzer()\n\n    # Test examples\n    examples = [\n        \"I love this product! It's amazing!\",\n        \"Terrible experience, very disappointed.\",\n        \"It's okay, nothing special.\"\n    ]\n\n    print(\"Sentiment Analysis Results:\\n\")\n    for text in examples:\n        result = analyzer(text=text)\n        print(f\"Text: {text}\")\n        print(f\"Sentiment: {result.sentiment}\")\n        print(f\"Reasoning: {result.rationale}\\n\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"guide/generating-code/#with-data-generation","title":"With Data Generation","text":"<p>Include synthetic data:</p> <pre><code>Generate a complete program with 20 training examples for sentiment analysis\n</code></pre> <p>Includes data generation code:</p> <pre><code># ... (program code) ...\n\ndef generate_training_data(num_examples: int = 20):\n    \"\"\"Generate synthetic training data.\"\"\"\n\n    examples = []\n\n    # Positive examples\n    positive_texts = [\n        \"I love this!\",\n        \"Amazing product!\",\n        \"Best purchase ever!\",\n        # ... more examples\n    ]\n\n    # Negative examples\n    negative_texts = [\n        \"Terrible quality\",\n        \"Very disappointed\",\n        \"Waste of money\",\n        # ... more examples\n    ]\n\n    # Neutral examples\n    neutral_texts = [\n        \"It's okay\",\n        \"Nothing special\",\n        \"Average product\",\n        # ... more examples\n    ]\n\n    # Create dspy.Example objects\n    for text in positive_texts[:num_examples//3]:\n        examples.append(\n            dspy.Example(text=text, sentiment=\"positive\").with_inputs('text')\n        )\n\n    for text in negative_texts[:num_examples//3]:\n        examples.append(\n            dspy.Example(text=text, sentiment=\"negative\").with_inputs('text')\n        )\n\n    for text in neutral_texts[:num_examples//3]:\n        examples.append(\n            dspy.Example(text=text, sentiment=\"neutral\").with_inputs('text')\n        )\n\n    return examples\n</code></pre>"},{"location":"guide/generating-code/#generation-options","title":"Generation Options","text":""},{"location":"guide/generating-code/#specify-complexity","title":"Specify Complexity","text":"<p>Simple:</p> <pre><code>Create a simple sentiment analyzer\n</code></pre> <p>Advanced:</p> <pre><code>Create an advanced sentiment analyzer with confidence scores, error handling, and logging\n</code></pre> <p>Production-ready:</p> <pre><code>Create a production-ready sentiment analyzer with full error handling, logging, configuration, tests, and documentation\n</code></pre>"},{"location":"guide/generating-code/#specify-style","title":"Specify Style","text":"<p>Minimal:</p> <pre><code>Create a minimal sentiment analyzer with no extra features\n</code></pre> <p>Verbose:</p> <pre><code>Create a sentiment analyzer with detailed comments and documentation\n</code></pre> <p>Functional:</p> <pre><code>Create a sentiment analyzer using functional programming style\n</code></pre>"},{"location":"guide/generating-code/#specify-framework-integration","title":"Specify Framework Integration","text":"<p>With FastAPI:</p> <pre><code>Create a sentiment analyzer with FastAPI endpoints\n</code></pre> <p>With Streamlit:</p> <pre><code>Create a sentiment analyzer with Streamlit UI\n</code></pre> <p>With CLI:</p> <pre><code>Create a sentiment analyzer with command-line interface\n</code></pre>"},{"location":"guide/generating-code/#iterative-refinement","title":"Iterative Refinement","text":""},{"location":"guide/generating-code/#start-simple","title":"Start Simple","text":"<pre><code>\u2192 Create a text classifier\n\n  [Basic classifier generated]\n</code></pre>"},{"location":"guide/generating-code/#add-features","title":"Add Features","text":"<pre><code>\u2192 Add confidence scores to the output\n\n  [Updated with confidence field]\n</code></pre>"},{"location":"guide/generating-code/#improve-quality","title":"Improve Quality","text":"<pre><code>\u2192 Use ChainOfThought instead of Predict\n\n  [Updated with ChainOfThought]\n</code></pre>"},{"location":"guide/generating-code/#add-error-handling","title":"Add Error Handling","text":"<pre><code>\u2192 Add comprehensive error handling\n\n  [Updated with try/except blocks]\n</code></pre>"},{"location":"guide/generating-code/#add-documentation","title":"Add Documentation","text":"<pre><code>\u2192 Add detailed docstrings to all methods\n\n  [Updated with documentation]\n</code></pre>"},{"location":"guide/generating-code/#code-templates","title":"Code Templates","text":""},{"location":"guide/generating-code/#industry-templates","title":"Industry Templates","text":"<p>Request industry-specific code:</p> <pre><code>Create a healthcare diagnosis assistant\nCreate a legal document analyzer\nCreate a financial sentiment analyzer\nCreate a customer support classifier\n</code></pre>"},{"location":"guide/generating-code/#task-templates","title":"Task Templates","text":"<p>Request task-specific code:</p> <pre><code>Create a question answering system\nCreate a summarization module\nCreate a translation module\nCreate a code generation module\n</code></pre>"},{"location":"guide/generating-code/#pattern-templates","title":"Pattern Templates","text":"<p>Request specific patterns:</p> <pre><code>Create a retrieval-augmented generation system\nCreate a multi-agent system\nCreate a self-improving system\nCreate a chain-of-thought reasoner\n</code></pre>"},{"location":"guide/generating-code/#best-practices","title":"Best Practices","text":""},{"location":"guide/generating-code/#1-be-specific","title":"1. Be Specific","text":"<p>Good:</p> <pre><code>Create a ChainOfThought module for email classification with subject, body, and sender as inputs, and category and priority as outputs\n</code></pre> <p>Bad:</p> <pre><code>Make email thing\n</code></pre>"},{"location":"guide/generating-code/#2-specify-reasoning","title":"2. Specify Reasoning","text":"<p>Choose appropriate predictor:</p> <ul> <li>Simple tasks \u2192 <code>Predict</code></li> <li>Complex reasoning \u2192 <code>ChainOfThought</code></li> <li>Multi-step \u2192 <code>ReAct</code></li> <li>Code generation \u2192 <code>ProgramOfThought</code></li> </ul>"},{"location":"guide/generating-code/#3-include-examples","title":"3. Include Examples","text":"<p>Help DSPy Code understand:</p> <pre><code>Create a classifier where:\n- \"urgent meeting tomorrow\" \u2192 high priority\n- \"weekly newsletter\" \u2192 low priority\n- \"project deadline\" \u2192 high priority\n</code></pre>"},{"location":"guide/generating-code/#4-request-features","title":"4. Request Features","text":"<p>Be explicit about what you need:</p> <pre><code>Create a sentiment analyzer with:\n- Confidence scores\n- Error handling\n- Logging\n- Type hints\n- Comprehensive documentation\n</code></pre>"},{"location":"guide/generating-code/#5-iterate","title":"5. Iterate","text":"<p>Refine through conversation:</p> <pre><code>\u2192 Create classifier\n\u2192 Add feature X\n\u2192 Improve aspect Y\n\u2192 Fix issue Z\n</code></pre>"},{"location":"guide/generating-code/#common-patterns","title":"Common Patterns","text":""},{"location":"guide/generating-code/#pattern-1-classification","title":"Pattern 1: Classification","text":"<pre><code>Create a [domain] classifier with [inputs] and [outputs]\n</code></pre>"},{"location":"guide/generating-code/#pattern-2-generation","title":"Pattern 2: Generation","text":"<pre><code>Create a [content type] generator that takes [inputs] and produces [outputs]\n</code></pre>"},{"location":"guide/generating-code/#pattern-3-rag","title":"Pattern 3: RAG","text":"<pre><code>Create a RAG system for [domain] that retrieves [data] and generates [output]\n</code></pre>"},{"location":"guide/generating-code/#pattern-4-multi-step","title":"Pattern 4: Multi-Step","text":"<pre><code>Create a module that:\n1. [Step 1]\n2. [Step 2]\n3. [Step 3]\n</code></pre>"},{"location":"guide/generating-code/#pattern-5-optimization","title":"Pattern 5: Optimization","text":"<pre><code>Create an optimizable [task] module with GEPA support\n</code></pre>"},{"location":"guide/generating-code/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/generating-code/#generated-code-has-errors","title":"Generated Code Has Errors","text":"<p>Validate first:</p> <pre><code>/validate\n</code></pre> <p>Ask for fixes:</p> <pre><code>Fix the errors in the last generated code\n</code></pre>"},{"location":"guide/generating-code/#wrong-predictor-type","title":"Wrong Predictor Type","text":"<p>Specify explicitly:</p> <pre><code>Use ChainOfThought instead of Predict\n</code></pre>"},{"location":"guide/generating-code/#missing-features","title":"Missing Features","text":"<p>Request additions:</p> <pre><code>Add [feature] to the last generated code\n</code></pre>"},{"location":"guide/generating-code/#code-too-complex","title":"Code Too Complex","text":"<p>Simplify:</p> <pre><code>Simplify the last generated code\nCreate a simpler version\n</code></pre>"},{"location":"guide/generating-code/#code-too-simple","title":"Code Too Simple","text":"<p>Enhance:</p> <pre><code>Make the code more robust\nAdd production-ready features\n</code></pre>"},{"location":"guide/generating-code/#summary","title":"Summary","text":"<p>Code generation supports:</p> <ul> <li>\u2705 Signatures</li> <li>\u2705 Modules</li> <li>\u2705 Complete programs</li> <li>\u2705 Multiple predictors</li> <li>\u2705 Iterative refinement</li> <li>\u2705 Industry templates</li> <li>\u2705 Best practices</li> </ul> <p>Key tips:</p> <ul> <li>Be specific in requests</li> <li>Choose appropriate predictors</li> <li>Include examples</li> <li>Iterate and refine</li> <li>Validate generated code</li> </ul> <p>Learn About Validation \u2192 See Complete Examples \u2192</p>"},{"location":"guide/interactive-mode/","title":"Interactive Mode","text":"<p>Master the DSPy Code interactive environment for efficient DSPy development.</p>"},{"location":"guide/interactive-mode/#what-is-interactive-mode","title":"What is Interactive Mode?","text":"<p>Interactive Mode is the primary interface for DSPy Code. It provides:</p> <ul> <li>Natural language code generation</li> <li>Conversational workflow</li> <li>Context-aware responses</li> <li>Session persistence</li> <li>Real-time validation</li> </ul> <p>Start interactive mode:</p> <pre><code>dspy-code\n</code></pre>"},{"location":"guide/interactive-mode/#the-welcome-screen","title":"The Welcome Screen","text":"<p>When you start DSPy Code, you see:</p> <pre><code>\u2713 DSPy Version: 3.0.4\n\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551                                                                              \u2551\n\u2551            \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557   \u2588\u2588\u2557     \u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557     \u2588\u2588\u2557          \u2551\n\u2551            \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u255a\u2588\u2588\u2557 \u2588\u2588\u2554\u255d    \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2551     \u2588\u2588\u2551          \u2551\n\u2551            \u2588\u2588\u2551  \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2588\u2588\u2588\u2588\u2554\u255d     \u2588\u2588\u2551     \u2588\u2588\u2551     \u2588\u2588\u2551          \u2551\n\u2551            \u2588\u2588\u2551  \u2588\u2588\u2551\u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u255d   \u255a\u2588\u2588\u2554\u255d      \u2588\u2588\u2551     \u2588\u2588\u2551     \u2588\u2588\u2551          \u2551\n\u2551            \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2551        \u2588\u2588\u2551       \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551          \u2551\n\u2551            \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d        \u255a\u2550\u255d        \u255a\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d          \u2551\n\u2551                                                                              \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n                    \u2728 Your AI-Powered DSPy Development Assistant: Claude Code for DSPy \u2728\n\n\u26a1 Get Started:\n\n  /intro    - Complete guide &amp; all features\n  /init     - Initialize your project\n  /demo     - See it in action\n  /help     - View all commands\n\n\ud83d\udcac Or just describe what you want to build in natural language!\n\n\ud83d\udca1 New here? Try /demo or /init to get started\n\n\ud83d\ude80 Ready! New here? Try /intro for the complete guide!\n\n\ud83d\udcad Try: \"Create a signature for...\" or \"Build a module using...\" or \"/help\" for\ncommands\n\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2728 Your Message \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 Type your request here... (or /help for commands)                            \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n  \u2192\n</code></pre> <p>Key information displayed:</p> <ul> <li>\u2705 Your DSPy version</li> <li>\u2705 Quick start commands</li> <li>\u2705 Usage hints</li> <li>\u2705 Input prompt</li> </ul>"},{"location":"guide/interactive-mode/#basic-usage","title":"Basic Usage","text":""},{"location":"guide/interactive-mode/#natural-language-requests","title":"Natural Language Requests","text":"<p>Simply describe what you want:</p> <pre><code>Build a module for sentiment analysis\n</code></pre> <pre><code>Create a signature for email classification with subject and body as inputs\n</code></pre> <pre><code>Generate a complete RAG system for document Q&amp;A\n</code></pre> <p>DSPy Code understands your intent and generates appropriate code!</p>"},{"location":"guide/interactive-mode/#slash-commands","title":"Slash Commands","text":"<p>Use <code>/</code> prefix for specific commands:</p> <pre><code>/help\n/init\n/connect ollama llama3.1:8b\n/save my_module.py\n/validate\n/run\n/status\n</code></pre> <p>See all slash commands \u2192</p>"},{"location":"guide/interactive-mode/#mixed-interaction","title":"Mixed Interaction","text":"<p>Combine natural language and commands:</p> <pre><code>\u2192 Create a sentiment analyzer\n  [Code generated]\n\n\u2192 /save sentiment.py\n  \u2713 Saved!\n\n\u2192 Add error handling to it\n  [Code updated]\n\n\u2192 /validate\n  \u2713 Valid!\n\n\u2192 /run\n  [Execution results]\n</code></pre>"},{"location":"guide/interactive-mode/#session-context","title":"Session Context","text":""},{"location":"guide/interactive-mode/#whats-in-context","title":"What's in Context?","text":"<p>The session maintains:</p> <p>1. Generated Code:</p> <pre><code>context['last_generated'] = \"...\"\ncontext['type'] = 'module'\n</code></pre> <p>2. Generated Data:</p> <pre><code>context['last_generated_data'] = [...]\ncontext['data_task'] = 'sentiment'\n</code></pre> <p>3. Conversation History:</p> <pre><code>context['history'] = [\n    {'role': 'user', 'content': '...'},\n    {'role': 'assistant', 'content': '...'}\n]\n</code></pre> <p>4. Model Connection:</p> <pre><code>context['model'] = {\n    'provider': 'ollama',\n    'model': 'llama3.1:8b',\n    'connected': True\n}\n</code></pre>"},{"location":"guide/interactive-mode/#check-context","title":"Check Context","text":"<p>Use <code>/status</code> to see what's in context:</p> <pre><code>/status\n</code></pre> <p>Output:</p> <pre><code>Current Session Status:\n\n\u2713 Generated Code: Module (1,234 chars)\n  Use /save &lt;filename&gt;, /validate, /run\n\n\u2717 No Generated Data\n  Try: \"Generate 20 examples for sentiment analysis\"\n\n\u2713 Model Connected: llama3.1:8b (ollama)\n\n\u2713 Project Initialized: my-dspy-project\n  Use /init to re-index or update\n\n\u2713 Codebase Index Loaded: 3,421 elements\n</code></pre>"},{"location":"guide/interactive-mode/#clear-context","title":"Clear Context","text":"<p>Clear conversation history:</p> <pre><code>/clear\n</code></pre> <p>What's cleared:</p> <ul> <li>Conversation history</li> <li>Generated code</li> <li>Generated data</li> </ul> <p>What's kept:</p> <ul> <li>Model connection</li> <li>Project configuration</li> <li>Codebase index</li> </ul>"},{"location":"guide/interactive-mode/#conversation-flow","title":"Conversation Flow","text":""},{"location":"guide/interactive-mode/#typical-workflow","title":"Typical Workflow","text":"<p>1. Initialize project:</p> <pre><code>\u2192 /init\n  [Project setup]\n</code></pre> <p>2. Connect model:</p> <pre><code>\u2192 /connect ollama llama3.1:8b\n  \u2713 Connected!\n</code></pre> <p>3. Generate code:</p> <pre><code>\u2192 Create a text classifier\n  [Code generated]\n</code></pre> <p>4. Save code:</p> <pre><code>\u2192 /save classifier.py\n  \u2713 Saved!\n</code></pre> <p>5. Validate:</p> <pre><code>\u2192 /validate\n  \u2713 Valid!\n</code></pre> <p>6. Test:</p> <pre><code>\u2192 /run\n  [Results]\n</code></pre> <p>7. Iterate:</p> <pre><code>\u2192 Add confidence scores to the output\n  [Code updated]\n\n\u2192 /save classifier.py\n  \u2713 Updated!\n</code></pre>"},{"location":"guide/interactive-mode/#iterative-development","title":"Iterative Development","text":"<p>Refine code through conversation:</p> <pre><code>\u2192 Create a sentiment analyzer\n  [Initial code]\n\n\u2192 Use ChainOfThought instead of Predict\n  [Updated with ChainOfThought]\n\n\u2192 Add a confidence score output field\n  [Added confidence field]\n\n\u2192 Add error handling for empty input\n  [Added validation]\n\n\u2192 /save sentiment_analyzer.py\n  \u2713 Saved!\n</code></pre>"},{"location":"guide/interactive-mode/#multi-step-tasks","title":"Multi-Step Tasks","text":"<p>Break complex tasks into steps:</p> <pre><code>\u2192 I want to build a RAG system\n\n  Great! Let's break this down:\n  1. Create retrieval signature\n  2. Create generation signature\n  3. Build RAG module\n  4. Add example usage\n\n  Ready to start?\n\n\u2192 Yes, start with step 1\n\n  [Retrieval signature generated]\n\n\u2192 Looks good, next step\n\n  [Generation signature generated]\n\n\u2192 Continue\n\n  [RAG module generated]\n\n\u2192 /save rag_system.py\n  \u2713 Complete RAG system saved!\n</code></pre>"},{"location":"guide/interactive-mode/#advanced-features","title":"Advanced Features","text":""},{"location":"guide/interactive-mode/#code-refinement","title":"Code Refinement","text":"<p>Ask for specific improvements:</p> <pre><code>\u2192 Optimize the last generated code for performance\n\u2192 Add type hints to all functions\n\u2192 Add docstrings following Google style\n\u2192 Refactor to use fewer API calls\n\u2192 Make it more modular\n</code></pre>"},{"location":"guide/interactive-mode/#code-explanation","title":"Code Explanation","text":"<p>Ask questions about generated code:</p> <pre><code>\u2192 Explain how the ChainOfThought works in this code\n\u2192 What does the forward method do?\n\u2192 Why did you use this signature structure?\n</code></pre>"},{"location":"guide/interactive-mode/#dspy-concepts","title":"DSPy Concepts","text":"<p>Learn while you code:</p> <pre><code>\u2192 What's the difference between Predict and ChainOfThought?\n\u2192 When should I use ReAct?\n\u2192 How do I optimize this module?\n\u2192 What are best practices for signatures?\n</code></pre>"},{"location":"guide/interactive-mode/#project-specific-questions","title":"Project-Specific Questions","text":"<p>Ask about your codebase:</p> <pre><code>\u2192 What modules do I have in my project?\n\u2192 Show me my existing signatures\n\u2192 How does my RAG module work?\n\u2192 What's the structure of my project?\n</code></pre>"},{"location":"guide/interactive-mode/#session-management","title":"Session Management","text":""},{"location":"guide/interactive-mode/#save-sessions","title":"Save Sessions","text":"<p>Save your work:</p> <pre><code>/session save my-rag-project\n</code></pre> <p>What's saved:</p> <ul> <li>Generated code</li> <li>Training data</li> <li>Conversation history</li> <li>Model configuration</li> <li>Project context</li> </ul>"},{"location":"guide/interactive-mode/#load-sessions","title":"Load Sessions","text":"<p>Resume previous work:</p> <pre><code>/session load my-rag-project\n</code></pre> <p>What's restored:</p> <ul> <li>All generated code</li> <li>Training data</li> <li>Conversation history</li> <li>Model connection</li> <li>Project state</li> </ul>"},{"location":"guide/interactive-mode/#list-sessions","title":"List Sessions","text":"<p>See all saved sessions:</p> <pre><code>/sessions list\n</code></pre> <p>Output:</p> <pre><code>Saved Sessions:\n\n1. my-rag-project\n   Created: 2025-01-15 14:30\n   Last modified: 2025-01-15 16:45\n   Size: 45 KB\n\n2. sentiment-analyzer\n   Created: 2025-01-14 10:20\n   Last modified: 2025-01-14 12:30\n   Size: 23 KB\n\n3. email-classifier\n   Created: 2025-01-13 09:15\n   Last modified: 2025-01-13 11:00\n   Size: 31 KB\n</code></pre>"},{"location":"guide/interactive-mode/#delete-sessions","title":"Delete Sessions","text":"<p>Remove old sessions:</p> <pre><code>/session delete old-project\n</code></pre>"},{"location":"guide/interactive-mode/#tips-and-tricks","title":"Tips and Tricks","text":""},{"location":"guide/interactive-mode/#1-use-tab-completion","title":"1. Use Tab Completion","text":"<p>Press <code>Tab</code> to autocomplete:</p> <ul> <li>Slash commands</li> <li>File names</li> <li>Model names</li> <li>Server names</li> </ul>"},{"location":"guide/interactive-mode/#2-use-history","title":"2. Use History","text":"<p>Press <code>\u2191</code> to cycle through previous commands.</p>"},{"location":"guide/interactive-mode/#3-multi-line-input","title":"3. Multi-Line Input","text":"<p>For long requests, use natural line breaks:</p> <pre><code>\u2192 Create a module that:\n  - Takes a question and context\n  - Uses ChainOfThought for reasoning\n  - Returns an answer with confidence\n  - Handles edge cases\n</code></pre>"},{"location":"guide/interactive-mode/#4-quick-edits","title":"4. Quick Edits","text":"<p>Reference previous code:</p> <pre><code>\u2192 Create a classifier\n  [Code generated]\n\n\u2192 Change the predictor to ReAct\n  [Updated]\n\n\u2192 Add another output field called \"reasoning\"\n  [Updated]\n</code></pre>"},{"location":"guide/interactive-mode/#5-batch-operations","title":"5. Batch Operations","text":"<p>Do multiple things at once:</p> <pre><code>\u2192 Create a sentiment analyzer, validate it, and save it as sentiment.py\n  [Generated, validated, saved]\n</code></pre>"},{"location":"guide/interactive-mode/#6-use-examples","title":"6. Use Examples","text":"<p>Provide examples for better results:</p> <pre><code>\u2192 Create a classifier that categorizes:\n  - \"I love this!\" \u2192 positive\n  - \"This is terrible\" \u2192 negative\n  - \"It's okay\" \u2192 neutral\n</code></pre>"},{"location":"guide/interactive-mode/#7-ask-for-alternatives","title":"7. Ask for Alternatives","text":"<p>Get different approaches:</p> <pre><code>\u2192 Show me 3 different ways to implement this\n\u2192 What's a simpler version?\n\u2192 What's a more advanced version?\n</code></pre>"},{"location":"guide/interactive-mode/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Shortcut Action <code>Ctrl+C</code> Cancel current operation <code>Ctrl+D</code> Exit DSPy Code <code>\u2191</code> / <code>\u2193</code> Navigate history <code>Tab</code> Autocomplete <code>Ctrl+L</code> Clear screen"},{"location":"guide/interactive-mode/#visual-feedback","title":"Visual Feedback","text":""},{"location":"guide/interactive-mode/#progress-indicators","title":"Progress Indicators","text":"<p>Watch for visual feedback:</p> <p>Thinking:</p> <pre><code>\u2699\ufe0f  Generating your DSPy module...\n</code></pre> <p>Success:</p> <pre><code>\u2713 Module created successfully!\n</code></pre> <p>Error:</p> <pre><code>\u2717 Validation failed: Missing InputField\n</code></pre> <p>Warning:</p> <pre><code>\u26a0\ufe0f  DSPy version is old. Consider upgrading.\n</code></pre>"},{"location":"guide/interactive-mode/#code-display","title":"Code Display","text":"<p>Generated code is beautifully formatted:</p> <pre><code>\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Generated DSPy Module \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 import dspy                                                                \u2502\n\u2502                                                                            \u2502\n\u2502 class SentimentSignature(dspy.Signature):                                 \u2502\n\u2502     \"\"\"Analyze sentiment of text.\"\"\"                                      \u2502\n\u2502     text = dspy.InputField(desc=\"Text to analyze\")                        \u2502\n\u2502     sentiment = dspy.OutputField(desc=\"positive, negative, or neutral\")   \u2502\n\u2502                                                                            \u2502\n\u2502 class SentimentAnalyzer(dspy.Module):                                     \u2502\n\u2502     def __init__(self):                                                   \u2502\n\u2502         super().__init__()                                                \u2502\n\u2502         self.predictor = dspy.Predict(SentimentSignature)                 \u2502\n\u2502                                                                            \u2502\n\u2502     def forward(self, text):                                              \u2502\n\u2502         return self.predictor(text=text)                                  \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n</code></pre>"},{"location":"guide/interactive-mode/#next-steps","title":"Next Steps","text":"<p>After generation, see suggested actions:</p> <pre><code>Next Steps:\n\u2022 Type /save &lt;filename&gt; to save this code\n\u2022 Type /validate to check for errors\n\u2022 Type /run to test execution\n\u2022 Type /status to see what's in context\n\u2022 Ask me to create a complete program\n\u2022 Request optimizations or improvements\n</code></pre>"},{"location":"guide/interactive-mode/#common-patterns","title":"Common Patterns","text":""},{"location":"guide/interactive-mode/#pattern-1-quick-prototype","title":"Pattern 1: Quick Prototype","text":"<pre><code>\u2192 /init\n\u2192 /connect ollama llama3.1:8b\n\u2192 Create a [task] module\n\u2192 /save module.py\n\u2192 /run\n</code></pre>"},{"location":"guide/interactive-mode/#pattern-2-iterative-development","title":"Pattern 2: Iterative Development","text":"<pre><code>\u2192 Create a basic [task] module\n\u2192 Add [feature]\n\u2192 Improve [aspect]\n\u2192 /validate\n\u2192 /save module.py\n</code></pre>"},{"location":"guide/interactive-mode/#pattern-3-full-workflow","title":"Pattern 3: Full Workflow","text":"<pre><code>\u2192 /init\n\u2192 /connect [model]\n\u2192 Create [program]\n\u2192 /save program.py\n\u2192 Generate 50 examples for [task]\n\u2192 /save-data examples.jsonl\n\u2192 /optimize program.py examples.jsonl\n</code></pre>"},{"location":"guide/interactive-mode/#pattern-4-learning-mode","title":"Pattern 4: Learning Mode","text":"<pre><code>\u2192 What is [concept]?\n\u2192 Show me an example of [feature]\n\u2192 Create a simple [task] using [technique]\n\u2192 Explain how this works\n</code></pre>"},{"location":"guide/interactive-mode/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/interactive-mode/#command-not-working","title":"Command Not Working","text":"<p>Check spelling:</p> <pre><code>/hlep  \u2717\n/help  \u2713\n</code></pre> <p>Use <code>/help</code> to see all commands</p>"},{"location":"guide/interactive-mode/#code-not-saving","title":"Code Not Saving","text":"<p>Check context:</p> <pre><code>/status\n</code></pre> <p>Generate code first if context is empty</p>"},{"location":"guide/interactive-mode/#model-not-responding","title":"Model Not Responding","text":"<p>Check connection:</p> <pre><code>/status\n</code></pre> <p>Reconnect if needed:</p> <pre><code>/disconnect\n/connect ollama llama3.1:8b\n</code></pre>"},{"location":"guide/interactive-mode/#unexpected-behavior","title":"Unexpected Behavior","text":"<p>Clear context and restart:</p> <pre><code>/clear\n</code></pre> <p>Or exit and restart:</p> <pre><code>/exit\ndspy-code\n</code></pre>"},{"location":"guide/interactive-mode/#best-practices","title":"Best Practices","text":""},{"location":"guide/interactive-mode/#1-start-with-init","title":"1. Start with /init","text":"<p>Always initialize your project:</p> <pre><code>/init\n</code></pre> <p>This builds the codebase index!</p>"},{"location":"guide/interactive-mode/#2-check-status-often","title":"2. Check /status Often","text":"<p>Know what's in context:</p> <pre><code>/status\n</code></pre>"},{"location":"guide/interactive-mode/#3-save-frequently","title":"3. Save Frequently","text":"<p>Don't lose your work:</p> <pre><code>/save module.py\n/session save my-project\n</code></pre>"},{"location":"guide/interactive-mode/#4-validate-before-running","title":"4. Validate Before Running","text":"<p>Catch errors early:</p> <pre><code>/validate\n/run\n</code></pre>"},{"location":"guide/interactive-mode/#5-be-specific","title":"5. Be Specific","text":"<p>Better requests = better code:</p> <pre><code>Good: \"Create a ChainOfThought module for sentiment analysis with text input and sentiment output\"\n\nBad: \"Make sentiment thing\"\n</code></pre>"},{"location":"guide/interactive-mode/#6-iterate","title":"6. Iterate","text":"<p>Refine through conversation:</p> <pre><code>\u2192 Create module\n\u2192 Add feature\n\u2192 Improve aspect\n\u2192 Fix issue\n</code></pre>"},{"location":"guide/interactive-mode/#7-use-natural-language","title":"7. Use Natural Language","text":"<p>Don't overthink it:</p> <pre><code>\u2192 Make it better\n\u2192 Add error handling\n\u2192 Simplify this\n\u2192 Optimize for speed\n</code></pre>"},{"location":"guide/interactive-mode/#summary","title":"Summary","text":"<p>Interactive Mode provides:</p> <ul> <li>\u2705 Natural language interface</li> <li>\u2705 Context-aware responses</li> <li>\u2705 Session persistence</li> <li>\u2705 Real-time validation</li> <li>\u2705 Iterative development</li> <li>\u2705 Learning support</li> </ul> <p>Master these concepts:</p> <ul> <li>Session context</li> <li>Slash commands</li> <li>Natural language requests</li> <li>Iterative refinement</li> <li>Session management</li> </ul> <p>Learn All Slash Commands \u2192 Build Your First Program \u2192</p>"},{"location":"guide/model-connection/","title":"Model Connection","text":"<p>Connect DSPy Code to any LLM provider for code generation and optimization.</p>"},{"location":"guide/model-connection/#supported-providers","title":"Supported Providers","text":"<p>DSPy Code supports all major LLM providers:</p> <ul> <li>Ollama - Local models (free, private)</li> <li>OpenAI - GPT-4, GPT-3.5-turbo</li> <li>Anthropic - Claude 3 (Opus, Sonnet, Haiku)</li> <li>Gemini - Google's Gemini Pro</li> </ul>"},{"location":"guide/model-connection/#quick-connect","title":"Quick Connect","text":""},{"location":"guide/model-connection/#ollama-local-recommended-for-beginners","title":"Ollama (Local - Recommended for Beginners)","text":"<pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>Advantages: - \u2705 Free - \u2705 Private (runs locally) - \u2705 No API key needed - \u2705 Fast</p> <p>Requirements: - Ollama installed - Model downloaded: <code>ollama pull llama3.1:8b</code></p>"},{"location":"guide/model-connection/#openai","title":"OpenAI","text":"<pre><code>/connect openai gpt-4\n</code></pre> <p>Requirements: - OpenAI API key - Set environment variable: <code>export OPENAI_API_KEY=sk-...</code></p>"},{"location":"guide/model-connection/#anthropic","title":"Anthropic","text":"<pre><code>/connect anthropic claude-3-sonnet\n</code></pre> <p>Requirements: - Anthropic API key - Set environment variable: <code>export ANTHROPIC_API_KEY=sk-ant-...</code></p>"},{"location":"guide/model-connection/#gemini","title":"Gemini","text":"<pre><code>/connect gemini gemini-pro\n</code></pre> <p>Requirements: - Google API key - Set environment variable: <code>export GOOGLE_API_KEY=...</code></p>"},{"location":"guide/model-connection/#connection-status","title":"Connection Status","text":"<p>Check your connection:</p> <pre><code>/status\n</code></pre> <p>Output shows: - \u2705 Model Connected: llama3.1:8b (ollama) - Or: \u274c No Model Connected</p>"},{"location":"guide/model-connection/#disconnect","title":"Disconnect","text":"<pre><code>/disconnect\n</code></pre>"},{"location":"guide/model-connection/#configure-default-model","title":"Configure Default Model","text":"<p>Edit <code>dspy_config.yaml</code>:</p> <pre><code>models:\n  default: ollama/llama3.1:8b\n</code></pre>"},{"location":"guide/model-connection/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/model-connection/#ollama-not-running","title":"Ollama Not Running","text":"<pre><code>Error: Could not connect to Ollama\n</code></pre> <p>Solution: Start Ollama: <code>ollama serve</code></p>"},{"location":"guide/model-connection/#invalid-api-key","title":"Invalid API Key","text":"<pre><code>Error: Invalid API key\n</code></pre> <p>Solution: Check environment variable is set correctly</p>"},{"location":"guide/model-connection/#model-not-found","title":"Model Not Found","text":"<pre><code>Error: Model not found\n</code></pre> <p>Solution: For Ollama: <code>ollama pull llama3.1:8b</code></p> <p>Learn About Code Generation \u2192</p>"},{"location":"guide/natural-language-commands/","title":"Natural Language Commands","text":"<p>DSPy Code supports natural language for all commands! You don't need to remember slash commands - just describe what you want to do.</p>"},{"location":"guide/natural-language-commands/#how-it-works","title":"\ud83c\udfaf How It Works","text":"<p>Instead of typing <code>/connect ollama llama3.1:8b</code>, you can simply say:</p> <pre><code>connect to ollama llama3.1:8b\n</code></pre> <p>DSPy Code automatically understands your intent and routes it to the appropriate command.</p>"},{"location":"guide/natural-language-commands/#supported-natural-language-commands","title":"\ud83d\udccb Supported Natural Language Commands","text":""},{"location":"guide/natural-language-commands/#connection-commands","title":"Connection Commands","text":"<p>Instead of: <code>/connect ollama llama3.1:8b</code> You can say: - \"connect to ollama llama3.1:8b\" - \"use model ollama llama3.1:8b\" - \"switch to ollama llama3.1:8b\" - \"set up model ollama llama3.1:8b\" - \"configure model ollama llama3.1:8b\"</p> <p>Instead of: <code>/disconnect</code> You can say: - \"disconnect from model\" - \"stop using model\" - \"close connection\"</p> <p>Instead of: <code>/models</code> You can say: - \"list available models\" - \"show me all models\" - \"what models are available\"</p> <p>Instead of: <code>/status</code> You can say: - \"status\" - \"what is the current status\" - \"show me the status\" - \"where am I\"</p>"},{"location":"guide/natural-language-commands/#file-operations","title":"File Operations","text":"<p>Instead of: <code>/save my_program.py</code> You can say: - \"save the code as my_program.py\" - \"save this as my_program.py\" - \"write to file my_program.py\" - \"store the code as my_program.py\"</p> <p>Instead of: <code>/save-data training.jsonl</code> You can say: - \"save the data as training.jsonl\" - \"save my examples as training.jsonl\" - \"export data to training.jsonl\"</p>"},{"location":"guide/natural-language-commands/#validation-and-execution","title":"Validation and Execution","text":"<p>Instead of: <code>/validate</code> You can say: - \"validate the code\" - \"check the code for errors\" - \"verify the program\" - \"test the code syntax\" - \"is the code valid\"</p> <p>Instead of: <code>/run</code> You can say: - \"run the code\" - \"execute the program\" - \"test the execution\" - \"start the program\"</p> <p>Instead of: <code>/test</code> You can say: - \"test the code\" - \"run tests\" - \"execute tests\"</p>"},{"location":"guide/natural-language-commands/#project-management","title":"Project Management","text":"<p>Instead of: <code>/init</code> You can say: - \"initialize the project\" - \"setup project\" - \"create new project\" - \"start new project\" - \"new project\"</p> <p>Instead of: <code>/project</code> You can say: - \"project info\" - \"show me the project\" - \"what is the project\"</p>"},{"location":"guide/natural-language-commands/#optimization","title":"Optimization","text":"<p>Instead of: <code>/optimize my_program.py</code> You can say: - \"optimize the code\" - \"optimize my program\" - \"optimize my_program.py\" - \"improve the program\" - \"improve performance\" - \"use gepa\" - \"run gepa\" - \"run optimization\" - \"run GEPA optimization\" - \"make it better\" - \"enhance the code\" - \"optimize with GEPA\" - \"optimize my_module.py with training_data.jsonl\"</p> <p>Instead of: <code>/optimize my_program.py training_data.jsonl</code> You can say: - \"optimize my_program.py with training_data.jsonl\" - \"run GEPA on my_program.py using training_data.jsonl\" - \"optimize the program with training data\" - \"improve my code with examples from training_data.jsonl\"</p> <p>Instead of: <code>/optimize-status</code> You can say: - \"gepa status\" - \"optimization status\" - \"how is optimization going\" - \"check optimization progress\" - \"what's the optimization status\"</p> <p>Instead of: <code>/optimize-cancel</code> You can say: - \"cancel optimization\" - \"stop gepa\" - \"abort optimization\" - \"stop the optimization\"</p>"},{"location":"guide/natural-language-commands/#evaluation","title":"Evaluation","text":"<p>Instead of: <code>/eval</code> You can say: - \"evaluate the code\" - \"evaluate my program\" - \"evaluate the program\" - \"run evaluation\" - \"test performance\" - \"test the code\" - \"measure performance\" - \"assess performance\" - \"check performance\"</p> <p>Instead of: <code>/eval my_program.py</code> You can say: - \"evaluate my_program.py\" - \"test performance of my_program.py\" - \"run evaluation on my_program.py\" - \"evaluate the program in my_program.py\"</p> <p>Instead of: <code>/eval my_program.py test_data.jsonl</code> You can say: - \"evaluate my_program.py with test_data.jsonl\" - \"test my program using test_data.jsonl\" - \"run evaluation on my_program.py with test_data.jsonl\" - \"measure performance with test_data.jsonl\"</p> <p>Instead of: <code>/eval metric=accuracy</code> You can say: - \"evaluate with accuracy\" - \"test accuracy\" - \"measure accuracy\" - \"calculate accuracy\" - \"check accuracy\" - \"evaluate using accuracy metric\" - \"test performance with accuracy\"</p> <p>Instead of: <code>/eval my_program.py test_data.jsonl metric=f1</code> You can say: - \"evaluate my_program.py with test_data.jsonl using F1 score\" - \"test F1 score of my program with test data\" - \"measure F1 metric on my_program.py with test_data.jsonl\" - \"calculate F1 score for my program\"</p>"},{"location":"guide/natural-language-commands/#data-generation","title":"Data Generation","text":"<p>Instead of: <code>/data sentiment 20</code> You can say: - \"generate 20 examples for sentiment analysis\" - \"create training data for sentiment\" - \"make 20 examples for sentiment\" - \"produce data for sentiment analysis\"</p>"},{"location":"guide/natural-language-commands/#explanation-and-help","title":"Explanation and Help","text":"<p>Instead of: <code>/explain ChainOfThought</code> You can say: - \"explain ChainOfThought\" - \"what is ChainOfThought\" - \"how does ChainOfThought work\" - \"tell me about ChainOfThought\" - \"describe ChainOfThought\"</p> <p>Instead of: <code>/help</code> You can say: - \"help\" - \"what can you do\" - \"show me help\" - \"list commands\" - \"what commands are available\"</p> <p>Instead of: <code>/intro</code> You can say: - \"introduction\" - \"guide\" - \"tutorial\" - \"getting started\" - \"how do I start\"</p>"},{"location":"guide/natural-language-commands/#history-and-context","title":"History and Context","text":"<p>Instead of: <code>/history</code> You can say: - \"history\" - \"show me the conversation history\" - \"what did we talk about\" - \"previous messages\"</p> <p>Instead of: <code>/clear</code> You can say: - \"clear context\" - \"reset history\" - \"forget everything\" - \"start over\" - \"new conversation\"</p>"},{"location":"guide/natural-language-commands/#sessions","title":"Sessions","text":"<p>Instead of: <code>/sessions</code> You can say: - \"list sessions\" - \"show me all sessions\" - \"what sessions do I have\"</p> <p>Instead of: <code>/session save my-session</code> You can say: - \"save session as my-session\" - \"save conversation as my-session\"</p> <p>Instead of: <code>/session load my-session</code> You can say: - \"load session my-session\" - \"restore session my-session\" - \"open session my-session\"</p>"},{"location":"guide/natural-language-commands/#exportimport","title":"Export/Import","text":"<p>Instead of: <code>/export package.zip</code> You can say: - \"export package to package.zip\" - \"package the project\" - \"create package\"</p> <p>Instead of: <code>/import package.zip</code> You can say: - \"import package from package.zip\" - \"load package package.zip\" - \"open package package.zip\"</p>"},{"location":"guide/natural-language-commands/#rag-and-indexing","title":"RAG and Indexing","text":"<p>Instead of: <code>/refresh-index</code> You can say: - \"refresh index\" - \"rebuild knowledge base\" - \"update index\" - \"reindex\"</p> <p>Instead of: <code>/index-status</code> You can say: - \"index status\" - \"knowledge base status\" - \"codebase index\"</p>"},{"location":"guide/natural-language-commands/#feature-listings","title":"Feature Listings","text":"<p>Instead of: <code>/predictors</code> You can say: - \"list predictors\" - \"show me predictor types\" - \"what predictors are available\"</p> <p>Instead of: <code>/adapters</code> You can say: - \"list adapters\" - \"show me adapter types\" - \"what adapters\"</p> <p>Instead of: <code>/retrievers</code> You can say: - \"list retrievers\" - \"show me retriever types\" - \"what retrievers\"</p> <p>Instead of: <code>/examples rag</code> You can say: - \"show me examples\" - \"list templates\" - \"what examples are available\"</p>"},{"location":"guide/natural-language-commands/#mcp-commands","title":"MCP Commands","text":"<p>Instead of: <code>/mcp-connect filesystem</code> You can say: - \"connect to mcp server filesystem\" - \"link to mcp filesystem\" - \"use mcp server filesystem\"</p> <p>Instead of: <code>/mcp-tools</code> You can say: - \"list mcp tools\" - \"show me mcp tools\" - \"what mcp tools are available\"</p> <p>Instead of: <code>/mcp-call filesystem read_file</code> You can say: - \"call mcp tool filesystem read_file\" - \"use mcp tool read_file\" - \"invoke mcp tool read_file\"</p>"},{"location":"guide/natural-language-commands/#tips","title":"\ud83d\udca1 Tips","text":"<ol> <li>Be natural - Just describe what you want to do</li> <li>Include details - Mention filenames, model names, etc.</li> <li>Mix and match - You can still use slash commands if you prefer</li> <li>Both work - Natural language and slash commands work together</li> </ol>"},{"location":"guide/natural-language-commands/#examples","title":"\ud83c\udfaf Examples","text":""},{"location":"guide/natural-language-commands/#complete-workflow-in-natural-language","title":"Complete Workflow in Natural Language","text":"<pre><code>You: initialize the project\nDSPy Code: \u2713 Project initialized\n\nYou: connect to ollama llama3.1:8b\nDSPy Code: \u2713 Connected to ollama llama3.1:8b\n\nYou: create a sentiment analyzer\nDSPy Code: [Generates code...]\n\nYou: save the code as sentiment.py\nDSPy Code: \u2713 Saved to sentiment.py\n\nYou: validate the code\nDSPy Code: \u2713 Code is valid\n\nYou: run the code\nDSPy Code: [Executes code...]\n\nYou: generate 20 examples for sentiment analysis\nDSPy Code: [Generates training data...]\n\nYou: optimize the code\nDSPy Code: [Runs GEPA optimization...]\n\nYou: evaluate my program with accuracy\nDSPy Code: [Runs evaluation with accuracy metric...]\n\nYou: test performance of sentiment.py with test_data.jsonl\nDSPy Code: [Evaluates program with test data...]\n</code></pre>"},{"location":"guide/natural-language-commands/#how-it-works-internally","title":"\ud83d\udd04 How It Works Internally","text":"<p>DSPy Code uses a hybrid intelligent routing system:</p>"},{"location":"guide/natural-language-commands/#step-1-fast-pattern-matching-first-attempt","title":"Step 1: Fast Pattern Matching (First Attempt)","text":"<ul> <li>Matches your natural language against known patterns</li> <li>Fast and deterministic</li> <li>Handles common cases instantly</li> </ul>"},{"location":"guide/natural-language-commands/#step-2-llm-reasoning-intelligent-fallback","title":"Step 2: LLM Reasoning (Intelligent Fallback)","text":"<ul> <li>If pattern matching fails, uses your connected LLM (Ollama, OpenAI, etc.)</li> <li>Understands context, variations, and intent</li> <li>Handles edge cases and natural language variations</li> <li>Uses conversation history and current state</li> </ul>"},{"location":"guide/natural-language-commands/#step-3-argument-extraction","title":"Step 3: Argument Extraction","text":"<ul> <li>Automatically extracts parameters (filenames, model names, etc.)</li> <li>Works with both pattern matching and LLM reasoning</li> </ul>"},{"location":"guide/natural-language-commands/#step-4-command-execution","title":"Step 4: Command Execution","text":"<ul> <li>Routes to the appropriate slash command handler</li> <li>Executes the command with extracted arguments</li> </ul>"},{"location":"guide/natural-language-commands/#example-flow","title":"Example Flow","text":"<pre><code>User: \"I want to use the llama model that's running locally\"\n  \u2193\nPattern Matching: \u2717 No match\n  \u2193\nLLM Reasoning: \"User wants to connect to Ollama model\"\n  \u2193\nExtract: provider=\"ollama\", model=\"llama3.1:8b\" (from context)\n  \u2193\nRoute to: /connect ollama llama3.1:8b\n  \u2193\nExecute command\n</code></pre>"},{"location":"guide/natural-language-commands/#benefits","title":"Benefits","text":"<ul> <li>Fast - Common commands are instant (pattern matching)</li> <li>Intelligent - Handles any natural language variation (LLM reasoning)</li> <li>Context-Aware - Understands conversation history and current state</li> <li>Flexible - Works even with unusual phrasings</li> </ul> <p>You can use natural language for everything, or mix it with slash commands - whatever feels more natural to you! \ud83d\ude80</p>"},{"location":"guide/optimization/","title":"Optimization with GEPA","text":"<p>Learn how to optimize your DSPy programs using GEPA (Genetic Prompt Evolution Algorithm) for better performance.</p>"},{"location":"guide/optimization/#quick-start-with-natural-language","title":"Quick Start with Natural Language","text":"<p>DSPy Code supports natural language for optimization! You don't need to remember command syntax - just describe what you want:</p> <p>Examples: - \"optimize my program with GEPA\" - \"improve performance of my_module.py\" - \"run GEPA optimization with training_data.jsonl\" - \"optimize the code\"</p> <p>DSPy Code automatically understands your intent and routes to the appropriate optimization command. See the Natural Language Commands guide for more examples.</p>"},{"location":"guide/optimization/#what-is-gepa","title":"What is GEPA?","text":"<p>GEPA is a powerful optimization technique that automatically improves your DSPy programs by:</p> <ul> <li>Evolving prompts: Generates better instructions</li> <li>Using reflection: Learns from failures</li> <li>Genetic algorithm: Combines best approaches</li> <li>Feedback-driven: Uses detailed error analysis</li> </ul> <p>Result: Significantly better accuracy without manual prompt engineering!</p>"},{"location":"guide/optimization/#how-gepa-works","title":"How GEPA Works","text":""},{"location":"guide/optimization/#the-gepa-process","title":"The GEPA Process","text":"<pre><code>1. Evaluate Current Program\n   \u2193\n2. Identify Failure Cases\n   \u2193\n3. Generate Reflection (Why did it fail?)\n   \u2193\n4. Evolve Better Prompts\n   \u2193\n5. Test New Versions\n   \u2193\n6. Select Best Performers\n   \u2193\n7. Repeat (Genetic Evolution)\n   \u2193\n8. Return Optimized Program\n</code></pre>"},{"location":"guide/optimization/#key-concepts","title":"Key Concepts","text":"<p>1. Population:</p> <ul> <li>GEPA maintains multiple program versions</li> <li>Each has different prompts/instructions</li> <li>Breadth parameter controls population size</li> </ul> <p>2. Evolution:</p> <ul> <li>Successful versions are kept</li> <li>Failed versions are modified</li> <li>New variations are generated</li> <li>Best performers breed new versions</li> </ul> <p>3. Reflection:</p> <ul> <li>Analyzes why predictions failed</li> <li>Generates specific feedback</li> <li>Uses feedback to improve prompts</li> </ul> <p>4. Selection:</p> <ul> <li>Tests all versions on training data</li> <li>Ranks by performance</li> <li>Keeps top performers</li> <li>Eliminates poor performers</li> </ul>"},{"location":"guide/optimization/#quick-start","title":"Quick Start","text":""},{"location":"guide/optimization/#step-1-prepare-your-program","title":"Step 1: Prepare Your Program","text":"<p>You need a DSPy program to optimize:</p> <pre><code>import dspy\n\nclass SentimentSignature(dspy.Signature):\n    \"\"\"Analyze sentiment of text.\"\"\"\n    text = dspy.InputField(desc=\"Text to analyze\")\n    sentiment = dspy.OutputField(desc=\"positive, negative, or neutral\")\n\nclass SentimentAnalyzer(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.Predict(SentimentSignature)\n\n    def forward(self, text):\n        return self.predictor(text=text)\n</code></pre>"},{"location":"guide/optimization/#step-2-generate-training-data","title":"Step 2: Generate Training Data","text":"<p>Create examples for optimization:</p> <pre><code>/generate data 50 for sentiment analysis\n/save-data sentiment_examples.jsonl\n</code></pre> <p>Example data format:</p> <pre><code>{\"text\": \"I love this product!\", \"sentiment\": \"positive\"}\n{\"text\": \"Terrible experience\", \"sentiment\": \"negative\"}\n{\"text\": \"It's okay, nothing special\", \"sentiment\": \"neutral\"}\n</code></pre>"},{"location":"guide/optimization/#step-3-generate-gepa-script","title":"Step 3: Generate GEPA Script","text":"<p>Use DSPy Code to create optimization code:</p> <pre><code>/optimize sentiment_analyzer.py sentiment_examples.jsonl\n</code></pre> <p>DSPy Code generates a complete GEPA optimization script!</p>"},{"location":"guide/optimization/#step-4-run-optimization","title":"Step 4: Run Optimization","text":"<p>Exit DSPy Code and run:</p> <pre><code>python generated/optimize_sentiment_analyzer.py\n</code></pre> <p>Watch GEPA improve your program!</p>"},{"location":"guide/optimization/#understanding-the-generated-gepa-script","title":"Understanding the Generated GEPA Script","text":""},{"location":"guide/optimization/#1-imports-and-setup","title":"1. Imports and Setup","text":"<pre><code>import dspy\nfrom dspy.teleprompt import GEPA\nfrom dspy.evaluate import Evaluate\nimport json\nfrom pathlib import Path\n</code></pre>"},{"location":"guide/optimization/#2-load-training-data","title":"2. Load Training Data","text":"<pre><code>def load_training_data(filepath):\n    \"\"\"Load training examples from JSONL.\"\"\"\n    examples = []\n    with open(filepath, 'r') as f:\n        for line in f:\n            data = json.loads(line)\n            example = dspy.Example(**data).with_inputs('text')\n            examples.append(example)\n    return examples\n</code></pre> <p>Key points:</p> <ul> <li>Loads from JSONL file</li> <li>Creates <code>dspy.Example</code> objects</li> <li>Marks input fields with <code>.with_inputs()</code></li> </ul>"},{"location":"guide/optimization/#3-define-metric-with-feedback","title":"3. Define Metric with Feedback","text":"<p>This is crucial for GEPA!</p> <pre><code>def metric_with_feedback(gold, pred, trace=None):\n    \"\"\"\n    Metric that provides feedback for GEPA.\n\n    Returns:\n        float: 1.0 for correct, 0.0 for incorrect\n        OR\n        dict: {'score': float, 'feedback': str} for detailed feedback\n    \"\"\"\n    if gold.sentiment == pred.sentiment:\n        return 1.0\n    else:\n        feedback = (\n            f\"Incorrect classification. \"\n            f\"Expected '{gold.sentiment}' but got '{pred.sentiment}'. \"\n            f\"Text: '{gold.text[:100]}...' \"\n            f\"Consider the emotional tone and context more carefully.\"\n        )\n        return {'score': 0.0, 'feedback': feedback}\n</code></pre> <p>Why feedback matters:</p> <ul> <li>GEPA uses feedback to understand failures</li> <li>Specific feedback leads to better improvements</li> <li>Generic scores (0/1) are less effective</li> </ul>"},{"location":"guide/optimization/#4-configure-gepa","title":"4. Configure GEPA","text":"<pre><code># Load data\ntrainset = load_training_data('data/sentiment_examples.jsonl')\n\n# Split into train and validation\ntrain_size = int(0.8 * len(trainset))\ntrain_examples = trainset[:train_size]\nval_examples = trainset[train_size:]\n\n# Configure GEPA\ngepa_optimizer = GEPA(\n    metric=metric_with_feedback,\n    breadth=10,        # Population size\n    depth=3,           # Evolution iterations\n    init_temperature=1.4  # Creativity level\n)\n</code></pre> <p>Parameters explained:</p> <ul> <li>breadth: How many program versions to maintain (10-20 typical)</li> <li>depth: How many evolution rounds (3-5 typical)</li> <li>init_temperature: Higher = more creative variations (1.0-2.0)</li> </ul>"},{"location":"guide/optimization/#5-run-optimization","title":"5. Run Optimization","text":"<pre><code># Create unoptimized program\nprogram = SentimentAnalyzer()\n\n# Configure DSPy\ndspy.settings.configure(lm=dspy.OpenAI(model=\"gpt-3.5-turbo\"))\n\n# Optimize!\noptimized_program = gepa_optimizer.compile(\n    program,\n    trainset=train_examples,\n    num_batches=10,\n    max_bootstrapped_demos=3,\n    max_labeled_demos=5\n)\n</code></pre> <p>Parameters explained:</p> <ul> <li>num_batches: How many batches to process</li> <li>max_bootstrapped_demos: Examples to generate automatically</li> <li>max_labeled_demos: Your provided examples to use</li> </ul>"},{"location":"guide/optimization/#6-evaluate-results","title":"6. Evaluate Results","text":"<pre><code># Evaluate on validation set\nevaluator = Evaluate(\n    devset=val_examples,\n    metric=metric_with_feedback,\n    num_threads=4,\n    display_progress=True\n)\n\nprint(\"Evaluating unoptimized program...\")\nbaseline_score = evaluator(program)\n\nprint(\"Evaluating optimized program...\")\noptimized_score = evaluator(optimized_program)\n\nprint(f\"\\nResults:\")\nprint(f\"Baseline: {baseline_score:.2%}\")\nprint(f\"Optimized: {optimized_score:.2%}\")\nprint(f\"Improvement: {(optimized_score - baseline_score):.2%}\")\n</code></pre>"},{"location":"guide/optimization/#7-save-optimized-program","title":"7. Save Optimized Program","text":"<pre><code># Save the optimized program state\noptimized_program.save('generated/sentiment_analyzer_optimized.json')\n\nprint(\"\\nOptimized program saved!\")\nprint(\"Load it with: program.load('generated/sentiment_analyzer_optimized.json')\")\n</code></pre>"},{"location":"guide/optimization/#advanced-gepa-techniques","title":"Advanced GEPA Techniques","text":""},{"location":"guide/optimization/#custom-metrics","title":"Custom Metrics","text":"<p>Create task-specific metrics:</p> <p>For Classification:</p> <pre><code>def classification_metric_with_feedback(gold, pred, trace=None):\n    correct = gold.category == pred.category\n\n    if correct:\n        return 1.0\n\n    # Provide specific feedback\n    feedback = f\"Misclassified as '{pred.category}' instead of '{gold.category}'\"\n\n    # Add context\n    if hasattr(gold, 'text'):\n        feedback += f\" for text: '{gold.text[:50]}...'\"\n\n    return {'score': 0.0, 'feedback': feedback}\n</code></pre> <p>For Generation:</p> <pre><code>def generation_metric_with_feedback(gold, pred, trace=None):\n    from sentence_transformers import SentenceTransformer\n    from sklearn.metrics.pairwise import cosine_similarity\n\n    # Semantic similarity\n    model = SentenceTransformer('all-MiniLM-L6-v2')\n    emb1 = model.encode([gold.answer])\n    emb2 = model.encode([pred.answer])\n    similarity = cosine_similarity(emb1, emb2)[0][0]\n\n    if similarity &gt; 0.85:\n        return float(similarity)\n\n    # Provide feedback for low similarity\n    feedback = (\n        f\"Generated answer has low similarity ({similarity:.2f}). \"\n        f\"Expected key points: {gold.answer[:100]}... \"\n        f\"Generated: {pred.answer[:100]}... \"\n        f\"Focus on including the main concepts.\"\n    )\n\n    return {'score': float(similarity), 'feedback': feedback}\n</code></pre> <p>For Extraction:</p> <pre><code>def extraction_metric_with_feedback(gold, pred, trace=None):\n    gold_entities = set(gold.entities)\n    pred_entities = set(pred.entities)\n\n    # F1 score\n    if len(pred_entities) == 0:\n        precision = 0\n        recall = 0\n    else:\n        precision = len(gold_entities &amp; pred_entities) / len(pred_entities)\n        recall = len(gold_entities &amp; pred_entities) / len(gold_entities)\n\n    if precision + recall == 0:\n        f1 = 0\n    else:\n        f1 = 2 * (precision * recall) / (precision + recall)\n\n    if f1 &gt; 0.8:\n        return f1\n\n    # Detailed feedback\n    missed = gold_entities - pred_entities\n    extra = pred_entities - gold_entities\n\n    feedback = f\"F1: {f1:.2f}. \"\n    if missed:\n        feedback += f\"Missed entities: {missed}. \"\n    if extra:\n        feedback += f\"Extra entities: {extra}. \"\n\n    return {'score': f1, 'feedback': feedback}\n</code></pre>"},{"location":"guide/optimization/#tuning-gepa-parameters","title":"Tuning GEPA Parameters","text":"<p>For Small Datasets (&lt;50 examples):</p> <pre><code>gepa_optimizer = GEPA(\n    metric=metric_with_feedback,\n    breadth=5,          # Smaller population\n    depth=2,            # Fewer iterations\n    init_temperature=1.2\n)\n</code></pre> <p>For Large Datasets (&gt;500 examples):</p> <pre><code>gepa_optimizer = GEPA(\n    metric=metric_with_feedback,\n    breadth=20,         # Larger population\n    depth=5,            # More iterations\n    init_temperature=1.6\n)\n</code></pre> <p>For Complex Tasks:</p> <pre><code>gepa_optimizer = GEPA(\n    metric=metric_with_feedback,\n    breadth=15,\n    depth=4,\n    init_temperature=1.8,  # More creativity\n    max_bootstrapped_demos=5,\n    max_labeled_demos=10\n)\n</code></pre>"},{"location":"guide/optimization/#multi-stage-optimization","title":"Multi-Stage Optimization","text":"<p>Optimize different parts separately:</p> <pre><code># Stage 1: Optimize retrieval\nretrieval_optimizer = GEPA(\n    metric=retrieval_metric,\n    breadth=10,\n    depth=3\n)\noptimized_retrieval = retrieval_optimizer.compile(\n    retrieval_module,\n    trainset=retrieval_examples\n)\n\n# Stage 2: Optimize generation\ngeneration_optimizer = GEPA(\n    metric=generation_metric,\n    breadth=10,\n    depth=3\n)\noptimized_generation = generation_optimizer.compile(\n    generation_module,\n    trainset=generation_examples\n)\n\n# Combine optimized components\nclass OptimizedRAG(dspy.Module):\n    def __init__(self):\n        self.retrieval = optimized_retrieval\n        self.generation = optimized_generation\n\n    def forward(self, question):\n        context = self.retrieval(question=question)\n        answer = self.generation(question=question, context=context)\n        return answer\n</code></pre>"},{"location":"guide/optimization/#gepa-best-practices","title":"GEPA Best Practices","text":""},{"location":"guide/optimization/#1-quality-training-data","title":"1. Quality Training Data","text":"<p>Good examples:</p> <ul> <li>Diverse inputs</li> <li>Clear outputs</li> <li>Representative of real use</li> <li>Balanced across categories</li> </ul> <p>Bad examples:</p> <ul> <li>All similar inputs</li> <li>Ambiguous outputs</li> <li>Edge cases only</li> <li>Imbalanced data</li> </ul>"},{"location":"guide/optimization/#2-informative-metrics","title":"2. Informative Metrics","text":"<p>Good feedback:</p> <pre><code>feedback = (\n    f\"Classified as '{pred.category}' instead of '{gold.category}'. \"\n    f\"The text '{gold.text}' contains keywords like '{keywords}' \"\n    f\"which strongly indicate '{gold.category}'. \"\n    f\"Pay more attention to domain-specific terms.\"\n)\n</code></pre> <p>Bad feedback:</p> <pre><code>feedback = \"Wrong answer\"\n</code></pre>"},{"location":"guide/optimization/#3-appropriate-parameters","title":"3. Appropriate Parameters","text":"<p>Start conservative:</p> <pre><code>breadth=10, depth=3\n</code></pre> <p>Scale up if needed:</p> <pre><code>breadth=20, depth=5\n</code></pre> <p>Don't over-optimize:</p> <ul> <li>More iterations != better results</li> <li>Risk of overfitting</li> <li>Diminishing returns</li> </ul>"},{"location":"guide/optimization/#4-validation-split","title":"4. Validation Split","text":"<p>Always keep validation data separate:</p> <pre><code># 80/20 split\ntrain_size = int(0.8 * len(data))\ntrain_data = data[:train_size]\nval_data = data[train_size:]\n\n# Optimize on train\noptimized = gepa.compile(program, trainset=train_data)\n\n# Evaluate on validation\nscore = evaluator(optimized, devset=val_data)\n</code></pre>"},{"location":"guide/optimization/#5-monitor-progress","title":"5. Monitor Progress","text":"<p>Track optimization progress:</p> <pre><code>scores = []\n\ndef tracking_metric(gold, pred, trace=None):\n    score = base_metric(gold, pred, trace)\n    scores.append(score)\n    return score\n\n# After optimization\nimport matplotlib.pyplot as plt\nplt.plot(scores)\nplt.title('GEPA Optimization Progress')\nplt.xlabel('Example')\nplt.ylabel('Score')\nplt.savefig('optimization_progress.png')\n</code></pre>"},{"location":"guide/optimization/#common-issues","title":"Common Issues","text":""},{"location":"guide/optimization/#low-improvement","title":"Low Improvement","text":"<p>Possible causes:</p> <ol> <li>Insufficient training data</li> <li> <p>Solution: Generate more examples (50-100 minimum)</p> </li> <li> <p>Poor feedback in metric</p> </li> <li> <p>Solution: Add more specific feedback messages</p> </li> <li> <p>Task too simple</p> </li> <li> <p>Solution: Program may already be near-optimal</p> </li> <li> <p>Wrong predictor type</p> </li> <li>Solution: Try ChainOfThought or ReAct</li> </ol>"},{"location":"guide/optimization/#overfitting","title":"Overfitting","text":"<p>Symptoms:</p> <ul> <li>High training score</li> <li>Low validation score</li> <li>Large gap between them</li> </ul> <p>Solutions:</p> <pre><code># Reduce optimization intensity\ngepa_optimizer = GEPA(\n    breadth=5,   # Smaller\n    depth=2      # Fewer iterations\n)\n\n# Use more training data\n# Add regularization\n# Simplify the task\n</code></pre>"},{"location":"guide/optimization/#slow-optimization","title":"Slow Optimization","text":"<p>Speed up GEPA:</p> <pre><code># Reduce population and iterations\ngepa_optimizer = GEPA(\n    breadth=5,\n    depth=2\n)\n\n# Use fewer examples per batch\noptimized = gepa.compile(\n    program,\n    trainset=train_data,\n    num_batches=5  # Fewer batches\n)\n\n# Use faster model for optimization\ndspy.settings.configure(lm=dspy.OpenAI(model=\"gpt-3.5-turbo\"))\n</code></pre>"},{"location":"guide/optimization/#out-of-memory","title":"Out of Memory","text":"<p>Reduce memory usage:</p> <pre><code># Smaller batches\noptimized = gepa.compile(\n    program,\n    trainset=train_data,\n    num_batches=20,  # More, smaller batches\n    batch_size=5     # Smaller batch size\n)\n\n# Reduce population\ngepa_optimizer = GEPA(breadth=5)\n\n# Use fewer threads\nevaluator = Evaluate(num_threads=1)\n</code></pre>"},{"location":"guide/optimization/#real-world-example","title":"Real-World Example","text":"<p>Complete optimization workflow:</p> <pre><code>import dspy\nfrom dspy.teleprompt import GEPA\nfrom dspy.evaluate import Evaluate\nimport json\n\n# 1. Define program\nclass EmailClassifier(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.classify = dspy.ChainOfThought(\"email -&gt; category\")\n\n    def forward(self, email):\n        return self.classify(email=email)\n\n# 2. Load data\ndef load_data(filepath):\n    examples = []\n    with open(filepath) as f:\n        for line in f:\n            data = json.loads(line)\n            examples.append(dspy.Example(**data).with_inputs('email'))\n    return examples\n\ntrainset = load_data('email_train.jsonl')\nvalset = load_data('email_val.jsonl')\n\n# 3. Define metric\ndef email_metric(gold, pred, trace=None):\n    if gold.category == pred.category:\n        return 1.0\n\n    feedback = (\n        f\"Misclassified email as '{pred.category}' instead of '{gold.category}'. \"\n        f\"Email content: '{gold.email[:100]}...' \"\n        f\"Look for keywords and patterns specific to '{gold.category}' category.\"\n    )\n    return {'score': 0.0, 'feedback': feedback}\n\n# 4. Configure DSPy\ndspy.settings.configure(lm=dspy.OpenAI(model=\"gpt-3.5-turbo\"))\n\n# 5. Optimize\ngepa = GEPA(\n    metric=email_metric,\n    breadth=10,\n    depth=3,\n    init_temperature=1.4\n)\n\nprogram = EmailClassifier()\noptimized_program = gepa.compile(\n    program,\n    trainset=trainset,\n    num_batches=10\n)\n\n# 6. Evaluate\nevaluator = Evaluate(devset=valset, metric=email_metric, num_threads=4)\n\nbaseline = evaluator(program)\noptimized = evaluator(optimized_program)\n\nprint(f\"Baseline: {baseline:.2%}\")\nprint(f\"Optimized: {optimized:.2%}\")\nprint(f\"Improvement: {(optimized - baseline):.2%}\")\n\n# 7. Save\noptimized_program.save('email_classifier_optimized.json')\n</code></pre>"},{"location":"guide/optimization/#summary","title":"Summary","text":"<p>GEPA optimization:</p> <ul> <li>\u2705 Automatically improves DSPy programs</li> <li>\u2705 Uses genetic evolution and reflection</li> <li>\u2705 Requires training data and metrics</li> <li>\u2705 Provides significant accuracy gains</li> <li>\u2705 Works with any DSPy program</li> </ul> <p>Key takeaways:</p> <ol> <li>Prepare quality training data</li> <li>Write informative metrics with feedback</li> <li>Start with conservative parameters</li> <li>Monitor and validate results</li> <li>Save optimized programs</li> </ol> <p>Learn About Evaluation \u2192 See Complete Example \u2192</p>"},{"location":"guide/project-management/","title":"Project Management","text":"<p>Complete guide to managing DSPy projects with DSPy Code, from initialization to deployment.</p>"},{"location":"guide/project-management/#starting-a-new-project-vs-existing-project","title":"Starting a New Project vs Existing Project","text":"<p>DSPy Code supports two workflows:</p> <ol> <li>Blank Project - Start from scratch</li> <li>Existing Project - Add DSPy Code to existing codebase</li> </ol>"},{"location":"guide/project-management/#blank-project-fresh-start","title":"Blank Project (Fresh Start)","text":"<p>Use the <code>--fresh</code> flag to create a complete project structure:</p> <pre><code>dspy-code\n/init --fresh\n</code></pre> <p>What gets created:</p> <pre><code>my-dspy-project/\n\u251c\u2500\u2500 .venv/                    # Virtual environment (you created this)\n\u251c\u2500\u2500 dspy_config.yaml          # Active configuration\n\u251c\u2500\u2500 dspy_config_example.yaml  # Reference configuration\n\u251c\u2500\u2500 README.md                 # Project documentation\n\u251c\u2500\u2500 .dspy_cache/              # DSPy's LLM response cache\n\u251c\u2500\u2500 .dspy_code/               # dspy-code internal data\n\u2502   \u251c\u2500\u2500 cache/                # RAG index cache\n\u2502   \u251c\u2500\u2500 sessions/             # Session state\n\u2502   \u251c\u2500\u2500 optimization/         # GEPA workflows\n\u2502   \u251c\u2500\u2500 exports/              # Export history\n\u2502   \u2514\u2500\u2500 history.txt           # Command history\n\u251c\u2500\u2500 generated/                # Generated DSPy code\n\u2502   \u2514\u2500\u2500 .gitkeep\n\u251c\u2500\u2500 data/                     # Training data\n\u2502   \u2514\u2500\u2500 .gitkeep\n\u251c\u2500\u2500 modules/                  # Custom modules\n\u2502   \u2514\u2500\u2500 .gitkeep\n\u251c\u2500\u2500 signatures/               # DSPy signatures\n\u2502   \u2514\u2500\u2500 .gitkeep\n\u251c\u2500\u2500 programs/                 # Complete programs\n\u2502   \u2514\u2500\u2500 .gitkeep\n\u251c\u2500\u2500 optimizers/               # Optimization scripts\n\u2502   \u2514\u2500\u2500 .gitkeep\n\u251c\u2500\u2500 tests/                    # Test files\n\u2502   \u2514\u2500\u2500 .gitkeep\n\u2514\u2500\u2500 examples/                 # Example programs\n    \u2514\u2500\u2500 hello_dspy.py\n</code></pre> <p>Everything in One Place</p> <p>Notice how everything is inside <code>my-dspy-project/</code>:</p> <ul> <li>Virtual environment (<code>.venv/</code>)</li> <li>All packages (in <code>.venv/lib/</code>)</li> <li>All caches (<code>.dspy_cache/</code>, <code>.dspy_code/</code>)</li> <li>All your code (<code>generated/</code>, <code>modules/</code>, etc.)</li> </ul> <p>Result: Delete <code>my-dspy-project/</code> and everything is gone!</p> <p>Interactive prompts:</p> <pre><code>Project name [my-dspy-project]: customer-support-ai\n\u2713 Created project structure\n\u2713 Generated configuration files\n\u2713 Created example programs\n\nWould you like to configure a default model? [Y/n]: y\n\nSelect provider:\n  1. Ollama (local)\n  2. OpenAI\n  3. Anthropic\n  4. Gemini\n  5. Skip for now\n\nChoice [1]: 1\n\nModel name [llama3.1:8b]: llama3.1:8b\n\u2713 Model configured\n\nBuilding codebase knowledge base...\n\ud83e\udd16 Teaching the AI to read your code...\n\u2713 Indexed DSPy 3.0.4\n\u2713 Indexed your project\n\u2713 Index built successfully!\n\nNext Steps:\n1. Start interactive mode: dspy-code\n2. Generate your first module: \"Create a sentiment analyzer\"\n3. Connect to model: /connect ollama llama3.1:8b\n</code></pre>"},{"location":"guide/project-management/#existing-project-minimal-setup","title":"Existing Project (Minimal Setup)","text":"<p>Add DSPy Code to an existing project:</p> <pre><code>cd my-existing-project\ndspy-code\n/init\n</code></pre> <p>What gets created:</p> <pre><code>my-existing-project/\n\u251c\u2500\u2500 .venv/                    # Virtual environment (create this first!)\n\u251c\u2500\u2500 (your existing files)\n\u251c\u2500\u2500 dspy_config.yaml          # Minimal config\n\u251c\u2500\u2500 dspy_config_example.yaml  # Reference\n\u251c\u2500\u2500 .dspy_cache/              # DSPy's LLM cache\n\u2514\u2500\u2500 .dspy_code/               # dspy-code data\n    \u251c\u2500\u2500 cache/                # RAG index\n    \u251c\u2500\u2500 sessions/             # Sessions\n    \u251c\u2500\u2500 optimization/         # Workflows\n    \u2514\u2500\u2500 exports/              # Exports\n</code></pre> <p>Directories created on-demand:</p> <ul> <li><code>generated/</code> - When you save generated code</li> <li><code>data/</code> - When you save training data</li> <li><code>modules/</code> - When you export modules</li> </ul> <p>Interactive prompts:</p> <pre><code>Project name [my-existing-project]:\n\u2713 Minimal configuration created\n\nScanning existing project...\n\u2713 Found 15 Python files\n\u2713 Detected existing DSPy code in 3 files\n\nBuilding codebase knowledge base...\n\ud83d\udcda Indexing your installed DSPy...\n\ud83d\udcc1 Scanning your project files...\n\u2713 Index built successfully!\n\nYour existing DSPy code:\n  \u2022 modules/sentiment.py\n  \u2022 programs/classifier.py\n  \u2022 signatures/analysis.py\n\nNext Steps:\n1. Ask about your code: \"Explain my sentiment module\"\n2. Generate new code: \"Create a RAG module\"\n3. Optimize existing: /optimize modules/sentiment.py\n</code></pre>"},{"location":"guide/project-management/#project-initialization-options","title":"Project Initialization Options","text":""},{"location":"guide/project-management/#command-line-options","title":"Command-Line Options","text":"<pre><code># Fresh project with full structure\ndspy-code /init --fresh\n\n# Specify project name\ndspy-code /init --name \"my-project\"\n\n# Specify directory\ndspy-code /init --path /path/to/project\n\n# Configure model during init\ndspy-code /init --provider ollama --model llama3.1:8b\n\n# Verbose output\ndspy-code /init --verbose\n</code></pre>"},{"location":"guide/project-management/#interactive-mode","title":"Interactive Mode","text":"<p>Within DSPy Code:</p> <pre><code>/init\n</code></pre> <p>Prompts you'll see:</p> <ol> <li>Project name - Defaults to directory name</li> <li>Reinitialize? - If already initialized</li> <li>Model configuration - Optional model setup</li> <li>Fresh structure? - Create full directories</li> </ol>"},{"location":"guide/project-management/#configuration-files","title":"Configuration Files","text":""},{"location":"guide/project-management/#dspy_configyaml","title":"dspy_config.yaml","text":"<p>Active configuration for your project:</p> <pre><code># Project Information\nproject_name: customer-support-ai\ndspy_version: \"3.0.4\"\ncreated_at: \"2025-01-15T10:30:00\"\n\n# Model Configuration\nmodels:\n  default: ollama/llama3.1:8b\n\n  ollama:\n    llama3.1:8b:\n      base_url: http://localhost:11434\n      timeout: 60\n\n  openai:\n    gpt-4:\n      api_key: ${OPENAI_API_KEY}\n      max_tokens: 2000\n      temperature: 0.7\n\n  anthropic:\n    claude-3-sonnet:\n      api_key: ${ANTHROPIC_API_KEY}\n      max_tokens: 4000\n\n# Directory Structure\npaths:\n  generated: generated/\n  data: data/\n  modules: modules/\n  signatures: signatures/\n  programs: programs/\n  optimizers: optimizers/\n  tests: tests/\n  cache: .cache/\n\n# Codebase RAG\nrag:\n  enabled: true\n  cache_ttl: 86400  # 24 hours\n  index_patterns:\n    - \"*.py\"\n    - \"!__pycache__\"\n    - \"!.venv\"\n    - \"!venv\"\n\n# Optimization\noptimization:\n  default_budget: medium\n  save_checkpoints: true\n  checkpoint_dir: .cache/checkpoints/\n\n# Validation\nvalidation:\n  enabled: true\n  min_quality_score: 80\n  auto_fix: false\n\n# MCP Servers\nmcp_servers: {}\n</code></pre>"},{"location":"guide/project-management/#dspy_config_exampleyaml","title":"dspy_config_example.yaml","text":"<p>Reference configuration with all options:</p> <pre><code># Complete configuration example with all available options\n# Copy sections you need to dspy_config.yaml\n\nproject_name: example-project\ndspy_version: \"3.0.4\"\n\n# Model providers\nmodels:\n  default: ollama/llama3.1:8b\n\n  # Local Ollama\n  ollama:\n    llama3.1:8b:\n      base_url: http://localhost:11434\n      timeout: 60\n\n    mistral:\n      base_url: http://localhost:11434\n      timeout: 60\n\n  # OpenAI\n  openai:\n    gpt-4:\n      api_key: ${OPENAI_API_KEY}\n      max_tokens: 2000\n      temperature: 0.7\n      organization: ${OPENAI_ORG}  # Optional\n\n    gpt-3.5-turbo:\n      api_key: ${OPENAI_API_KEY}\n      max_tokens: 1000\n      temperature: 0.7\n\n  # Anthropic\n  anthropic:\n    claude-3-sonnet:\n      api_key: ${ANTHROPIC_API_KEY}\n      max_tokens: 4000\n      temperature: 0.7\n\n    claude-3-opus:\n      api_key: ${ANTHROPIC_API_KEY}\n      max_tokens: 4000\n\n  # Google Gemini\n  gemini:\n    gemini-pro:\n      api_key: ${GOOGLE_API_KEY}\n      max_tokens: 2048\n\n# Paths\npaths:\n  generated: generated/\n  data: data/\n  modules: modules/\n  signatures: signatures/\n  programs: programs/\n  optimizers: optimizers/\n  tests: tests/\n  cache: .cache/\n  exports: exports/\n\n# Codebase RAG configuration\nrag:\n  enabled: true\n  cache_ttl: 86400\n  max_file_size: 1048576  # 1MB\n  index_patterns:\n    - \"*.py\"\n    - \"!__pycache__\"\n    - \"!*.pyc\"\n    - \"!.venv\"\n    - \"!venv\"\n    - \"!node_modules\"\n\n  # Codebases to index\n  codebases:\n    - name: dspy\n      auto_discover: true\n    - name: gepa\n      auto_discover: true\n    - name: project\n      path: .\n\n# Optimization settings\noptimization:\n  default_budget: medium\n  budgets:\n    light:\n      breadth: 5\n      depth: 2\n      max_iterations: 10\n    medium:\n      breadth: 10\n      depth: 3\n      max_iterations: 20\n    heavy:\n      breadth: 15\n      depth: 4\n      max_iterations: 30\n\n  save_checkpoints: true\n  checkpoint_dir: .dspy_code/optimization/checkpoints/\n  checkpoint_interval: 5\n\n# Validation settings\nvalidation:\n  enabled: true\n  min_quality_score: 80\n  auto_fix: false\n  rules:\n    - signature_structure\n    - module_structure\n    - best_practices\n    - type_hints\n    - documentation\n\n  ignore_patterns:\n    - \"test_*.py\"\n    - \"*_test.py\"\n\n# Execution settings\nexecution:\n  sandbox: true\n  timeout: 30\n  max_memory_mb: 512\n\n# MCP server configurations\nmcp_servers:\n  # Example stdio server\n  local-tools:\n    transport: stdio\n    command: python\n    args:\n      - tools_server.py\n    env:\n      PYTHONPATH: /path/to/modules\n    working_dir: ./mcp_servers\n\n  # Example SSE server\n  remote-api:\n    transport: sse\n    url: https://api.example.com/mcp\n    headers:\n      Authorization: Bearer ${MCP_API_TOKEN}\n      X-Custom-Header: value\n\n# Logging\nlogging:\n  level: INFO\n  file: .dspy_code/dspy-code.log\n  max_size_mb: 10\n  backup_count: 3\n</code></pre>"},{"location":"guide/project-management/#project-structure-best-practices","title":"Project Structure Best Practices","text":""},{"location":"guide/project-management/#organizing-generated-code","title":"Organizing Generated Code","text":"<p>By feature:</p> <pre><code>generated/\n\u251c\u2500\u2500 sentiment/\n\u2502   \u251c\u2500\u2500 signature.py\n\u2502   \u251c\u2500\u2500 module.py\n\u2502   \u2514\u2500\u2500 program.py\n\u251c\u2500\u2500 classification/\n\u2502   \u251c\u2500\u2500 signature.py\n\u2502   \u2514\u2500\u2500 module.py\n\u2514\u2500\u2500 rag/\n    \u251c\u2500\u2500 retrieval.py\n    \u251c\u2500\u2500 generation.py\n    \u2514\u2500\u2500 rag_module.py\n</code></pre> <p>By type:</p> <pre><code>signatures/\n\u251c\u2500\u2500 sentiment_signature.py\n\u251c\u2500\u2500 classification_signature.py\n\u2514\u2500\u2500 rag_signatures.py\n\nmodules/\n\u251c\u2500\u2500 sentiment_analyzer.py\n\u251c\u2500\u2500 classifier.py\n\u2514\u2500\u2500 rag_module.py\n\nprograms/\n\u251c\u2500\u2500 sentiment_app.py\n\u251c\u2500\u2500 classification_app.py\n\u2514\u2500\u2500 rag_app.py\n</code></pre>"},{"location":"guide/project-management/#organizing-training-data","title":"Organizing Training Data","text":"<pre><code>data/\n\u251c\u2500\u2500 sentiment/\n\u2502   \u251c\u2500\u2500 train.jsonl\n\u2502   \u251c\u2500\u2500 val.jsonl\n\u2502   \u2514\u2500\u2500 test.jsonl\n\u251c\u2500\u2500 classification/\n\u2502   \u251c\u2500\u2500 emails_train.jsonl\n\u2502   \u2514\u2500\u2500 emails_val.jsonl\n\u2514\u2500\u2500 rag/\n    \u251c\u2500\u2500 qa_pairs.jsonl\n    \u2514\u2500\u2500 documents.jsonl\n</code></pre>"},{"location":"guide/project-management/#organizing-optimization-scripts","title":"Organizing Optimization Scripts","text":"<pre><code>optimizers/\n\u251c\u2500\u2500 sentiment_gepa.py\n\u251c\u2500\u2500 classification_gepa.py\n\u2514\u2500\u2500 rag_gepa.py\n</code></pre>"},{"location":"guide/project-management/#codebase-indexing","title":"Codebase Indexing","text":""},{"location":"guide/project-management/#what-gets-indexed","title":"What Gets Indexed","text":"<p>1. Your Installed DSPy:</p> <pre><code>Discovering codebases...\n\u2713 Found DSPy 3.0.4 at /path/to/site-packages/dspy\n  - 150 Python files\n  - 234 classes\n  - 1,456 functions\n</code></pre> <p>2. Your Installed GEPA (if available):</p> <pre><code>\u2713 Found GEPA 1.2.0 at /path/to/site-packages/gepa\n  - 45 Python files\n  - 89 classes\n  - 456 functions\n</code></pre> <p>3. Your Installed MCP (if available):</p> <pre><code>\u2713 Found MCP 1.2.1 at /path/to/site-packages/mcp\n  - 87 Python files\n  - 156 classes\n  - 678 functions\n</code></pre> <p>4. Your Project Code:</p> <pre><code>\u2713 Scanning project at /path/to/project\n  - 12 Python files\n  - 15 classes\n  - 78 functions\n</code></pre> <p>5. Configured MCP Servers:</p> <pre><code>\u2713 Found MCP server 'local-tools' at ./mcp_servers\n  - 3 Python files\n  - 8 tools defined\n</code></pre>"},{"location":"guide/project-management/#index-contents","title":"Index Contents","text":"<p>The index includes:</p> <ul> <li>Classes - Names, docstrings, methods</li> <li>Functions - Signatures, docstrings, parameters</li> <li>Signatures - DSPy signatures with fields</li> <li>Modules - DSPy modules with predictors</li> <li>Imports - Dependencies and usage</li> <li>Comments - Inline documentation</li> </ul>"},{"location":"guide/project-management/#using-the-index","title":"Using the Index","text":"<p>Ask about DSPy concepts:</p> <pre><code>How does ChainOfThought work?\n</code></pre> <p>Response uses YOUR installed DSPy version!</p> <p>Ask about your code:</p> <pre><code>What modules do I have?\nExplain my sentiment analyzer\nHow does my RAG module work?\n</code></pre> <p>Ask for examples:</p> <pre><code>Show me a ChainOfThought example\nHow do I use ReAct?\n</code></pre>"},{"location":"guide/project-management/#refreshing-the-index","title":"Refreshing the Index","text":"<p>Manual refresh:</p> <pre><code>/refresh-index\n</code></pre> <p>Check index status:</p> <pre><code>/index-status\n</code></pre> <p>Output:</p> <pre><code>Codebase Index Status:\n\n\u2713 Index loaded: 3,421 elements\n  - DSPy: 1,890 elements\n  - GEPA: 545 elements\n  - MCP: 834 elements\n  - Project: 152 elements\n\nLast updated: 2 hours ago\nCache size: 2.3 MB\n\nIndex is stale (&gt;24 hours old)\nRun /refresh-index to rebuild\n</code></pre>"},{"location":"guide/project-management/#project-scanning","title":"Project Scanning","text":""},{"location":"guide/project-management/#automatic-scanning","title":"Automatic Scanning","text":"<p>DSPy Code automatically scans your project during <code>/init</code>:</p> <pre><code>Scanning existing project...\n\u2713 Found 15 Python files\n\u2713 Detected existing DSPy code in 3 files\n\nYour existing DSPy code:\n  \u2022 modules/sentiment.py - SentimentAnalyzer\n  \u2022 programs/classifier.py - EmailClassifier\n  \u2022 signatures/analysis.py - AnalysisSignature\n</code></pre>"},{"location":"guide/project-management/#manual-scanning","title":"Manual Scanning","text":"<pre><code>/project scan\n</code></pre> <p>Output:</p> <pre><code>Project Scan Results:\n\nDSPy Components Found:\n  Signatures: 5\n    - SentimentSignature (signatures/sentiment.py)\n    - ClassificationSignature (signatures/classification.py)\n    - QASignature (signatures/qa.py)\n    - RetrievalSignature (signatures/rag.py)\n    - GenerationSignature (signatures/rag.py)\n\n  Modules: 3\n    - SentimentAnalyzer (modules/sentiment.py)\n    - EmailClassifier (modules/classifier.py)\n    - RAGModule (modules/rag.py)\n\n  Programs: 2\n    - sentiment_app.py\n    - classification_app.py\n\nTraining Data:\n  - data/sentiment_train.jsonl (50 examples)\n  - data/classification_train.jsonl (100 examples)\n\nOptimization Scripts:\n  - optimizers/sentiment_gepa.py\n</code></pre>"},{"location":"guide/project-management/#project-context","title":"Project Context","text":"<p>View project context:</p> <pre><code>/project context\n</code></pre> <p>Output:</p> <pre><code>Project Context:\n\nName: customer-support-ai\nDSPy Version: 3.0.4\nCreated: 2025-01-15\n\nComponents:\n  - 5 Signatures\n  - 3 Modules\n  - 2 Programs\n  - 150 training examples\n  - 1 optimization script\n\nRecent Activity:\n  - Generated SentimentAnalyzer (2 hours ago)\n  - Optimized EmailClassifier (1 day ago)\n  - Created 50 training examples (1 day ago)\n\nModel Configuration:\n  Default: ollama/llama3.1:8b\n  Connected: Yes\n</code></pre>"},{"location":"guide/project-management/#environment-variables","title":"Environment Variables","text":""},{"location":"guide/project-management/#model-api-keys","title":"Model API Keys","text":"<pre><code># OpenAI\nexport OPENAI_API_KEY=sk-...\nexport OPENAI_ORG=org-...  # Optional\n\n# Anthropic\nexport ANTHROPIC_API_KEY=sk-ant-...\n\n# Google Gemini\nexport GOOGLE_API_KEY=...\n\n# MCP\nexport MCP_API_TOKEN=...\n</code></pre>"},{"location":"guide/project-management/#dspy-code-configuration","title":"DSPy Code Configuration","text":"<pre><code># Override config file location\nexport DSPY_CLI_CONFIG=/path/to/config.yaml\n\n# Override cache directory\nexport DSPY_CLI_CACHE=/path/to/cache\n\n# Enable debug logging\nexport DSPY_CLI_DEBUG=1\n\n# Disable codebase RAG\nexport DSPY_CLI_RAG_DISABLED=1\n</code></pre>"},{"location":"guide/project-management/#migration-guide","title":"Migration Guide","text":""},{"location":"guide/project-management/#from-manual-dspy-to-dspy-code","title":"From Manual DSPy to DSPy Code","text":"<p>1. Initialize in existing project:</p> <pre><code>cd my-dspy-project\ndspy-code\n/init\n</code></pre> <p>2. Scan existing code:</p> <pre><code>/project scan\n</code></pre> <p>3. Ask about your code:</p> <pre><code>Explain my existing modules\nWhat signatures do I have?\n</code></pre> <p>4. Generate new code:</p> <pre><code>Create a new module for [task]\n</code></pre> <p>5. Optimize existing code:</p> <pre><code>/optimize modules/my_module.py data/train.jsonl\n</code></pre>"},{"location":"guide/project-management/#from-other-tools","title":"From Other Tools","text":"<p>From LangChain:</p> <p>DSPy Code can help convert:</p> <pre><code>I have a LangChain chain that does [description]. Create equivalent DSPy code.\n</code></pre> <p>From Prompt Engineering:</p> <p>Convert manual prompts:</p> <pre><code>I have this prompt: \"[your prompt]\". Create a DSPy signature and module.\n</code></pre>"},{"location":"guide/project-management/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/project-management/#project-already-initialized","title":"Project Already Initialized","text":"<pre><code>This directory already contains a DSPy project. Reinitialize? [y/N]:\n</code></pre> <p>Choose <code>y</code> to: - Update configuration - Rebuild index - Keep existing files</p>"},{"location":"guide/project-management/#permission-errors-during-indexing","title":"Permission Errors During Indexing","text":"<pre><code>\u26a0\ufe0f  Could not index /path/to/package (permission denied)\n\u2713 DSPy Code will still work!\n</code></pre> <p>Solutions:</p> <ol> <li>Run with appropriate permissions</li> <li>Install packages in user directory: <code>pip install --user</code></li> <li>Use virtual environment</li> </ol>"},{"location":"guide/project-management/#index-build-fails","title":"Index Build Fails","text":"<pre><code>\u26a0\ufe0f  Could not build codebase index\nYou can still use DSPy Code, but Q&amp;A about code will be limited\n</code></pre> <p>Solutions:</p> <ol> <li>Check Python package installations</li> <li>Verify project directory is readable</li> <li>Try <code>/refresh-index</code> later</li> </ol>"},{"location":"guide/project-management/#model-not-configured","title":"Model Not Configured","text":"<pre><code>\u26a0\ufe0f  No default model configured\n</code></pre> <p>Solutions:</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>Or edit <code>dspy_config.yaml</code>:</p> <pre><code>models:\n  default: ollama/llama3.1:8b\n</code></pre>"},{"location":"guide/project-management/#best-practices","title":"Best Practices","text":""},{"location":"guide/project-management/#1-use-fresh-for-new-projects","title":"1. Use Fresh for New Projects","text":"<pre><code>dspy-code /init --fresh\n</code></pre> <p>Creates complete structure from the start.</p>"},{"location":"guide/project-management/#2-use-minimal-for-existing-projects","title":"2. Use Minimal for Existing Projects","text":"<pre><code>cd existing-project\ndspy-code /init\n</code></pre> <p>Doesn't interfere with existing structure.</p>"},{"location":"guide/project-management/#3-keep-configuration-in-version-control","title":"3. Keep Configuration in Version Control","text":"<pre><code>git add dspy_config.yaml\ngit commit -m \"Add DSPy Code configuration\"\n</code></pre> <p>But ignore internal data:</p> <pre><code># .gitignore\n.venv/\n.dspy_cache/\n.dspy_code/\n</code></pre>"},{"location":"guide/project-management/#4-use-environment-variables-for-secrets","title":"4. Use Environment Variables for Secrets","text":"<p>Never commit API keys!</p> <pre><code># dspy_config.yaml\nmodels:\n  openai:\n    gpt-4:\n      api_key: ${OPENAI_API_KEY}  # From environment\n</code></pre>"},{"location":"guide/project-management/#5-refresh-index-regularly","title":"5. Refresh Index Regularly","text":"<p>After major changes:</p> <pre><code>/refresh-index\n</code></pre>"},{"location":"guide/project-management/#6-organize-by-feature-or-type","title":"6. Organize by Feature or Type","text":"<p>Choose one structure and stick with it.</p>"},{"location":"guide/project-management/#7-use-descriptive-project-names","title":"7. Use Descriptive Project Names","text":"<pre><code>customer-support-ai  # Good\nproject1            # Bad\n</code></pre>"},{"location":"guide/project-management/#summary","title":"Summary","text":"<p>Project management in DSPy Code:</p> <ul> <li>\u2705 Blank projects with <code>--fresh</code></li> <li>\u2705 Existing projects with minimal setup</li> <li>\u2705 Automatic codebase indexing</li> <li>\u2705 Project scanning</li> <li>\u2705 Configuration management</li> <li>\u2705 Environment variables</li> <li>\u2705 Migration support</li> </ul> <p>Key commands:</p> <ul> <li><code>/init</code> - Initialize project</li> <li><code>/init --fresh</code> - Create full structure</li> <li><code>/project scan</code> - Scan existing code</li> <li><code>/project context</code> - View project info</li> <li><code>/refresh-index</code> - Rebuild index</li> <li><code>/index-status</code> - Check index</li> </ul> <p>Learn About Code Generation \u2192 See Complete Workflow \u2192</p>"},{"location":"guide/retrievers/","title":"DSPy Retrievers Guide","text":"<p>Retrievers in DSPy enable RAG (Retrieval-Augmented Generation) by finding relevant documents or passages to provide context for your language model. This guide covers all retriever types and how to use them.</p>"},{"location":"guide/retrievers/#what-are-retrievers","title":"What are Retrievers?","text":"<p>Retrievers find and return relevant documents or passages based on a query. They are essential for:</p> <ul> <li>RAG Systems - Providing context from knowledge bases</li> <li>Document Q&amp;A - Answering questions over documents</li> <li>Information Retrieval - Finding relevant information quickly</li> <li>Knowledge Grounding - Reducing hallucinations by grounding in facts</li> </ul>"},{"location":"guide/retrievers/#available-retriever-types","title":"Available Retriever Types","text":"<p>DSPy Code supports three main retriever approaches:</p>"},{"location":"guide/retrievers/#1-colbertv2-recommended-for-production","title":"1. ColBERTv2 (Recommended for Production)","text":"<p>State-of-the-art neural retrieval model for semantic search.</p> <p>When to use: - Production RAG systems - High-quality retrieval needed - Semantic search requirements - Large document collections</p> <p>Features: - \u2705 State-of-the-art quality - \u2705 Fast retrieval with pre-computed indexes - \u2705 Production-ready and scalable - \u2705 Better than simple keyword search</p> <p>Example:</p> <pre><code>import dspy\n\n# Configure ColBERTv2 retriever\ncolbertv2_retriever = dspy.ColBERTv2(\n    url='http://20.102.90.50:2017/wiki17_abstracts'  # Public server\n    # Or your own: url='http://localhost:8893/api/search'\n)\n\n# Configure DSPy to use ColBERTv2\ndspy.configure(rm=colbertv2_retriever)\n\n# Create retriever module\nretriever = dspy.Retrieve(k=5)  # Retrieve top 5 passages\n\n# Use retriever\nquery = \"What is machine learning?\"\nresults = retriever(query)\n\nprint(f\"Retrieved {len(results.passages)} passages:\")\nfor passage in results.passages:\n    print(f\"  - {passage[:100]}...\")\n</code></pre> <p>Setting up your own ColBERTv2 server:</p> <pre><code># Install ColBERTv2\npip install colbert-ai\n\n# Index your documents\npython -m colbert.index --documents your_docs.jsonl --index your_index\n\n# Start the server\npython -m colbert.serve --index your_index --port 8893\n</code></pre>"},{"location":"guide/retrievers/#2-custom-retriever","title":"2. Custom Retriever","text":"<p>Build your own retriever for domain-specific needs.</p> <p>When to use: - Custom retrieval logic needed - Domain-specific search requirements - Prototyping and experimentation - Integration with existing systems</p> <p>Example - Keyword-Based Retriever:</p> <pre><code>import dspy\nfrom typing import List, Dict, Any\n\nclass KeywordRetriever:\n    \"\"\"Simple keyword-based retriever.\"\"\"\n\n    def __init__(self, documents: List[Dict[str, Any]]):\n        self.documents = documents\n\n    def __call__(self, query: str, k: int = 5) -&gt; List[Dict[str, Any]]:\n        \"\"\"Retrieve documents based on keyword matching.\"\"\"\n        query_words = set(query.lower().split())\n\n        # Score documents by keyword overlap\n        scored_docs = []\n        for doc in self.documents:\n            doc_text = doc.get('text', '').lower()\n            doc_words = set(doc_text.split())\n            score = len(query_words &amp; doc_words)\n\n            if score &gt; 0:\n                scored_docs.append((score, doc))\n\n        # Sort by score and return top k\n        scored_docs.sort(reverse=True, key=lambda x: x[0])\n        return [doc for _, doc in scored_docs[:k]]\n\n# Use custom retriever\ndocuments = [\n    {\"text\": \"DSPy is a framework for programming with foundation models.\", \"id\": 1},\n    {\"text\": \"ColBERTv2 provides neural retrieval capabilities.\", \"id\": 2},\n]\n\nretriever = KeywordRetriever(documents)\nresults = retriever(\"What is DSPy?\", k=2)\n</code></pre> <p>Example - Semantic Retriever:</p> <pre><code>from sentence_transformers import SentenceTransformer\nimport numpy as np\n\nclass SemanticRetriever:\n    \"\"\"Semantic retriever using embeddings.\"\"\"\n\n    def __init__(self, documents: List[str], embedding_model=None):\n        self.documents = documents\n\n        if embedding_model is None:\n            self.embedding_model = SentenceTransformer('all-MiniLM-L6-v2')\n        else:\n            self.embedding_model = embedding_model\n\n        # Pre-compute document embeddings\n        self.doc_embeddings = self.embedding_model.encode(documents)\n\n    def __call__(self, query: str, k: int = 5) -&gt; List[Dict[str, Any]]:\n        \"\"\"Retrieve documents using semantic similarity.\"\"\"\n        # Embed query\n        query_embedding = self.embedding_model.encode([query])[0]\n\n        # Compute similarity scores\n        scores = []\n        for i, doc_emb in enumerate(self.doc_embeddings):\n            similarity = np.dot(query_embedding, doc_emb) / (\n                np.linalg.norm(query_embedding) * np.linalg.norm(doc_emb)\n            )\n            scores.append((similarity, self.documents[i]))\n\n        # Sort by similarity and return top k\n        scores.sort(reverse=True, key=lambda x: x[0])\n        return [{\"text\": doc, \"score\": score} for score, doc in scores[:k]]\n</code></pre>"},{"location":"guide/retrievers/#3-embeddings-retriever","title":"3. Embeddings Retriever","text":"<p>Vector-based retrieval using embeddings and vector databases.</p> <p>When to use: - Vector databases (FAISS, Chroma, Pinecone) - Embedding-based search - Large document collections - Scalable retrieval needs</p> <p>Example - FAISS Retriever:</p> <pre><code>import dspy\nimport faiss\nfrom sentence_transformers import SentenceTransformer\n\nclass FAISSRetriever:\n    \"\"\"FAISS-based vector retriever.\"\"\"\n\n    def __init__(self, documents: List[str]):\n        self.documents = documents\n        self.embedding_model = SentenceTransformer('all-MiniLM-L6-v2')\n\n        # Generate embeddings\n        embeddings = self.embedding_model.encode(documents)\n\n        # Create FAISS index\n        dimension = embeddings.shape[1]\n        self.index = faiss.IndexFlatL2(dimension)\n        self.index.add(embeddings.astype('float32'))\n\n    def __call__(self, query: str, k: int = 5) -&gt; List[Dict[str, Any]]:\n        \"\"\"Retrieve documents for query.\"\"\"\n        # Embed query\n        query_embedding = self.embedding_model.encode([query])\n\n        # Search in FAISS\n        distances, indices = self.index.search(query_embedding.astype('float32'), k)\n\n        # Return results\n        results = []\n        for idx, dist in zip(indices[0], distances[0]):\n            if idx &lt; len(self.documents):\n                results.append({\n                    \"text\": self.documents[idx],\n                    \"score\": float(dist),\n                    \"index\": int(idx)\n                })\n\n        return results\n\n# Use FAISS retriever\ndocuments = [\n    \"DSPy is a framework for programming with foundation models.\",\n    \"ColBERTv2 provides neural retrieval capabilities.\",\n    \"RAG combines retrieval with generation.\",\n]\n\nretriever = FAISSRetriever(documents)\nresults = retriever(\"What is DSPy?\", k=2)\n</code></pre> <p>Example - Chroma Retriever:</p> <pre><code>import chromadb\n\nclass ChromaRetriever:\n    \"\"\"Chroma-based vector retriever.\"\"\"\n\n    def __init__(self, documents: List[Dict[str, Any]], collection_name=\"documents\"):\n        import chromadb\n        from chromadb.config import Settings\n\n        # Initialize Chroma client\n        self.client = chromadb.Client(Settings(\n            chroma_db_impl=\"duckdb+parquet\",\n            persist_directory=\"./chroma_db\"\n        ))\n\n        # Create or get collection\n        self.collection = self.client.get_or_create_collection(\n            name=collection_name,\n            metadata={\"hnsw:space\": \"cosine\"}\n        )\n\n        # Add documents if collection is empty\n        if self.collection.count() == 0:\n            texts = [doc.get('text', '') for doc in documents]\n            ids = [doc.get('id', str(i)) for i, doc in enumerate(documents)]\n            metadatas = [doc.get('metadata', {}) for doc in documents]\n\n            self.collection.add(\n                documents=texts,\n                ids=ids,\n                metadatas=metadatas\n            )\n\n    def __call__(self, query: str, k: int = 5) -&gt; List[Dict[str, Any]]:\n        \"\"\"Retrieve documents for query.\"\"\"\n        results = self.collection.query(\n            query_texts=[query],\n            n_results=k\n        )\n\n        # Format results\n        retrieved = []\n        if results['documents']:\n            for i, doc in enumerate(results['documents'][0]):\n                retrieved.append({\n                    \"text\": doc,\n                    \"id\": results['ids'][0][i] if results['ids'] else None,\n                    \"metadata\": results['metadatas'][0][i] if results['metadatas'] else {},\n                })\n\n        return retrieved\n</code></pre>"},{"location":"guide/retrievers/#building-rag-systems-with-retrievers","title":"Building RAG Systems with Retrievers","text":""},{"location":"guide/retrievers/#complete-rag-module","title":"Complete RAG Module","text":"<pre><code>import dspy\n\nclass RAGSignature(dspy.Signature):\n    \"\"\"Answer questions using retrieved context.\"\"\"\n    context = dspy.InputField(desc=\"Retrieved context passages\")\n    question = dspy.InputField(desc=\"User's question\")\n    answer = dspy.OutputField(desc=\"Answer based on context\")\n\n\nclass RAGModule(dspy.Module):\n    \"\"\"RAG system using retriever.\"\"\"\n\n    def __init__(self, k=5):\n        super().__init__()\n        self.retrieve = dspy.Retrieve(k=k)\n        self.generate = dspy.ChainOfThought(RAGSignature)\n\n    def forward(self, question: str):\n        # Retrieve relevant passages\n        retrieved = self.retrieve(question)\n        context = \"\\n\\n\".join(retrieved.passages)\n\n        # Generate answer from context\n        result = self.generate(context=context, question=question)\n        return result\n\n# Configure retriever\ncolbertv2_retriever = dspy.ColBERTv2(url='http://localhost:8893/api/search')\ndspy.configure(rm=colbertv2_retriever)\n\n# Use RAG system\nrag = RAGModule(k=5)\nresult = rag(question=\"What is DSPy?\")\nprint(result.answer)\n</code></pre>"},{"location":"guide/retrievers/#using-retrievers-in-dspy-code","title":"Using Retrievers in DSPy Code","text":""},{"location":"guide/retrievers/#via-slash-commands","title":"Via Slash Commands","text":"<p>List all retrievers:</p> <pre><code>/retrievers\n</code></pre> <p>Get details for a specific retriever:</p> <pre><code>/retrievers colbertv2\n/retrievers custom\n/retrievers embeddings\n</code></pre>"},{"location":"guide/retrievers/#via-natural-language","title":"Via Natural Language","text":"<p>Ask about retrievers:</p> <pre><code>What is ColBERTv2?\nHow do I use a custom retriever?\nTell me about embeddings retrieval\n</code></pre>"},{"location":"guide/retrievers/#via-code-generation","title":"Via Code Generation","text":"<p>Request retriever usage:</p> <pre><code>Create a RAG system with ColBERTv2\nBuild a custom retriever for my documents\nGenerate code for FAISS-based retrieval\n</code></pre>"},{"location":"guide/retrievers/#choosing-the-right-retriever","title":"Choosing the Right Retriever","text":"Retriever Best For Difficulty Quality ColBERTv2 Production RAG, high quality Intermediate \u2b50\u2b50\u2b50\u2b50\u2b50 Custom Domain-specific, prototyping Advanced \u2b50\u2b50\u2b50 Embeddings Vector databases, scalability Intermediate \u2b50\u2b50\u2b50\u2b50"},{"location":"guide/retrievers/#best-practices","title":"Best Practices","text":""},{"location":"guide/retrievers/#1-document-indexing","title":"1. Document Indexing","text":"<ul> <li>Chunk documents appropriately (200-500 tokens per chunk)</li> <li>Add metadata (source, date, author) for filtering</li> <li>Pre-compute embeddings for faster retrieval</li> <li>Update indexes regularly for fresh content</li> </ul>"},{"location":"guide/retrievers/#2-retrieval-parameters","title":"2. Retrieval Parameters","text":"<ul> <li>k value: Start with 3-5 passages, adjust based on context window</li> <li>Reranking: Consider reranking top-k results for better quality</li> <li>Filtering: Use metadata filters for domain-specific retrieval</li> </ul>"},{"location":"guide/retrievers/#3-rag-optimization","title":"3. RAG Optimization","text":"<ul> <li>Context length: Balance between context and generation tokens</li> <li>Relevance threshold: Filter out low-relevance passages</li> <li>Diversity: Ensure retrieved passages are diverse</li> <li>Source attribution: Track sources for citations</li> </ul>"},{"location":"guide/retrievers/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/retrievers/#colbertv2-issues","title":"ColBERTv2 Issues","text":"<ul> <li>Server not responding: Check server URL and port</li> <li>Slow retrieval: Ensure indexes are pre-computed</li> <li>Low quality: Try adjusting k value or reranking</li> </ul>"},{"location":"guide/retrievers/#custom-retriever-issues","title":"Custom Retriever Issues","text":"<ul> <li>Low relevance: Improve scoring function or use semantic search</li> <li>Performance: Consider caching or pre-computing</li> <li>Integration: Ensure compatibility with DSPy's Retrieve module</li> </ul>"},{"location":"guide/retrievers/#embeddings-retriever-issues","title":"Embeddings Retriever Issues","text":"<ul> <li>Memory: Use FAISS GPU or distributed indexes for large collections</li> <li>Quality: Try different embedding models (e.g., sentence-transformers)</li> <li>Index updates: Rebuild index when documents change</li> </ul>"},{"location":"guide/retrievers/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about RAG Systems for complete examples</li> <li>Explore Optimization to improve retrieval quality</li> <li>Check Evaluation to measure retrieval performance</li> <li>See Complete Programs for full examples</li> </ul>"},{"location":"guide/retrievers/#additional-resources","title":"Additional Resources","text":"<ul> <li>DSPy Retrievers Documentation</li> <li>Use <code>/retrievers</code> in the CLI to see all available retrievers</li> <li>Use <code>/explain retriever</code> for detailed explanations</li> </ul>"},{"location":"guide/running-programs/","title":"Running DSPy Programs","text":"<p>Execute and test your DSPy programs safely with DSPy Code.</p>"},{"location":"guide/running-programs/#quick-run","title":"Quick Run","text":""},{"location":"guide/running-programs/#run-generated-code","title":"Run Generated Code","text":"<p>After generating code:</p> <pre><code>/run\n</code></pre> <p>Executes the last generated code in a sandboxed environment.</p>"},{"location":"guide/running-programs/#run-specific-file","title":"Run Specific File","text":"<pre><code>/run my_program.py\n</code></pre>"},{"location":"guide/running-programs/#sandbox-execution","title":"Sandbox Execution","text":"<p>All code runs in a secure sandbox:</p> <ul> <li>\u2705 Isolated environment</li> <li>\u2705 Resource limits</li> <li>\u2705 Timeout protection</li> <li>\u2705 Safe execution</li> </ul>"},{"location":"guide/running-programs/#execution-output","title":"Execution Output","text":"<pre><code>Running my_program.py...\n\nOutput:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nText: I love this!\nSentiment: positive\nConfidence: 0.95\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n\u2713 Execution completed (2.3s)\n</code></pre>"},{"location":"guide/running-programs/#testing","title":"Testing","text":"<p>Test with custom inputs:</p> <pre><code>/test my_module.py\n</code></pre> <p>Prompts for test inputs and shows results.</p>"},{"location":"guide/running-programs/#debugging","title":"Debugging","text":"<p>Run with debug output:</p> <pre><code>/run my_program.py --debug\n</code></pre> <p>Shows: - Execution trace - Variable values - Error details</p>"},{"location":"guide/running-programs/#common-issues","title":"Common Issues","text":""},{"location":"guide/running-programs/#timeout","title":"Timeout","text":"<pre><code>Error: Execution timeout (30s)\n</code></pre> <p>Solution: Optimize code or increase timeout in config</p>"},{"location":"guide/running-programs/#import-error","title":"Import Error","text":"<pre><code>Error: Module not found\n</code></pre> <p>Solution: Install required dependencies</p>"},{"location":"guide/running-programs/#runtime-error","title":"Runtime Error","text":"<pre><code>Error: [error message]\n</code></pre> <p>Solution: Check error message, fix code, run <code>/validate</code> first</p> <p>Learn About Validation \u2192</p>"},{"location":"guide/slash-commands/","title":"Slash Commands Reference","text":"<p>All commands in DSPy Code start with <code>/</code>. This page lists every command with examples.</p>"},{"location":"guide/slash-commands/#project-commands","title":"Project Commands","text":""},{"location":"guide/slash-commands/#init","title":"/init","text":"<p>Initialize or scan your DSPy project.</p> <pre><code>/init\n</code></pre> <p>What it does:</p> <ul> <li>Creates <code>dspy_config.yaml</code> if it doesn't exist</li> <li>Scans your project code</li> <li>Indexes your installed DSPy version</li> <li>Shows entertaining jokes while indexing!</li> </ul> <p>When to use:</p> <ul> <li>Starting a new project</li> <li>After installing new packages</li> <li>When you want to refresh the code index</li> </ul> <p>Example Output</p> <pre><code>\ud83d\udcd6 Building Codebase Knowledge Base\n\nWhat's being indexed:\n  \u2022 Your installed DSPy\n  \u2022 Your project code\n  \u2022 GEPA optimizer (if installed)\n\n\ud83e\udd16 Teaching the AI to read your code...\n\u2713 Index built successfully!\n\n\ud83d\udca1 You can now ask questions about:\n  \u2022 DSPy concepts\n  \u2022 Your project code\n  \u2022 Code examples\n</code></pre>"},{"location":"guide/slash-commands/#status","title":"/status","text":"<p>Show your current session status.</p> <pre><code>/status\n</code></pre> <p>What it shows:</p> <ul> <li>Generated code in context</li> <li>Training data (if any)</li> <li>Conversation message count</li> <li>Connected model status</li> <li>Available commands</li> </ul> <p>Use This When</p> <ul> <li>You're not sure if code was generated</li> <li>You want to see what's in your session</li> <li>You forgot if you saved your code</li> </ul> <p>Example:</p> <pre><code>/status\n</code></pre> <p>Output: <pre><code>\ud83d\udcca Session Status\n\n\u2713 Generated Code: module\n  Lines: 45\n  Characters: 1234\n  Available commands: /save, /validate, /run\n\n\ud83d\udcac Conversation: 6 messages\n\ud83e\udd16 Connected Model: llama3.1:8b (ollama)\n\n\ud83d\udca1 Next Steps:\n  /save &lt;filename&gt;.py - Save your code\n  /validate - Check for issues\n  /run - Test execution\n</code></pre></p>"},{"location":"guide/slash-commands/#clear","title":"/clear","text":"<p>Clear conversation history and start fresh.</p> <pre><code>/clear\n</code></pre> <p>What it does:</p> <ul> <li>Clears all conversation messages</li> <li>Removes generated code from context</li> <li>Gives you a clean slate</li> </ul> <p>This Cannot Be Undone</p> <p>Make sure to save any code you want to keep before clearing!</p>"},{"location":"guide/slash-commands/#code-generation-commands","title":"Code Generation Commands","text":""},{"location":"guide/slash-commands/#create","title":"/create","text":"<p>Interactive wizard for creating DSPy components.</p> <pre><code>/create\n</code></pre> <p>What it does:</p> <ul> <li>Asks you questions about what you want to build</li> <li>Guides you through the process</li> <li>Generates complete code</li> </ul> <p>Or just describe what you want:</p> <pre><code>Create a sentiment analyzer\n</code></pre> <pre><code>Build a question answering system\n</code></pre> <pre><code>Make a text classifier for emails\n</code></pre> <p>Natural Language Works!</p> <p>You don't need to use <code>/create</code>. Just describe what you want in plain English!</p>"},{"location":"guide/slash-commands/#demo","title":"/demo","text":"<p>See example DSPy programs in action.</p> <pre><code>/demo\n</code></pre> <p>What it shows:</p> <ul> <li>Complete working examples</li> <li>Different DSPy patterns</li> <li>Code you can learn from</li> </ul> <p>Run a specific demo:</p> <pre><code>/demo sentiment\n</code></pre> <pre><code>/demo qa\n</code></pre> <pre><code>/demo rag\n</code></pre>"},{"location":"guide/slash-commands/#examples","title":"/examples","text":"<p>Browse DSPy templates and patterns.</p> <pre><code>/examples\n</code></pre> <p>What you'll see:</p> <ul> <li>Signature templates</li> <li>Module patterns</li> <li>Complete program templates</li> <li>Industry-specific examples</li> </ul> <p>Generate from a template:</p> <pre><code>/examples generate rag\n</code></pre>"},{"location":"guide/slash-commands/#model-connection-commands","title":"Model Connection Commands","text":""},{"location":"guide/slash-commands/#connect","title":"/connect","text":"<p>Connect to a language model.</p> <p>Ollama (Local):</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre> <pre><code>/connect ollama gpt-oss:120b\n</code></pre> <p>OpenAI:</p> <pre><code>/connect openai gpt-4\n</code></pre> <pre><code>/connect openai gpt-3.5-turbo\n</code></pre> <p>Anthropic Claude:</p> <pre><code>/connect anthropic claude-3-sonnet\n</code></pre> <pre><code>/connect anthropic claude-3-opus\n</code></pre> <p>Google Gemini:</p> <pre><code>/connect gemini gemini-pro\n</code></pre> <p>API Keys</p> <p>For cloud providers, set your API key first: <pre><code>export OPENAI_API_KEY=sk-...\nexport ANTHROPIC_API_KEY=sk-ant-...\nexport GEMINI_API_KEY=AIza...\n</code></pre></p>"},{"location":"guide/slash-commands/#disconnect","title":"/disconnect","text":"<p>Disconnect from the current model.</p> <pre><code>/disconnect\n</code></pre> <p>When to use:</p> <ul> <li>Switching to a different model</li> <li>Working offline with templates</li> <li>Troubleshooting connection issues</li> </ul>"},{"location":"guide/slash-commands/#code-management-commands","title":"Code Management Commands","text":""},{"location":"guide/slash-commands/#save","title":"/save","text":"<p>Save generated code to a file.</p> <pre><code>/save sentiment.py\n</code></pre> <pre><code>/save my_module.py\n</code></pre> <p>Where it saves:</p> <ul> <li>Default: <code>generated/</code> directory</li> <li>Creates directory if it doesn't exist</li> <li>Won't overwrite without confirmation</li> </ul> <p>Always Save!</p> <p>After generating code you like, save it immediately. Use <code>/status</code> to check if you have code to save.</p>"},{"location":"guide/slash-commands/#validate","title":"/validate","text":"<p>Check your code for issues and best practices.</p> <pre><code>/validate\n</code></pre> <p>Validates last generated code</p> <pre><code>/validate my_program.py\n</code></pre> <p>Validates a specific file</p> <p>What it checks:</p> <ul> <li>Signature correctness</li> <li>Module structure</li> <li>Best practices</li> <li>Common mistakes</li> <li>Security issues</li> </ul> <p>Quality Assurance</p> <p>Always validate before running. It catches issues early!</p>"},{"location":"guide/slash-commands/#run","title":"/run","text":"<p>Execute your DSPy program safely.</p> <pre><code>/run\n</code></pre> <p>Runs last generated code</p> <pre><code>/run my_program.py\n</code></pre> <p>Runs a specific file</p> <p>Safety features:</p> <ul> <li>Runs in a sandbox</li> <li>Timeout protection</li> <li>Error handling</li> <li>Safe execution</li> </ul> <p>Sandbox Execution</p> <p>Your code runs in a safe sandbox. Some operations (like file I/O) may be restricted.</p>"},{"location":"guide/slash-commands/#test","title":"/test","text":"<p>Run tests on your code.</p> <pre><code>/test\n</code></pre> <pre><code>/test my_program.py\n</code></pre> <p>What it does:</p> <ul> <li>Runs unit tests</li> <li>Checks functionality</li> <li>Reports results</li> </ul>"},{"location":"guide/slash-commands/#optimization-commands","title":"Optimization Commands","text":""},{"location":"guide/slash-commands/#optimize","title":"/optimize","text":"<p>Generate GEPA optimization code.</p> <pre><code>/optimize\n</code></pre> <p>What it creates:</p> <ul> <li>Complete GEPA optimization script</li> <li>Metric with feedback</li> <li>Training data loaders</li> <li>Configuration</li> </ul> <p>Options:</p> <pre><code>/optimize --budget light\n</code></pre> <pre><code>/optimize --budget medium\n</code></pre> <pre><code>/optimize --budget heavy\n</code></pre> <p>Real GEPA</p> <p>This generates code that uses REAL GEPA optimization from your installed DSPy version!</p>"},{"location":"guide/slash-commands/#eval","title":"/eval","text":"<p>Generate evaluation code for your program.</p> <pre><code>/eval\n</code></pre> <p>What it creates:</p> <ul> <li>Evaluation metrics</li> <li>Test harness</li> <li>Reporting code</li> </ul>"},{"location":"guide/slash-commands/#help-commands","title":"Help Commands","text":""},{"location":"guide/slash-commands/#help","title":"/help","text":"<p>Show all available commands.</p> <pre><code>/help\n</code></pre> <p>What you'll see:</p> <ul> <li>Complete command list</li> <li>Usage examples</li> <li>Tips and tricks</li> </ul>"},{"location":"guide/slash-commands/#intro","title":"/intro","text":"<p>Complete guide to DSPy Code.</p> <pre><code>/intro\n</code></pre> <p>Perfect for:</p> <ul> <li>New users</li> <li>Learning all features</li> <li>Understanding workflows</li> </ul>"},{"location":"guide/slash-commands/#explain","title":"/explain","text":"<p>Get explanations of DSPy concepts.</p> <pre><code>/explain signatures\n</code></pre> <pre><code>/explain modules\n</code></pre> <pre><code>/explain optimizers\n</code></pre> <p>Topics you can ask about:</p> <ul> <li>Signatures</li> <li>Modules</li> <li>Predictors</li> <li>Optimizers</li> <li>GEPA</li> <li>Metrics</li> </ul>"},{"location":"guide/slash-commands/#session-commands","title":"Session Commands","text":""},{"location":"guide/slash-commands/#session-save","title":"/session save","text":"<p>Save your current session.</p> <pre><code>/session save my-work\n</code></pre> <p>What it saves:</p> <ul> <li>Conversation history</li> <li>Generated code</li> <li>Session context</li> </ul>"},{"location":"guide/slash-commands/#session-load","title":"/session load","text":"<p>Load a saved session.</p> <pre><code>/session load my-work\n</code></pre> <p>Restores:</p> <ul> <li>All conversation messages</li> <li>Generated code</li> <li>Session state</li> </ul>"},{"location":"guide/slash-commands/#sessions","title":"/sessions","text":"<p>List all saved sessions.</p> <pre><code>/sessions\n</code></pre>"},{"location":"guide/slash-commands/#session-delete","title":"/session delete","text":"<p>Delete a saved session.</p> <pre><code>/session delete my-work\n</code></pre>"},{"location":"guide/slash-commands/#data-commands","title":"Data Commands","text":""},{"location":"guide/slash-commands/#save-data","title":"/save-data","text":"<p>Save generated training data.</p> <pre><code>/save-data examples.jsonl\n</code></pre> <pre><code>/save-data training.json\n</code></pre> <p>When to use:</p> <ul> <li>After generating training examples</li> <li>Before optimization</li> <li>For backup</li> </ul>"},{"location":"guide/slash-commands/#mcp-commands","title":"MCP Commands","text":""},{"location":"guide/slash-commands/#mcp-add","title":"/mcp-add","text":"<p>Add an MCP server.</p> <pre><code>/mcp-add my-server --transport stdio --command \"python server.py\"\n</code></pre>"},{"location":"guide/slash-commands/#mcp-connect","title":"/mcp-connect","text":"<p>Connect to an MCP server.</p> <pre><code>/mcp-connect my-server\n</code></pre>"},{"location":"guide/slash-commands/#mcp-disconnect","title":"/mcp-disconnect","text":"<p>Disconnect from an MCP server.</p> <pre><code>/mcp-disconnect my-server\n</code></pre>"},{"location":"guide/slash-commands/#mcp-list","title":"/mcp-list","text":"<p>List all MCP servers.</p> <pre><code>/mcp-list\n</code></pre>"},{"location":"guide/slash-commands/#mcp-tools","title":"/mcp-tools","text":"<p>List tools from an MCP server.</p> <pre><code>/mcp-tools my-server\n</code></pre>"},{"location":"guide/slash-commands/#utility-commands","title":"Utility Commands","text":""},{"location":"guide/slash-commands/#history","title":"/history","text":"<p>Show conversation history.</p> <pre><code>/history\n</code></pre> <p>Show all messages:</p> <pre><code>/history all\n</code></pre>"},{"location":"guide/slash-commands/#refresh-index","title":"/refresh-index","text":"<p>Rebuild the codebase index.</p> <pre><code>/refresh-index\n</code></pre> <p>When to use:</p> <ul> <li>After updating DSPy</li> <li>After adding new code</li> <li>If index seems stale</li> </ul>"},{"location":"guide/slash-commands/#index-status","title":"/index-status","text":"<p>Check the status of your codebase index.</p> <pre><code>/index-status\n</code></pre> <p>Shows:</p> <ul> <li>Index age</li> <li>Number of files indexed</li> <li>Cache size</li> <li>Staleness warning</li> </ul>"},{"location":"guide/slash-commands/#exit","title":"/exit","text":"<p>Exit DSPy Code.</p> <pre><code>/exit\n</code></pre> <p>Or use:</p> <pre><code>exit\n</code></pre> <pre><code>quit\n</code></pre> <pre><code>bye\n</code></pre>"},{"location":"guide/slash-commands/#command-tips","title":"Command Tips","text":"<p>Tab Completion</p> <p>Many terminals support tab completion. Type <code>/</code> and press Tab to see available commands!</p> <p>Command History</p> <p>Use the up arrow to recall previous commands.</p> <p>Partial Commands</p> <p>You can often use shortcuts: - <code>/h</code> for <code>/help</code> - <code>/s</code> for <code>/status</code> - <code>/v</code> for <code>/validate</code></p> <p>Case Insensitive</p> <p>Commands are case insensitive: - <code>/HELP</code> works - <code>/Help</code> works - <code>/help</code> works</p>"},{"location":"guide/slash-commands/#next-steps","title":"Next Steps","text":"<p>Now that you know all the commands, learn how to use them effectively:</p> <p>Generating Code \u2192 Model Connection \u2192</p>"},{"location":"guide/validation/","title":"Code Validation","text":"<p>Learn how DSPy Code validates your code for quality, correctness, and best practices.</p>"},{"location":"guide/validation/#what-is-validation","title":"What is Validation?","text":"<p>DSPy Code's validation engine checks your DSPy code for:</p> <ul> <li>\u2705 Correct DSPy patterns</li> <li>\u2705 Best practices</li> <li>\u2705 Syntax errors</li> <li>\u2705 Type hints</li> <li>\u2705 Documentation</li> <li>\u2705 Anti-patterns</li> </ul> <p>Result: High-quality, production-ready DSPy code!</p>"},{"location":"guide/validation/#quick-start","title":"Quick Start","text":""},{"location":"guide/validation/#validate-generated-code","title":"Validate Generated Code","text":"<p>After generating code:</p> <pre><code>Create a sentiment analyzer\n/validate\n</code></pre>"},{"location":"guide/validation/#validate-existing-file","title":"Validate Existing File","text":"<pre><code>/validate my_module.py\n</code></pre>"},{"location":"guide/validation/#validate-all-project-files","title":"Validate All Project Files","text":"<pre><code>/validate-project\n</code></pre>"},{"location":"guide/validation/#validation-checks","title":"Validation Checks","text":""},{"location":"guide/validation/#1-signature-validation","title":"1. Signature Validation","text":"<p>Checks:</p> <ul> <li>\u2705 Inherits from <code>dspy.Signature</code></li> <li>\u2705 Has at least one <code>InputField</code></li> <li>\u2705 Has at least one <code>OutputField</code></li> <li>\u2705 Fields have descriptions</li> <li>\u2705 Docstring present</li> <li>\u2705 Type hints used</li> </ul> <p>Example - Valid Signature:</p> <pre><code>class SentimentSignature(dspy.Signature):\n    \"\"\"Analyze sentiment of text.\"\"\"\n\n    text: str = dspy.InputField(\n        desc=\"Text to analyze\"\n    )\n    sentiment: str = dspy.OutputField(\n        desc=\"positive, negative, or neutral\"\n    )\n</code></pre> <p>Example - Invalid Signature:</p> <pre><code># \u2717 Missing docstring\n# \u2717 No field descriptions\n# \u2717 No type hints\nclass SentimentSignature(dspy.Signature):\n    text = dspy.InputField()\n    sentiment = dspy.OutputField()\n</code></pre>"},{"location":"guide/validation/#2-module-validation","title":"2. Module Validation","text":"<p>Checks:</p> <ul> <li>\u2705 Inherits from <code>dspy.Module</code></li> <li>\u2705 Has <code>__init__</code> method</li> <li>\u2705 Calls <code>super().__init__()</code></li> <li>\u2705 Has <code>forward</code> method</li> <li>\u2705 Uses DSPy predictors</li> <li>\u2705 Returns proper values</li> </ul> <p>Example - Valid Module:</p> <pre><code>class SentimentAnalyzer(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.Predict(SentimentSignature)\n\n    def forward(self, text: str) -&gt; dspy.Prediction:\n        return self.predictor(text=text)\n</code></pre> <p>Example - Invalid Module:</p> <pre><code># \u2717 Doesn't inherit from dspy.Module\n# \u2717 No super().__init__()\n# \u2717 No forward method\nclass SentimentAnalyzer:\n    def __init__(self):\n        self.predictor = dspy.Predict(SentimentSignature)\n\n    def analyze(self, text):  # \u2717 Should be 'forward'\n        return self.predictor(text=text)\n</code></pre>"},{"location":"guide/validation/#3-predictor-usage","title":"3. Predictor Usage","text":"<p>Checks:</p> <ul> <li>\u2705 Uses valid DSPy predictors</li> <li>\u2705 Predictor initialized correctly</li> <li>\u2705 Signature passed to predictor</li> <li>\u2705 Predictor called properly</li> </ul> <p>Valid predictors:</p> <ul> <li><code>dspy.Predict</code></li> <li><code>dspy.ChainOfThought</code></li> <li><code>dspy.ReAct</code></li> <li><code>dspy.ProgramOfThought</code></li> <li><code>dspy.MultiChainComparison</code></li> </ul> <p>Example - Valid:</p> <pre><code>self.predictor = dspy.ChainOfThought(SentimentSignature)\nresult = self.predictor(text=input_text)\n</code></pre> <p>Example - Invalid:</p> <pre><code># \u2717 Not a DSPy predictor\nself.predictor = SentimentSignature()\n\n# \u2717 Wrong usage\nresult = self.predictor.predict(text=input_text)\n</code></pre>"},{"location":"guide/validation/#4-best-practices","title":"4. Best Practices","text":"<p>Checks:</p> <ul> <li>\u2705 Descriptive variable names</li> <li>\u2705 Proper error handling</li> <li>\u2705 No hardcoded values</li> <li>\u2705 Modular design</li> <li>\u2705 DRY principle</li> <li>\u2705 Clear logic flow</li> </ul> <p>Example - Good Practices:</p> <pre><code>class EmailClassifier(dspy.Module):\n    \"\"\"Classify emails into categories.\"\"\"\n\n    def __init__(self, categories: List[str]):\n        super().__init__()\n\n        # Validate input\n        if not categories:\n            raise ValueError(\"Categories list cannot be empty\")\n\n        self.categories = categories\n        self.classifier = dspy.ChainOfThought(EmailSignature)\n\n    def forward(self, email: str) -&gt; dspy.Prediction:\n        \"\"\"Classify an email.\"\"\"\n\n        # Input validation\n        if not email or not email.strip():\n            raise ValueError(\"Email cannot be empty\")\n\n        # Classify\n        try:\n            result = self.classifier(\n                email=email,\n                categories=\", \".join(self.categories)\n            )\n            return result\n        except Exception as e:\n            logger.error(f\"Classification failed: {e}\")\n            raise\n</code></pre> <p>Example - Bad Practices:</p> <pre><code>class EmailClassifier(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        # \u2717 Hardcoded categories\n        self.c = dspy.ChainOfThought(EmailSignature)\n\n    def forward(self, e):  # \u2717 Unclear parameter name\n        # \u2717 No error handling\n        # \u2717 No validation\n        r = self.c(email=e, categories=\"spam,work,personal\")\n        return r\n</code></pre>"},{"location":"guide/validation/#5-type-hints","title":"5. Type Hints","text":"<p>Checks:</p> <ul> <li>\u2705 Function parameters have types</li> <li>\u2705 Return types specified</li> <li>\u2705 Field types in signatures</li> <li>\u2705 Consistent type usage</li> </ul> <p>Example - Good Type Hints:</p> <pre><code>from typing import List, Optional\nimport dspy\n\nclass Analyzer(dspy.Module):\n    def __init__(self, model_name: str = \"gpt-3.5-turbo\"):\n        super().__init__()\n        self.model_name: str = model_name\n        self.predictor: dspy.Predict = dspy.Predict(AnalysisSignature)\n\n    def forward(\n        self,\n        text: str,\n        context: Optional[str] = None\n    ) -&gt; dspy.Prediction:\n        return self.predictor(text=text, context=context or \"\")\n</code></pre> <p>Example - Missing Type Hints:</p> <pre><code>class Analyzer(dspy.Module):\n    def __init__(self, model_name=\"gpt-3.5-turbo\"):  # \u2717 No type\n        super().__init__()\n        self.model_name = model_name\n        self.predictor = dspy.Predict(AnalysisSignature)\n\n    def forward(self, text, context=None):  # \u2717 No types\n        return self.predictor(text=text, context=context or \"\")\n</code></pre>"},{"location":"guide/validation/#6-documentation","title":"6. Documentation","text":"<p>Checks:</p> <ul> <li>\u2705 Module docstring</li> <li>\u2705 Method docstrings</li> <li>\u2705 Signature docstring</li> <li>\u2705 Parameter descriptions</li> <li>\u2705 Return value descriptions</li> </ul> <p>Example - Well Documented:</p> <pre><code>class SentimentAnalyzer(dspy.Module):\n    \"\"\"\n    Analyze sentiment of text using DSPy.\n\n    This module uses ChainOfThought reasoning to classify\n    text sentiment as positive, negative, or neutral.\n\n    Attributes:\n        predictor: DSPy ChainOfThought predictor\n    \"\"\"\n\n    def __init__(self):\n        \"\"\"Initialize the sentiment analyzer.\"\"\"\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(SentimentSignature)\n\n    def forward(self, text: str) -&gt; dspy.Prediction:\n        \"\"\"\n        Analyze sentiment of given text.\n\n        Args:\n            text: Text to analyze\n\n        Returns:\n            Prediction with sentiment field\n\n        Raises:\n            ValueError: If text is empty\n        \"\"\"\n        if not text:\n            raise ValueError(\"Text cannot be empty\")\n\n        return self.predictor(text=text)\n</code></pre>"},{"location":"guide/validation/#validation-report","title":"Validation Report","text":""},{"location":"guide/validation/#report-structure","title":"Report Structure","text":"<pre><code>\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Validation Report \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502                                                                  \u2502\n\u2502 File: sentiment_analyzer.py                                     \u2502\n\u2502                                                                  \u2502\n\u2502 \u2713 Signature Structure                                           \u2502\n\u2502   - Inherits from dspy.Signature                                \u2502\n\u2502   - Has InputField and OutputField                              \u2502\n\u2502   - Fields have descriptions                                    \u2502\n\u2502                                                                  \u2502\n\u2502 \u2713 Module Structure                                              \u2502\n\u2502   - Inherits from dspy.Module                                   \u2502\n\u2502   - Has __init__ and forward methods                            \u2502\n\u2502   - Uses DSPy predictors                                        \u2502\n\u2502                                                                  \u2502\n\u2502 \u26a0 Best Practices                                                \u2502\n\u2502   \u2713 Descriptive names                                           \u2502\n\u2502   \u2713 Error handling                                              \u2502\n\u2502   \u2717 Missing type hints on line 15                               \u2502\n\u2502                                                                  \u2502\n\u2502 \u2713 Documentation                                                 \u2502\n\u2502   - Module docstring present                                    \u2502\n\u2502   - Method docstrings present                                   \u2502\n\u2502                                                                  \u2502\n\u2502 Quality Score: 92/100                                           \u2502\n\u2502                                                                  \u2502\n\u2502 Issues Found: 1                                                 \u2502\n\u2502 Warnings: 1                                                     \u2502\n\u2502                                                                  \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\nRecommendations:\n\u2022 Add type hint to parameter 'text' on line 15\n</code></pre>"},{"location":"guide/validation/#score-breakdown","title":"Score Breakdown","text":"<p>100 points total:</p> <ul> <li>Signature structure: 20 points</li> <li>Module structure: 20 points</li> <li>Best practices: 30 points</li> <li>Documentation: 15 points</li> <li>Type hints: 15 points</li> </ul> <p>Score ranges:</p> <ul> <li>90-100: Excellent \u2b50\u2b50\u2b50</li> <li>80-89: Good \u2b50\u2b50</li> <li>70-79: Acceptable \u2b50</li> <li>&lt;70: Needs improvement \u26a0\ufe0f</li> </ul>"},{"location":"guide/validation/#anti-pattern-detection","title":"Anti-Pattern Detection","text":""},{"location":"guide/validation/#common-anti-patterns","title":"Common Anti-Patterns","text":"<p>1. Direct LLM Calls:</p> <pre><code># \u2717 Anti-pattern\nimport openai\nresponse = openai.ChatCompletion.create(...)\n\n# \u2713 Use DSPy\npredictor = dspy.Predict(MySignature)\nresponse = predictor(input=data)\n</code></pre> <p>2. String-Based Prompts:</p> <pre><code># \u2717 Anti-pattern\nprompt = f\"Analyze this: {text}\"\nresponse = llm(prompt)\n\n# \u2713 Use Signatures\nclass AnalysisSignature(dspy.Signature):\n    text = dspy.InputField()\n    analysis = dspy.OutputField()\n\npredictor = dspy.Predict(AnalysisSignature)\nresponse = predictor(text=text)\n</code></pre> <p>3. Manual Prompt Engineering:</p> <pre><code># \u2717 Anti-pattern\nprompt = \"You are an expert. Analyze carefully. Think step by step...\"\n\n# \u2713 Use ChainOfThought\npredictor = dspy.ChainOfThought(AnalysisSignature)\n</code></pre> <p>4. Hardcoded Examples:</p> <pre><code># \u2717 Anti-pattern\nprompt = \"\"\"\nExample 1: ...\nExample 2: ...\nNow analyze: {text}\n\"\"\"\n\n# \u2713 Use DSPy optimization\noptimized = optimizer.compile(program, trainset=examples)\n</code></pre> <p>5. No Error Handling:</p> <pre><code># \u2717 Anti-pattern\ndef forward(self, text):\n    return self.predictor(text=text)\n\n# \u2713 Add error handling\ndef forward(self, text: str) -&gt; dspy.Prediction:\n    if not text:\n        raise ValueError(\"Text cannot be empty\")\n\n    try:\n        return self.predictor(text=text)\n    except Exception as e:\n        logger.error(f\"Prediction failed: {e}\")\n        raise\n</code></pre>"},{"location":"guide/validation/#auto-fix-suggestions","title":"Auto-Fix Suggestions","text":""},{"location":"guide/validation/#fixable-issues","title":"Fixable Issues","text":"<p>DSPy Code can suggest fixes for common issues:</p> <p>Missing Type Hints:</p> <pre><code>Issue: Missing type hint on parameter 'text'\n\nSuggested fix:\n  def forward(self, text: str) -&gt; dspy.Prediction:\n</code></pre> <p>Missing Docstring:</p> <pre><code>Issue: Module missing docstring\n\nSuggested fix:\n  class MyModule(dspy.Module):\n      \"\"\"[Description of what this module does]\"\"\"\n</code></pre> <p>Missing Field Description:</p> <pre><code>Issue: InputField missing description\n\nSuggested fix:\n  text = dspy.InputField(desc=\"Text to analyze\")\n</code></pre>"},{"location":"guide/validation/#apply-fixes","title":"Apply Fixes","text":"<pre><code>/validate my_module.py\n/fix my_module.py\n</code></pre> <p>DSPy Code applies suggested fixes automatically!</p>"},{"location":"guide/validation/#validation-in-workflow","title":"Validation in Workflow","text":""},{"location":"guide/validation/#during-development","title":"During Development","text":"<p>Validate frequently:</p> <pre><code>\u2192 Create a classifier\n  [Code generated]\n\n\u2192 /validate\n  \u2713 Score: 95/100\n\n\u2192 Add confidence scores\n  [Code updated]\n\n\u2192 /validate\n  \u26a0 Score: 88/100 - Missing type hint\n\n\u2192 Fix the type hint issue\n  [Code fixed]\n\n\u2192 /validate\n  \u2713 Score: 98/100\n</code></pre>"},{"location":"guide/validation/#before-saving","title":"Before Saving","text":"<p>Always validate before saving:</p> <pre><code>/validate\n/save module.py\n</code></pre>"},{"location":"guide/validation/#before-optimization","title":"Before Optimization","text":"<p>Ensure code quality before GEPA:</p> <pre><code>/validate program.py\n/optimize program.py data.jsonl\n</code></pre>"},{"location":"guide/validation/#in-cicd","title":"In CI/CD","text":"<p>Integrate validation in CI:</p> <pre><code>#!/bin/bash\n# validate.sh\n\nfor file in generated/*.py; do\n    dspy-code validate \"$file\" || exit 1\ndone\n</code></pre>"},{"location":"guide/validation/#custom-validation-rules","title":"Custom Validation Rules","text":""},{"location":"guide/validation/#add-project-specific-rules","title":"Add Project-Specific Rules","text":"<p>Create <code>.dspy-code/validation-rules.yaml</code>:</p> <pre><code>rules:\n  # Require specific predictor types\n  required_predictors:\n    - ChainOfThought\n    - ReAct\n\n  # Disallow certain patterns\n  disallowed_patterns:\n    - \"import openai\"\n    - \"import anthropic\"\n\n  # Require specific fields\n  required_signature_fields:\n    - description\n    - examples\n\n  # Naming conventions\n  naming:\n    signature_suffix: \"Signature\"\n    module_suffix: \"Module\"\n\n  # Minimum quality score\n  min_quality_score: 85\n</code></pre>"},{"location":"guide/validation/#enable-custom-rules","title":"Enable Custom Rules","text":"<pre><code>/validate --strict my_module.py\n</code></pre>"},{"location":"guide/validation/#validation-api","title":"Validation API","text":""},{"location":"guide/validation/#programmatic-validation","title":"Programmatic Validation","text":"<p>Use validation in your scripts:</p> <pre><code>from dspy_code.validation import ModuleValidator\n\n# Create validator\nvalidator = ModuleValidator()\n\n# Validate file\nreport = validator.validate_file(\"my_module.py\")\n\n# Check results\nif report.score &gt;= 90:\n    print(\"Excellent code!\")\nelif report.score &gt;= 70:\n    print(\"Good code, minor issues\")\nelse:\n    print(\"Needs improvement\")\n\n# Get issues\nfor issue in report.issues:\n    print(f\"{issue.severity}: {issue.message} (line {issue.line})\")\n\n# Get suggestions\nfor suggestion in report.suggestions:\n    print(f\"Suggestion: {suggestion}\")\n</code></pre>"},{"location":"guide/validation/#batch-validation","title":"Batch Validation","text":"<p>Validate multiple files:</p> <pre><code>from dspy_code.validation import ProjectValidator\n\nvalidator = ProjectValidator()\nreports = validator.validate_project(\"./generated\")\n\nfor filepath, report in reports.items():\n    print(f\"{filepath}: {report.score}/100\")\n</code></pre>"},{"location":"guide/validation/#best-practices","title":"Best Practices","text":""},{"location":"guide/validation/#1-validate-early-and-often","title":"1. Validate Early and Often","text":"<p>Don't wait until the end:</p> <pre><code>Generate \u2192 Validate \u2192 Refine \u2192 Validate \u2192 Save\n</code></pre>"},{"location":"guide/validation/#2-aim-for-90","title":"2. Aim for 90+","text":"<p>Strive for excellent scores:</p> <ul> <li>90-100: Production-ready</li> <li>80-89: Good for prototypes</li> <li>&lt;80: Needs work</li> </ul>"},{"location":"guide/validation/#3-fix-issues-incrementally","title":"3. Fix Issues Incrementally","text":"<p>Don't try to fix everything at once:</p> <pre><code>\u2192 /validate\n  Issues: 5\n\n\u2192 Fix highest priority issue\n\u2192 /validate\n  Issues: 4\n\n\u2192 Continue...\n</code></pre>"},{"location":"guide/validation/#4-use-auto-fix","title":"4. Use Auto-Fix","text":"<p>Let DSPy Code help:</p> <pre><code>/validate\n/fix\n/validate\n</code></pre>"},{"location":"guide/validation/#5-learn-from-reports","title":"5. Learn from Reports","text":"<p>Understand why issues occur:</p> <pre><code>\u2192 Why is this an issue?\n\u2192 How can I avoid this in the future?\n\u2192 What's the best practice here?\n</code></pre>"},{"location":"guide/validation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/validation/#false-positives","title":"False Positives","text":"<p>If validator flags valid code:</p> <pre><code>/validate --lenient my_module.py\n</code></pre>"},{"location":"guide/validation/#custom-patterns","title":"Custom Patterns","text":"<p>If your code uses custom patterns:</p> <pre><code>/validate --ignore-rule &lt;rule-name&gt; my_module.py\n</code></pre>"},{"location":"guide/validation/#performance-issues","title":"Performance Issues","text":"<p>For large files:</p> <pre><code>/validate --quick my_module.py\n</code></pre>"},{"location":"guide/validation/#summary","title":"Summary","text":"<p>Validation ensures:</p> <ul> <li>\u2705 Correct DSPy patterns</li> <li>\u2705 Best practices followed</li> <li>\u2705 High code quality</li> <li>\u2705 Production readiness</li> <li>\u2705 Maintainability</li> </ul> <p>Key points:</p> <ul> <li>Validate frequently</li> <li>Aim for 90+ scores</li> <li>Fix issues incrementally</li> <li>Use auto-fix when available</li> <li>Learn from validation reports</li> </ul> <p>Learn About Running Code \u2192 See Validation Examples \u2192</p>"},{"location":"reference/commands/","title":"Command Reference","text":"<p>Complete reference for all DSPy Code slash commands available in interactive mode.</p>"},{"location":"reference/commands/#overview","title":"Overview","text":"<p>All DSPy Code commands are slash commands executed in interactive mode. Simply type <code>/</code> followed by the command name.</p>"},{"location":"reference/commands/#project-management","title":"Project Management","text":""},{"location":"reference/commands/#init-initialize-project","title":"<code>/init</code> - Initialize Project","text":"<p>Initialize a new DSPy project or scan an existing one.</p> <p>Usage: <pre><code>/init [--fresh]\n</code></pre></p> <p>Options: - <code>--fresh</code> - Create a complete project structure with all directories</p> <p>Examples: <pre><code>/init              # Minimal setup (just dspy_config.yaml)\n/init --fresh      # Full project structure\n</code></pre></p> <p>What it does: - Creates <code>dspy_config.yaml</code> configuration file - Indexes your codebase for RAG features - Sets up project structure (if <code>--fresh</code>) - Displays entertaining messages during indexing</p>"},{"location":"reference/commands/#code-generation","title":"Code Generation","text":""},{"location":"reference/commands/#create-generate-dspy-components","title":"<code>/create</code> - Generate DSPy Components","text":"<p>Generate DSPy Signatures, Modules, or complete programs.</p> <p>Usage: <pre><code>/create &lt;type&gt; &lt;description&gt;\n</code></pre></p> <p>Types: - <code>signature</code> - Create a DSPy Signature - <code>module</code> - Create a DSPy Module - <code>program</code> - Create a complete DSPy program</p> <p>Examples: <pre><code>/create signature sentiment analysis with text input and sentiment output\n/create module email classifier with subject and body inputs\n/create program question answering system with RAG\n</code></pre></p>"},{"location":"reference/commands/#model-connection","title":"Model Connection","text":""},{"location":"reference/commands/#connect-connect-to-llm","title":"<code>/connect</code> - Connect to LLM","text":"<p>Connect to a language model for code generation and execution.</p> <p>Usage: <pre><code>/connect &lt;provider&gt; &lt;model&gt;\n</code></pre></p> <p>Providers: - <code>ollama</code> - Local models via Ollama - <code>openai</code> - OpenAI models (GPT-4, GPT-3.5) - <code>anthropic</code> - Claude models - <code>gemini</code> - Google Gemini models</p> <p>Examples: <pre><code>/connect ollama llama3.1:8b\n/connect openai gpt-4o\n/connect anthropic claude-3-5-sonnet-20251022\n/connect gemini gemini-pro\n</code></pre></p> <p>Note: You may need to install provider SDKs separately. DSPy Code will guide you if needed.</p>"},{"location":"reference/commands/#code-operations","title":"Code Operations","text":""},{"location":"reference/commands/#save-save-generated-code","title":"<code>/save</code> - Save Generated Code","text":"<p>Save the last generated code to a file.</p> <p>Usage: <pre><code>/save &lt;filename&gt;\n</code></pre></p> <p>Examples: <pre><code>/save sentiment_analyzer.py\n/save modules/email_classifier.py\n</code></pre></p> <p>Note: Code must be generated first using natural language or <code>/create</code>.</p>"},{"location":"reference/commands/#validate-validate-code","title":"<code>/validate</code> - Validate Code","text":"<p>Validate DSPy code for best practices and correctness.</p> <p>Usage: <pre><code>/validate [filename]\n</code></pre></p> <p>Examples: <pre><code>/validate                    # Validate last generated code\n/validate my_module.py       # Validate specific file\n</code></pre></p> <p>What it checks: - Syntax correctness - DSPy best practices - Signature definitions - Module structure - Import statements</p>"},{"location":"reference/commands/#run-execute-program","title":"<code>/run</code> - Execute Program","text":"<p>Run a DSPy program in a sandboxed environment.</p> <p>Usage: <pre><code>/run &lt;filename&gt; [--input key=value] [--test-file data.jsonl]\n</code></pre></p> <p>Options: - <code>--input</code> - Provide input values as key=value pairs - <code>--test-file</code> - Run with test dataset</p> <p>Examples: <pre><code>/run sentiment_analyzer.py\n/run my_program.py --input text=\"This is great!\"\n/run classifier.py --test-file test_data.jsonl\n</code></pre></p>"},{"location":"reference/commands/#optimization","title":"Optimization","text":""},{"location":"reference/commands/#optimize-optimize-with-gepa","title":"<code>/optimize</code> - Optimize with GEPA","text":"<p>Optimize a DSPy program using the Genetic Prompt Evolution Algorithm.</p> <p>Usage: <pre><code>/optimize &lt;program.py&gt; [training_data.jsonl]\n</code></pre></p> <p>Examples: <pre><code>/optimize my_program.py\n/optimize classifier.py training_data.jsonl\n</code></pre></p> <p>Requirements: - A DSPy program file - Training data (JSONL format) with input/output examples - Connected LLM model</p> <p>What it does: - Evolves prompts using GEPA - Improves reasoning steps - Tests on validation set - Reports performance improvements</p>"},{"location":"reference/commands/#data-generation","title":"Data Generation","text":""},{"location":"reference/commands/#generate-data-create-training-data","title":"<code>/generate data</code> - Create Training Data","text":"<p>Generate training examples for optimization.</p> <p>Usage: <pre><code>/generate data &lt;count&gt; for &lt;task&gt;\n</code></pre></p> <p>Examples: <pre><code>/generate data 20 for sentiment analysis\n/generate data 50 for email classification\n</code></pre></p> <p>Output: Creates a JSONL file with training examples.</p>"},{"location":"reference/commands/#mcp-integration","title":"MCP Integration","text":""},{"location":"reference/commands/#mcp-add-add-mcp-server","title":"<code>/mcp-add</code> - Add MCP Server","text":"<p>Add an MCP server configuration.</p> <p>Usage: <pre><code>/mcp-add &lt;name&gt; --transport &lt;type&gt; [options]\n</code></pre></p> <p>Transport Types: - <code>stdio</code> - Standard input/output - <code>sse</code> - Server-Sent Events - <code>websocket</code> - WebSocket connection</p> <p>Examples: <pre><code>/mcp-add filesystem --transport stdio --command uvx --args mcp-server-filesystem\n/mcp-add github --transport sse --url https://api.github.com/mcp\n</code></pre></p>"},{"location":"reference/commands/#mcp-connect-connect-to-mcp-server","title":"<code>/mcp-connect</code> - Connect to MCP Server","text":"<p>Connect to a configured MCP server.</p> <p>Usage: <pre><code>/mcp-connect &lt;server-name&gt;\n</code></pre></p> <p>Examples: <pre><code>/mcp-connect filesystem\n/mcp-connect github\n</code></pre></p>"},{"location":"reference/commands/#mcp-tools-list-mcp-tools","title":"<code>/mcp-tools</code> - List MCP Tools","text":"<p>List available tools from connected MCP servers.</p> <p>Usage: <pre><code>/mcp-tools [server-name]\n</code></pre></p> <p>Examples: <pre><code>/mcp-tools              # List all tools from all servers\n/mcp-tools filesystem   # List tools from specific server\n</code></pre></p>"},{"location":"reference/commands/#mcp-resources-list-mcp-resources","title":"<code>/mcp-resources</code> - List MCP Resources","text":"<p>List available resources from connected MCP servers.</p> <p>Usage: <pre><code>/mcp-resources [server-name]\n</code></pre></p>"},{"location":"reference/commands/#mcp-prompts-list-mcp-prompts","title":"<code>/mcp-prompts</code> - List MCP Prompts","text":"<p>List available prompts from connected MCP servers.</p> <p>Usage: <pre><code>/mcp-prompts [server-name]\n</code></pre></p>"},{"location":"reference/commands/#session-management","title":"Session Management","text":""},{"location":"reference/commands/#status-show-session-status","title":"<code>/status</code> - Show Session Status","text":"<p>Display current session information.</p> <p>Usage: <pre><code>/status\n</code></pre></p> <p>Shows: - Connected models - Active MCP servers - Last generated code - Project configuration</p>"},{"location":"reference/commands/#history-view-command-history","title":"<code>/history</code> - View Command History","text":"<p>View your command history in the current session.</p> <p>Usage: <pre><code>/history\n</code></pre></p>"},{"location":"reference/commands/#clear-clear-screen","title":"<code>/clear</code> - Clear Screen","text":"<p>Clear the terminal screen.</p> <p>Usage: <pre><code>/clear\n</code></pre></p>"},{"location":"reference/commands/#help-information","title":"Help &amp; Information","text":""},{"location":"reference/commands/#help-show-help","title":"<code>/help</code> - Show Help","text":"<p>Display help information for all commands.</p> <p>Usage: <pre><code>/help [command]\n</code></pre></p> <p>Examples: <pre><code>/help              # Show all commands\n/help optimize     # Show help for /optimize\n</code></pre></p>"},{"location":"reference/commands/#intro-introduction-guide","title":"<code>/intro</code> - Introduction Guide","text":"<p>Show comprehensive introduction to DSPy Code.</p> <p>Usage: <pre><code>/intro\n</code></pre></p> <p>Includes: - What is DSPy Code - Key features - Getting started guide - Tips and best practices</p>"},{"location":"reference/commands/#version-show-version","title":"<code>/version</code> - Show Version","text":"<p>Display DSPy Code and DSPy versions.</p> <p>Usage: <pre><code>/version\n</code></pre></p>"},{"location":"reference/commands/#exit","title":"Exit","text":""},{"location":"reference/commands/#exit-exit-interactive-mode","title":"<code>/exit</code> - Exit Interactive Mode","text":"<p>Exit the DSPy Code interactive session.</p> <p>Usage: <pre><code>/exit\n</code></pre></p> <p>Note: Your session state is automatically saved.</p>"},{"location":"reference/commands/#natural-language","title":"Natural Language","text":"<p>You can also use natural language instead of slash commands:</p> <p>Examples: <pre><code>Build a sentiment analyzer module\nCreate a signature for email classification\nGenerate 20 training examples for sentiment analysis\nOptimize my_program.py with training_data.jsonl\n</code></pre></p> <p>DSPy Code will understand your intent and execute the appropriate action.</p>"},{"location":"reference/commands/#command-aliases","title":"Command Aliases","text":"<p>Some commands have shorter aliases:</p> <ul> <li><code>/h</code> \u2192 <code>/help</code></li> <li><code>/q</code> \u2192 <code>/exit</code></li> <li><code>/v</code> \u2192 <code>/validate</code></li> <li><code>/s</code> \u2192 <code>/save</code></li> </ul>"},{"location":"reference/commands/#tips","title":"Tips","text":"<ol> <li>Tab Completion: Use tab to autocomplete command names</li> <li>Command History: Use up/down arrows to navigate history</li> <li>Natural Language: Describe what you want instead of remembering commands</li> <li>Help: Use <code>/help</code> anytime to see available commands</li> <li>Status: Use <code>/status</code> to see what's currently loaded</li> </ol> <p>For more details, see the User Guide</p>"},{"location":"reference/configuration/","title":"Configuration Reference","text":"<p>Complete reference for DSPy Code configuration files and settings.</p>"},{"location":"reference/configuration/#configuration-file","title":"Configuration File","text":"<p>DSPy Code uses <code>dspy_config.yaml</code> in your project root for configuration.</p> <p>Location: <code>./dspy_config.yaml</code></p>"},{"location":"reference/configuration/#file-structure","title":"File Structure","text":"<pre><code>project:\n  name: my-dspy-code-project\n  version: \"1.0.0\"\n  description: \"My DSPy project\"\n\nmodels:\n  default: ollama-llama3.1:8b\n  providers:\n    - name: ollama-llama3.1:8b\n      type: ollama\n      model: llama3.1:8b\n      base_url: http://localhost:11434\n\n    - name: openai-gpt4\n      type: openai\n      model: gpt-4o\n      api_key: ${OPENAI_API_KEY}\n\n    - name: anthropic-claude\n      type: anthropic\n      model: claude-3-5-sonnet-20251022\n      api_key: ${ANTHROPIC_API_KEY}\n\nmcp_servers:\n  - name: filesystem\n    transport: stdio\n    command: uvx\n    args:\n      - mcp-server-filesystem\n    env:\n      - name: MCP_SERVER_FILESYSTEM_ROOT\n        value: /path/to/root\n\nrag:\n  enabled: true\n  index_path: .dspy_code/rag_index\n  chunk_size: 1000\n  chunk_overlap: 200\n\nsession:\n  auto_save: true\n  auto_save_interval: 300  # seconds\n  session_dir: .dspy_code/sessions\n</code></pre>"},{"location":"reference/configuration/#project-configuration","title":"Project Configuration","text":""},{"location":"reference/configuration/#projectname","title":"<code>project.name</code>","text":"<p>Type: String Required: No Default: <code>my-dspy-code-project</code></p> <p>Project name identifier.</p>"},{"location":"reference/configuration/#projectversion","title":"<code>project.version</code>","text":"<p>Type: String Required: No Default: <code>\"1.0.0\"</code></p> <p>Project version.</p>"},{"location":"reference/configuration/#projectdescription","title":"<code>project.description</code>","text":"<p>Type: String Required: No Default: <code>\"\"</code></p> <p>Project description.</p>"},{"location":"reference/configuration/#model-configuration","title":"Model Configuration","text":""},{"location":"reference/configuration/#modelsdefault","title":"<code>models.default</code>","text":"<p>Type: String Required: No</p> <p>Name of the default model to use. Must match a model name in <code>models.providers</code>.</p>"},{"location":"reference/configuration/#modelsproviders","title":"<code>models.providers</code>","text":"<p>Type: List Required: No Default: <code>[]</code></p> <p>List of model provider configurations.</p>"},{"location":"reference/configuration/#provider-configuration","title":"Provider Configuration","text":"<p>Each provider has the following structure:</p> <pre><code>- name: &lt;unique-name&gt;        # Required: Unique identifier\n  type: &lt;provider-type&gt;      # Required: ollama, openai, anthropic, gemini\n  model: &lt;model-name&gt;        # Required: Model identifier\n  api_key: &lt;key-or-env-var&gt;  # Optional: API key or ${ENV_VAR}\n  base_url: &lt;url&gt;            # Optional: Custom base URL\n  temperature: &lt;float&gt;       # Optional: Temperature (0.0-2.0)\n  max_tokens: &lt;int&gt;           # Optional: Max tokens\n</code></pre>"},{"location":"reference/configuration/#provider-types","title":"Provider Types","text":""},{"location":"reference/configuration/#ollama","title":"Ollama","text":"<pre><code>- name: local-llama\n  type: ollama\n  model: llama3.1:8b\n  base_url: http://localhost:11434  # Optional\n</code></pre>"},{"location":"reference/configuration/#openai","title":"OpenAI","text":"<pre><code>- name: gpt4\n  type: openai\n  model: gpt-4o\n  api_key: ${OPENAI_API_KEY}  # Or direct key\n</code></pre>"},{"location":"reference/configuration/#anthropic","title":"Anthropic","text":"<pre><code>- name: claude\n  type: anthropic\n  model: claude-3-5-sonnet-20251022\n  api_key: ${ANTHROPIC_API_KEY}\n</code></pre>"},{"location":"reference/configuration/#gemini","title":"Gemini","text":"<pre><code>- name: gemini\n  type: gemini\n  model: gemini-pro\n  api_key: ${GEMINI_API_KEY}\n</code></pre>"},{"location":"reference/configuration/#mcp-server-configuration","title":"MCP Server Configuration","text":""},{"location":"reference/configuration/#mcp_servers","title":"<code>mcp_servers</code>","text":"<p>Type: List Required: No Default: <code>[]</code></p> <p>List of MCP server configurations.</p>"},{"location":"reference/configuration/#mcp-server-configuration_1","title":"MCP Server Configuration","text":"<pre><code>- name: &lt;server-name&gt;        # Required: Unique identifier\n  transport: &lt;type&gt;          # Required: stdio, sse, websocket\n  command: &lt;command&gt;         # Required for stdio: Command to run\n  args: [&lt;arg1&gt;, ...]        # Optional: Command arguments\n  env:                        # Optional: Environment variables\n    - name: &lt;VAR_NAME&gt;\n      value: &lt;value&gt;\n  url: &lt;url&gt;                  # Required for sse/websocket: Server URL\n</code></pre>"},{"location":"reference/configuration/#transport-types","title":"Transport Types","text":""},{"location":"reference/configuration/#stdio","title":"stdio","text":"<pre><code>- name: filesystem\n  transport: stdio\n  command: uvx\n  args:\n    - mcp-server-filesystem\n  env:\n    - name: MCP_SERVER_FILESYSTEM_ROOT\n      value: /path/to/root\n</code></pre>"},{"location":"reference/configuration/#sse-server-sent-events","title":"sse (Server-Sent Events)","text":"<pre><code>- name: github\n  transport: sse\n  url: https://api.github.com/mcp\n  headers:                    # Optional\n    Authorization: Bearer ${GITHUB_TOKEN}\n</code></pre>"},{"location":"reference/configuration/#websocket","title":"websocket","text":"<pre><code>- name: custom-server\n  transport: websocket\n  url: wss://example.com/mcp\n</code></pre>"},{"location":"reference/configuration/#rag-configuration","title":"RAG Configuration","text":""},{"location":"reference/configuration/#ragenabled","title":"<code>rag.enabled</code>","text":"<p>Type: Boolean Required: No Default: <code>true</code></p> <p>Enable codebase RAG features.</p>"},{"location":"reference/configuration/#ragindex_path","title":"<code>rag.index_path</code>","text":"<p>Type: String Required: No Default: <code>.dspy_code/rag_index</code></p> <p>Path to store the RAG index.</p>"},{"location":"reference/configuration/#ragchunk_size","title":"<code>rag.chunk_size</code>","text":"<p>Type: Integer Required: No Default: <code>1000</code></p> <p>Size of text chunks for indexing.</p>"},{"location":"reference/configuration/#ragchunk_overlap","title":"<code>rag.chunk_overlap</code>","text":"<p>Type: Integer Required: No Default: <code>200</code></p> <p>Overlap between chunks.</p>"},{"location":"reference/configuration/#session-configuration","title":"Session Configuration","text":""},{"location":"reference/configuration/#sessionauto_save","title":"<code>session.auto_save</code>","text":"<p>Type: Boolean Required: No Default: <code>true</code></p> <p>Enable automatic session saving.</p>"},{"location":"reference/configuration/#sessionauto_save_interval","title":"<code>session.auto_save_interval</code>","text":"<p>Type: Integer Required: No Default: <code>300</code> (5 minutes)</p> <p>Interval in seconds between auto-saves.</p>"},{"location":"reference/configuration/#sessionsession_dir","title":"<code>session.session_dir</code>","text":"<p>Type: String Required: No Default: <code>.dspy_code/sessions</code></p> <p>Directory to store session files.</p>"},{"location":"reference/configuration/#environment-variables","title":"Environment Variables","text":"<p>You can use environment variables in configuration:</p> <pre><code>api_key: ${OPENAI_API_KEY}\nbase_url: ${OLLAMA_BASE_URL}\n</code></pre> <p>Set environment variables:</p> <pre><code>export OPENAI_API_KEY=\"sk-...\"\nexport ANTHROPIC_API_KEY=\"sk-ant-...\"\nexport GEMINI_API_KEY=\"...\"\n</code></pre>"},{"location":"reference/configuration/#configuration-management","title":"Configuration Management","text":""},{"location":"reference/configuration/#view-configuration","title":"View Configuration","text":"<pre><code>dspy-code\n&gt; /config show\n</code></pre>"},{"location":"reference/configuration/#edit-configuration","title":"Edit Configuration","text":"<p>Edit <code>dspy_config.yaml</code> directly or use:</p> <pre><code>dspy-code\n&gt; /config edit\n</code></pre>"},{"location":"reference/configuration/#reset-configuration","title":"Reset Configuration","text":"<pre><code>dspy-code\n&gt; /config reset\n</code></pre>"},{"location":"reference/configuration/#example-configurations","title":"Example Configurations","text":""},{"location":"reference/configuration/#minimal-configuration","title":"Minimal Configuration","text":"<pre><code>models:\n  providers:\n    - name: local-llama\n      type: ollama\n      model: llama3.1:8b\n</code></pre>"},{"location":"reference/configuration/#full-configuration","title":"Full Configuration","text":"<p>See <code>dspy_code/templates/dspy_config_example.yaml</code> for a complete example.</p>"},{"location":"reference/configuration/#best-practices","title":"Best Practices","text":"<ol> <li>Use Environment Variables - Never commit API keys directly</li> <li>Version Control - Add <code>dspy_config.yaml</code> to <code>.gitignore</code> if it contains secrets</li> <li>Default Model - Set a default model for convenience</li> <li>MCP Servers - Configure frequently used MCP servers</li> <li>RAG Settings - Adjust chunk size based on your codebase</li> </ol>"},{"location":"reference/configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"reference/configuration/#configuration-not-found","title":"Configuration Not Found","text":"<p>If DSPy Code can't find your config:</p> <ol> <li>Ensure <code>dspy_config.yaml</code> is in the project root</li> <li>Run <code>/init</code> to create a default configuration</li> </ol>"},{"location":"reference/configuration/#model-connection-issues","title":"Model Connection Issues","text":"<ol> <li>Check API keys are set correctly</li> <li>Verify model names match provider documentation</li> <li>Test connection with <code>/connect &lt;provider&gt; &lt;model&gt;</code></li> </ol>"},{"location":"reference/configuration/#mcp-server-issues","title":"MCP Server Issues","text":"<ol> <li>Verify transport type matches server capabilities</li> <li>Check command paths and arguments</li> <li>Test with <code>/mcp-connect &lt;server-name&gt;</code></li> </ol> <p>For more details, see Project Management</p>"},{"location":"reference/faq/","title":"Frequently Asked Questions","text":"<p>Common questions about DSPy Code, answered!</p>"},{"location":"reference/faq/#general-questions","title":"General Questions","text":""},{"location":"reference/faq/#what-is-dspy-code","title":"What is DSPy Code?","text":"<p>DSPy Code is an interactive development environment for DSPy. It helps you create, validate, and optimize DSPy programs through a simple command-line interface with natural language support.</p>"},{"location":"reference/faq/#do-i-need-to-know-dspy-to-use-dspy-code","title":"Do I need to know DSPy to use DSPy Code?","text":"<p>No! DSPy Code is perfect for beginners. You can:</p> <ul> <li>Generate code from plain English descriptions</li> <li>Ask questions about DSPy concepts</li> <li>Learn by example with built-in templates</li> <li>Get validation feedback to learn best practices</li> </ul>"},{"location":"reference/faq/#is-dspy-code-free","title":"Is DSPy Code free?","text":"<p>Yes! DSPy Code is open source and completely free to use.</p>"},{"location":"reference/faq/#what-dspy-versions-are-supported","title":"What DSPy versions are supported?","text":"<p>DSPy Code works with ANY DSPy version (2.x, 3.x, or newer). It adapts to your installed version automatically!</p>"},{"location":"reference/faq/#installation-setup","title":"Installation &amp; Setup","text":""},{"location":"reference/faq/#how-do-i-install-dspy-code","title":"How do I install DSPy Code?","text":"<pre><code>pip install dspy-code\n</code></pre> <p>See the Installation Guide for details.</p>"},{"location":"reference/faq/#do-i-need-to-install-dspy-separately","title":"Do I need to install DSPy separately?","text":"<p>Yes, DSPy Code requires DSPy to be installed:</p> <pre><code>pip install dspy\n</code></pre>"},{"location":"reference/faq/#can-i-use-dspy-code-without-installing-provider-sdks","title":"Can I use DSPy Code without installing provider SDKs?","text":"<p>Yes! Provider SDKs (openai, anthropic, etc.) are optional. DSPy Code will tell you if you need one and how to install it.</p>"},{"location":"reference/faq/#why-does-indexing-fail-with-permission-errors","title":"Why does indexing fail with permission errors?","text":"<p>This can happen if your Python packages are in restricted directories. Don't worry! DSPy Code still works. You just won't be able to ask questions about DSPy internals.</p>"},{"location":"reference/faq/#using-dspy-code","title":"Using DSPy Code","text":""},{"location":"reference/faq/#how-do-i-start-dspy-code","title":"How do I start DSPy Code?","text":"<p>Just run:</p> <pre><code>dspy-code\n</code></pre> <p>That's it! No complex commands needed.</p>"},{"location":"reference/faq/#what-are-slash-commands","title":"What are slash commands?","text":"<p>Slash commands are commands that start with <code>/</code>. For example:</p> <ul> <li><code>/init</code> - Initialize project</li> <li><code>/save</code> - Save code</li> <li><code>/help</code> - Show help</li> </ul> <p>See all commands in the Slash Commands Reference.</p>"},{"location":"reference/faq/#can-i-use-natural-language","title":"Can I use natural language?","text":"<p>Yes! Just describe what you want:</p> <pre><code>Create a sentiment analyzer\n</code></pre> <pre><code>Build a question answering system\n</code></pre> <p>No need for <code>/create</code> or special syntax.</p>"},{"location":"reference/faq/#how-do-i-save-generated-code","title":"How do I save generated code?","text":"<pre><code>/save filename.py\n</code></pre> <p>The code will be saved to your <code>generated/</code> directory.</p>"},{"location":"reference/faq/#how-do-i-check-if-code-was-generated","title":"How do I check if code was generated?","text":"<p>Use the <code>/status</code> command:</p> <pre><code>/status\n</code></pre> <p>This shows what's in your current session.</p>"},{"location":"reference/faq/#can-i-use-dspy-code-offline","title":"Can I use DSPy Code offline?","text":"<p>Yes! DSPy Code works offline using templates. For better results, connect to a model:</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre>"},{"location":"reference/faq/#code-generation","title":"Code Generation","text":""},{"location":"reference/faq/#what-can-dspy-code-generate","title":"What can DSPy Code generate?","text":"<p>DSPy Code can generate:</p> <ul> <li>Signatures</li> <li>Modules</li> <li>Complete programs</li> <li>Optimization scripts</li> <li>Evaluation code</li> <li>Training data</li> </ul>"},{"location":"reference/faq/#how-accurate-is-the-generated-code","title":"How accurate is the generated code?","text":"<p>The code follows DSPy best practices and is validated automatically. With a connected model, it's highly accurate. Without a model, it uses proven templates.</p>"},{"location":"reference/faq/#can-i-customize-the-generated-code","title":"Can I customize the generated code?","text":"<p>Yes! The generated code is yours to modify. DSPy Code gives you a starting point, and you can customize it however you like.</p>"},{"location":"reference/faq/#why-is-my-code-generation-slow","title":"Why is my code generation slow?","text":"<p>Code generation speed depends on:</p> <ul> <li>Your connected model (local vs cloud)</li> <li>Model size</li> <li>Complexity of your request</li> </ul> <p>Ollama (local) is usually faster than cloud APIs.</p>"},{"location":"reference/faq/#can-i-generate-code-without-connecting-a-model","title":"Can I generate code without connecting a model?","text":"<p>Yes! DSPy Code uses templates when no model is connected. The code will be more generic but still functional.</p>"},{"location":"reference/faq/#model-connection","title":"Model Connection","text":""},{"location":"reference/faq/#what-models-can-i-use","title":"What models can I use?","text":"<p>DSPy Code supports:</p> <ul> <li>Ollama (local models)</li> <li>OpenAI (GPT-4, GPT-3.5, etc.)</li> <li>Anthropic (Claude models)</li> <li>Google (Gemini models)</li> </ul>"},{"location":"reference/faq/#how-do-i-connect-to-ollama","title":"How do I connect to Ollama?","text":"<pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>Make sure Ollama is running:</p> <pre><code>ollama serve\n</code></pre>"},{"location":"reference/faq/#how-do-i-use-openai","title":"How do I use OpenAI?","text":"<p>Set your API key:</p> <pre><code>export OPENAI_API_KEY=sk-...\n</code></pre> <p>Then connect:</p> <pre><code>/connect openai gpt-4\n</code></pre>"},{"location":"reference/faq/#can-i-switch-models","title":"Can I switch models?","text":"<p>Yes! Disconnect and connect to a different model:</p> <pre><code>/disconnect\n/connect anthropic claude-3-sonnet\n</code></pre>"},{"location":"reference/faq/#do-i-need-an-api-key-for-ollama","title":"Do I need an API key for Ollama?","text":"<p>No! Ollama runs locally and doesn't need an API key.</p>"},{"location":"reference/faq/#validation-testing","title":"Validation &amp; Testing","text":""},{"location":"reference/faq/#what-does-validate-check","title":"What does /validate check?","text":"<p>The validator checks:</p> <ul> <li>Signature correctness</li> <li>Module structure</li> <li>Best practices</li> <li>Common mistakes</li> <li>Security issues</li> </ul>"},{"location":"reference/faq/#is-validation-required","title":"Is validation required?","text":"<p>No, but it's highly recommended! Validation catches issues before you run your code.</p>"},{"location":"reference/faq/#can-i-validate-existing-code","title":"Can I validate existing code?","text":"<p>Yes!</p> <pre><code>/validate my_program.py\n</code></pre>"},{"location":"reference/faq/#what-if-validation-fails","title":"What if validation fails?","text":"<p>Read the error messages. They tell you exactly what's wrong and how to fix it.</p>"},{"location":"reference/faq/#is-code-execution-safe","title":"Is code execution safe?","text":"<p>Yes! Code runs in a sandbox with:</p> <ul> <li>Timeout protection</li> <li>Limited permissions</li> <li>Error handling</li> </ul>"},{"location":"reference/faq/#optimization","title":"Optimization","text":""},{"location":"reference/faq/#what-is-gepa","title":"What is GEPA?","text":"<p>GEPA (Genetic Prompt Evolution Algorithm) is a DSPy optimizer that uses reflection to evolve better prompts automatically.</p>"},{"location":"reference/faq/#is-gepa-optimization-real-or-simulated","title":"Is GEPA optimization real or simulated?","text":"<p>Real! DSPy Code uses actual <code>dspy.teleprompt.GEPA</code> from your installed DSPy version. No mocking or simulation.</p>"},{"location":"reference/faq/#do-i-need-training-data-for-optimization","title":"Do I need training data for optimization?","text":"<p>Yes. You can:</p> <ul> <li>Generate it with DSPy Code</li> <li>Provide your own</li> <li>Use existing datasets</li> </ul>"},{"location":"reference/faq/#how-long-does-optimization-take","title":"How long does optimization take?","text":"<p>It depends on:</p> <ul> <li>Budget setting (light/medium/heavy)</li> <li>Number of training examples</li> <li>Model speed</li> </ul> <p>Light budget: 5-10 minutes Medium budget: 20-30 minutes Heavy budget: 1-2 hours</p>"},{"location":"reference/faq/#can-i-optimize-without-gepa","title":"Can I optimize without GEPA?","text":"<p>GEPA is the recommended optimizer, but DSPy has other optimizers you can use manually.</p>"},{"location":"reference/faq/#troubleshooting","title":"Troubleshooting","text":""},{"location":"reference/faq/#cli-wont-start","title":"CLI won't start","text":"<pre><code># Check installation\npip install dspy-code\n\n# Try with python -m\npython -m dspy_code\n</code></pre>"},{"location":"reference/faq/#no-code-generated","title":"No code generated","text":"<ol> <li>Check your description is clear</li> <li>Try connecting a model</li> <li>Use <code>/examples</code> for templates</li> </ol>"},{"location":"reference/faq/#cant-save-code","title":"Can't save code","text":"<ol> <li>Check if code exists: <code>/status</code></li> <li>Specify filename: <code>/save file.py</code></li> <li>Check directory permissions</li> </ol>"},{"location":"reference/faq/#validation-errors","title":"Validation errors","text":"<p>Read the error messages carefully. They tell you exactly what to fix.</p>"},{"location":"reference/faq/#model-connection-fails","title":"Model connection fails","text":"<p>Ollama:</p> <pre><code># Make sure it's running\nollama serve\n\n# Check if model is pulled\nollama list\nollama pull llama3.1:8b\n</code></pre> <p>OpenAI/Anthropic:</p> <pre><code># Check API key is set\necho $OPENAI_API_KEY\necho $ANTHROPIC_API_KEY\n</code></pre>"},{"location":"reference/faq/#indexing-takes-too-long","title":"Indexing takes too long","text":"<p>This is normal! Indexing scans your installed packages. It only happens during <code>/init</code> and is cached.</p>"},{"location":"reference/faq/#permission-denied-during-indexing","title":"Permission denied during indexing","text":"<p>This is okay! DSPy Code will skip what it can't access and still work normally.</p>"},{"location":"reference/faq/#advanced-questions","title":"Advanced Questions","text":""},{"location":"reference/faq/#can-i-use-dspy-code-in-cicd","title":"Can I use DSPy Code in CI/CD?","text":"<p>Yes! DSPy Code works in automated environments. See the CI/CD Guide.</p>"},{"location":"reference/faq/#can-i-use-dspy-code-in-docker","title":"Can I use DSPy Code in Docker?","text":"<p>Yes! See the Deployment Guide for Docker examples.</p>"},{"location":"reference/faq/#can-i-integrate-mcp-servers","title":"Can I integrate MCP servers?","text":"<p>Yes! DSPy Code has full MCP support. See the MCP Integration Guide.</p>"},{"location":"reference/faq/#can-i-customize-the-configuration","title":"Can I customize the configuration?","text":"<p>Yes! Edit <code>dspy_config.yaml</code> to customize:</p> <ul> <li>Output directories</li> <li>Model settings</li> <li>Indexing options</li> <li>And more</li> </ul> <p>See the Configuration Reference.</p>"},{"location":"reference/faq/#can-i-contribute-to-dspy-code","title":"Can I contribute to DSPy Code?","text":"<p>Yes! Contributions are welcome. See the Contributing Guide for technical guidelines.</p>"},{"location":"reference/faq/#getting-help","title":"Getting Help","text":""},{"location":"reference/faq/#where-can-i-get-help","title":"Where can I get help?","text":"<ul> <li>Check this FAQ</li> <li>Read the Troubleshooting Guide</li> <li>Report issues on GitHub Issues</li> </ul>"},{"location":"reference/faq/#how-do-i-report-a-bug","title":"How do I report a bug?","text":"<p>Open an issue on GitHub with:</p> <ul> <li>DSPy Code version</li> <li>DSPy version</li> <li>What you tried</li> <li>What happened</li> <li>Error messages</li> </ul>"},{"location":"reference/faq/#how-do-i-request-a-feature","title":"How do I request a feature?","text":"<p>Open a feature request on GitHub describing:</p> <ul> <li>What you want to do</li> <li>Why it would be useful</li> <li>Example use cases</li> </ul>"},{"location":"reference/faq/#still-have-questions","title":"Still Have Questions?","text":"<p>Can't find your answer? Try:</p> <ul> <li>Troubleshooting Guide</li> <li>Command Reference</li> <li>GitHub Issues</li> </ul> <p>Didn't find your answer? Open an issue for technical support.</p>"},{"location":"reference/security/","title":"Security &amp; Best Practices","text":""},{"location":"reference/security/#overview","title":"Overview","text":"<p>DSPy Code is designed with security in mind to protect your files and personal data. This guide explains our security measures and best practices.</p>"},{"location":"reference/security/#core-security-principles","title":"\ud83d\udd12 Core Security Principles","text":""},{"location":"reference/security/#1-cwd-only-operation","title":"1. CWD-Only Operation","text":"<p>ALL data stays in your current working directory.</p> <pre><code>my-dspy-project/          # Everything in here!\n\u251c\u2500\u2500 .venv/                # Packages\n\u251c\u2500\u2500 .dspy_cache/          # DSPy cache  \n\u251c\u2500\u2500 .dspy_code/           # dspy-code data\n\u251c\u2500\u2500 generated/            # Your code\n\u2514\u2500\u2500 dspy_config.yaml      # Config\n</code></pre> <p>Never accesses: - \u274c Your home directory (<code>~/</code>) - \u274c User directories (Desktop, Documents, Downloads, Pictures) - \u274c System directories (<code>/System</code>, <code>/Library</code>, <code>/usr</code>) - \u274c Files outside your project</p>"},{"location":"reference/security/#2-path-boundary-validation","title":"2. Path Boundary Validation","text":"<p>Every file operation is validated to ensure it stays within your project directory:</p> <ul> <li>\u2705 Depth limiting: Maximum 10 levels of recursion</li> <li>\u2705 Symlink protection: Verifies files are actually within project</li> <li>\u2705 Permission checks: Verifies read access before accessing files</li> <li>\u2705 Explicit boundaries: Operations confined to CWD</li> </ul>"},{"location":"reference/security/#3-startup-safety-checks","title":"3. Startup Safety Checks","text":"<p>DSPy Code validates your working directory before starting:</p> <pre><code># Running from home directory - shows warning\ncd ~/\ndspy-code\n# \ud83d\udea8 SECURITY WARNING: You are running from your home directory!\n\n# Running from project directory - safe\ncd ~/projects/my-project\ndspy-code\n# \u2705 Safe to proceed\n</code></pre>"},{"location":"reference/security/#recommended-setup","title":"\ud83d\udce6 Recommended Setup","text":""},{"location":"reference/security/#always-use-virtual-environment-in-project","title":"Always Use Virtual Environment IN Project","text":"<p>Critical for security and isolation:</p> <pre><code># 1. Create project directory\nmkdir my-dspy-project\ncd my-dspy-project\n\n# 2. Create venv IN this directory (not elsewhere!)\npython -m venv .venv\n\n# 3. Activate it\nsource .venv/bin/activate\n\n# 4. Install dspy-code (goes into .venv/ here)\npip install dspy-code\n\n# 5. Run dspy-code (everything stays here!)\ndspy-code\n</code></pre>"},{"location":"reference/security/#why-this-matters","title":"Why This Matters","text":"<p>When you create the virtual environment inside your project:</p> <ol> <li>Packages are local: Installed to <code>./venv/lib/</code></li> <li>Cache is local: Stored in <code>./.dspy_code/</code></li> <li>RAG index is local: Scans only <code>./.venv/</code> packages</li> <li>Everything contained: One directory = one project</li> </ol> <p>Result: Can't access files outside your project! \ud83d\udd12</p>"},{"location":"reference/security/#what-gets-scanned","title":"\ud83d\udea8 What Gets Scanned","text":""},{"location":"reference/security/#safe-scanning-scope","title":"Safe Scanning Scope","text":"<p>DSPy Code only scans these locations (all in CWD):</p> <ol> <li> <p>Virtual environment packages:    <pre><code>.venv/lib/python3.x/site-packages/dspy/\n.venv/lib/python3.x/site-packages/gepa/\n.venv/lib/python3.x/site-packages/mcp/\n</code></pre></p> </li> <li> <p>Specific project directories:    <pre><code>./generated/\n./modules/\n./signatures/\n./programs/\n./optimizers/\n./src/\n</code></pre></p> </li> <li> <p>Python files in root (non-recursive):    <pre><code>./my_program.py\n./config.py\n</code></pre></p> </li> </ol>"},{"location":"reference/security/#never-scanned","title":"Never Scanned","text":"<ul> <li>\u274c Home directory</li> <li>\u274c Parent directories</li> <li>\u274c System directories</li> <li>\u274c User directories</li> <li>\u274c Hidden files (starting with <code>.</code>)</li> <li>\u274c Test directories</li> <li>\u274c Cache directories</li> <li>\u274c <code>node_modules/</code></li> </ul>"},{"location":"reference/security/#security-features","title":"\ud83d\udee1\ufe0f Security Features","text":""},{"location":"reference/security/#directory-blocking","title":"Directory Blocking","text":"<p>Automatic protection against dangerous directories:</p> <pre><code># Blocked directories\n- Home directory: ~/\n- System dirs: /System, /Library, /usr, /private\n- User dirs: ~/Desktop, ~/Documents, ~/Downloads\n- Cloud dirs: ~/iCloud, ~/Dropbox, ~/Google Drive\n</code></pre>"},{"location":"reference/security/#symlink-attack-prevention","title":"Symlink Attack Prevention","text":"<p>DSPy Code verifies files are actually within your project:</p> <pre><code># Even if you create a symlink pointing outside:\nln -s ~/Documents/secret.txt ./link.txt\n\n# DSPy Code will detect and skip it:\n\u26a0\ufe0f  Skipping file outside base path: ./link.txt\n</code></pre>"},{"location":"reference/security/#depth-limiting","title":"Depth Limiting","text":"<p>Prevents infinite recursion and excessive scanning:</p> <pre><code># Maximum depth: 10 levels\n./level1/level2/.../level10/  # \u2705 Scanned\n./level1/level2/.../level11/  # \u274c Skipped (too deep)\n</code></pre>"},{"location":"reference/security/#permission-checks","title":"Permission Checks","text":"<p>All file operations check permissions:</p> <pre><code># If file is not readable:\nif not os.access(file, os.R_OK):\n    skip_file()  # Gracefully skip\n</code></pre>"},{"location":"reference/security/#security-warnings","title":"\u26a0\ufe0f Security Warnings","text":""},{"location":"reference/security/#home-directory-warning","title":"Home Directory Warning","text":"<p>If you run from home directory:</p> <pre><code>\ud83d\udea8 SECURITY WARNING\n\nYou are running dspy-code from your home directory!\n\nThis is dangerous as it may attempt to scan ALL files\nin your home directory, including personal documents,\nphotos, and sensitive data.\n\nRecommended actions:\n1. Create a dedicated project directory\n2. Navigate to it: cd ~/my-dspy-project\n3. Create virtual environment: python -m venv .venv\n4. Activate it: source .venv/bin/activate\n5. Install dspy-code: pip install dspy-code\n6. Then run: dspy-code\n\nPress Ctrl+C to exit, or Enter to continue at your own risk...\n</code></pre>"},{"location":"reference/security/#user-directory-warning","title":"User Directory Warning","text":"<p>If you run from Desktop, Documents, etc.:</p> <pre><code>\u26a0\ufe0f  WARNING\n\nYou are running dspy-code from: ~/Desktop\n\nThis directory may contain personal files. For safety,\ndspy-code will not scan files here.\n\nRecommendation:\nCreate a dedicated project directory for your DSPy work:\nmkdir ~/projects/my-dspy-project &amp;&amp; cd ~/projects/my-dspy-project\n</code></pre>"},{"location":"reference/security/#system-directory-error","title":"System Directory Error","text":"<p>If you run from system directory:</p> <pre><code>\ud83d\udea8 CRITICAL ERROR\n\nYou cannot run dspy-code from system directory: /usr\n\nThis could damage your system. Please run from a user\nproject directory.\n</code></pre>"},{"location":"reference/security/#best-practices","title":"\u2705 Best Practices","text":""},{"location":"reference/security/#1-dedicated-project-directories","title":"1. Dedicated Project Directories","text":"<p>Always create a dedicated directory for each project:</p> <pre><code># Good\n~/projects/sentiment-analysis/\n~/projects/question-answering/\n~/projects/rag-system/\n\n# Bad\n~/Desktop/    # Personal files here\n~/            # Home directory\n/tmp/         # Temp directory\n</code></pre>"},{"location":"reference/security/#2-virtual-environment-in-project","title":"2. Virtual Environment in Project","text":"<p>Never create virtual environment outside your project:</p> <pre><code># \u274c Bad - venv outside project\ncd ~/\npython -m venv my_global_venv\nsource my_global_venv/bin/activate\ncd ~/Desktop/project\ndspy-code\n\n# \u2705 Good - venv inside project\ncd ~/projects/my-project\npython -m venv .venv\nsource .venv/bin/activate\ndspy-code\n</code></pre>"},{"location":"reference/security/#3-add-to-gitignore","title":"3. Add to .gitignore","text":"<p>Protect sensitive data:</p> <pre><code># Virtual environment\n.venv/\n\n# dspy-code internal data\n.dspy_code/\n.dspy_cache/\n\n# Environment variables (contains API keys!)\n.env\n.env.*\n!.env.example\n\n# Secrets\n*.key\n*.pem\nsecrets.json\n</code></pre>"},{"location":"reference/security/#4-environment-variables-for-api-keys","title":"4. Environment Variables for API Keys","text":"<p>Never commit API keys:</p> <pre><code># \u274c Bad - API key in config\nmodels:\n  openai:\n    api_key: sk-1234567890abcdef  # DON'T DO THIS!\n\n# \u2705 Good - use environment variable\nmodels:\n  openai:\n    api_key: ${OPENAI_API_KEY}  # From environment\n</code></pre> <pre><code># Set in environment\nexport OPENAI_API_KEY=sk-1234567890abcdef\n\n# Or use .env file (add to .gitignore!)\necho \"OPENAI_API_KEY=sk-1234567890abcdef\" &gt; .env\n</code></pre>"},{"location":"reference/security/#5-regular-updates","title":"5. Regular Updates","text":"<p>Keep dspy-code updated for security patches:</p> <pre><code>pip install --upgrade dspy-code\n</code></pre>"},{"location":"reference/security/#data-privacy","title":"\ud83d\udd10 Data Privacy","text":""},{"location":"reference/security/#what-gets-cached","title":"What Gets Cached","text":"<p>In <code>.dspy_code/cache/</code>: - Code signatures and metadata - Function/class names and docstrings - Project structure information</p> <p>NOT cached: - API keys or secrets - Personal files or data - Anything outside your project</p>"},{"location":"reference/security/#what-gets-sent-to-llms","title":"What Gets Sent to LLMs","text":"<p>When using model connections: - Your prompts and code generation requests - Generated code for validation - Optimization metrics</p> <p>NOT sent: - Your entire codebase - API keys or secrets - Personal files</p>"},{"location":"reference/security/#if-something-goes-wrong","title":"\ud83c\udd98 If Something Goes Wrong","text":""},{"location":"reference/security/#suspected-security-issue","title":"Suspected Security Issue","text":"<p>If you believe dspy-code is accessing files it shouldn't:</p> <ol> <li>Stop immediately: Press Ctrl+C</li> <li>Check location: Run <code>pwd</code> to verify directory</li> <li>Report: Open issue on GitHub with details</li> <li>Check logs: Look in <code>.dspy_code/dspy-code.log</code></li> </ol>"},{"location":"reference/security/#clean-up","title":"Clean Up","text":"<p>If you want to remove all dspy-code data:</p> <pre><code># Remove internal data\nrm -rf .dspy_code/\nrm -rf .dspy_cache/\n\n# Remove virtual environment\nrm -rf .venv/\n\n# Or delete entire project\ncd ..\nrm -rf my-dspy-project/\n</code></pre>"},{"location":"reference/security/#reporting-security-vulnerabilities","title":"\ud83d\udcec Reporting Security Vulnerabilities","text":"<p>If you discover a security vulnerability:</p> <ol> <li>Do NOT open a public issue</li> <li>Email security concerns to maintainers</li> <li>Include steps to reproduce</li> <li>Allow time for fix before disclosure</li> </ol>"},{"location":"reference/security/#summary","title":"\u2728 Summary","text":"<p>DSPy Code is designed to be secure by default:</p> <ul> <li>\u2705 All data in current working directory</li> <li>\u2705 No home directory access</li> <li>\u2705 No system directory access</li> <li>\u2705 Path boundary validation</li> <li>\u2705 Symlink protection</li> <li>\u2705 Startup safety checks</li> <li>\u2705 Comprehensive testing</li> </ul> <p>Remember: Always run from a dedicated project directory with a virtual environment inside it!</p> <p>Questions about security? Open an issue or check our FAQ.</p>"},{"location":"reference/templates/","title":"Templates Reference","text":"<p>DSPy Code includes templates for common DSPy patterns and use cases.</p>"},{"location":"reference/templates/#overview","title":"Overview","text":"<p>Templates provide pre-built structures for: - DSPy Signatures - DSPy Modules - Complete Programs - Optimizers - Evaluation Scripts</p>"},{"location":"reference/templates/#signature-templates","title":"Signature Templates","text":""},{"location":"reference/templates/#basic-signature","title":"Basic Signature","text":"<pre><code>class BasicSignature(dspy.Signature):\n    \"\"\"Basic signature template.\"\"\"\n    input: str = dspy.InputField(desc=\"Input description\")\n    output: str = dspy.OutputField(desc=\"Output description\")\n</code></pre>"},{"location":"reference/templates/#multi-input-signature","title":"Multi-Input Signature","text":"<pre><code>class MultiInputSignature(dspy.Signature):\n    \"\"\"Signature with multiple inputs.\"\"\"\n    input1: str = dspy.InputField(desc=\"First input\")\n    input2: str = dspy.InputField(desc=\"Second input\")\n    output: str = dspy.OutputField(desc=\"Output\")\n</code></pre>"},{"location":"reference/templates/#classification-signature","title":"Classification Signature","text":"<pre><code>class ClassificationSignature(dspy.Signature):\n    \"\"\"Classification task signature.\"\"\"\n    text: str = dspy.InputField(desc=\"Text to classify\")\n    category: str = dspy.OutputField(desc=\"Classification category\")\n</code></pre>"},{"location":"reference/templates/#module-templates","title":"Module Templates","text":""},{"location":"reference/templates/#predict-module","title":"Predict Module","text":"<pre><code>class PredictModule(dspy.Module):\n    \"\"\"Basic prediction module.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.Predict(BasicSignature)\n\n    def forward(self, input):\n        return self.predictor(input=input)\n</code></pre>"},{"location":"reference/templates/#chainofthought-module","title":"ChainOfThought Module","text":"<pre><code>class ChainOfThoughtModule(dspy.Module):\n    \"\"\"Chain of thought reasoning module.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.generate_answer = dspy.ChainOfThought(\"question -&gt; reasoning -&gt; answer\")\n\n    def forward(self, question):\n        return self.generate_answer(question=question)\n</code></pre>"},{"location":"reference/templates/#react-module","title":"ReAct Module","text":"<pre><code>class ReActModule(dspy.Module):\n    \"\"\"ReAct (Reasoning + Acting) module.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.react = dspy.ReAct(\"question -&gt; thought, action, observation -&gt; answer\")\n\n    def forward(self, question):\n        return self.react(question=question)\n</code></pre>"},{"location":"reference/templates/#multi-step-module","title":"Multi-Step Module","text":"<pre><code>class MultiStepModule(dspy.Module):\n    \"\"\"Module with multiple reasoning steps.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.step1 = dspy.ChainOfThought(\"input -&gt; intermediate\")\n        self.step2 = dspy.ChainOfThought(\"intermediate -&gt; output\")\n\n    def forward(self, input):\n        intermediate = self.step1(input=input)\n        return self.step2(intermediate=intermediate.intermediate)\n</code></pre>"},{"location":"reference/templates/#complete-program-templates","title":"Complete Program Templates","text":""},{"location":"reference/templates/#sentiment-analyzer","title":"Sentiment Analyzer","text":"<pre><code>import dspy\n\nclass SentimentAnalyzer(dspy.Module):\n    \"\"\"Sentiment analysis program.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.classify = dspy.ChainOfThought(\n            \"text -&gt; reasoning -&gt; sentiment\"\n        )\n\n    def forward(self, text):\n        return self.classify(text=text)\n\n# Usage\nlm = dspy.LM(model=\"ollama/llama3.1:8b\")\ndspy.configure(lm=lm)\n\nanalyzer = SentimentAnalyzer()\nresult = analyzer(text=\"I love this product!\")\nprint(result.sentiment)\n</code></pre>"},{"location":"reference/templates/#question-answering-with-rag","title":"Question Answering with RAG","text":"<pre><code>import dspy\n\nclass RAGQA(dspy.Module):\n    \"\"\"Question answering with retrieval.\"\"\"\n    def __init__(self, num_passages=3):\n        super().__init__()\n        self.retrieve = dspy.Retrieve(k=num_passages)\n        self.generate_answer = dspy.ChainOfThought(\n            \"context, question -&gt; reasoning -&gt; answer\"\n        )\n\n    def forward(self, question):\n        passages = self.retrieve(question)\n        context = \"\\n\\n\".join([p.text for p in passages])\n        return self.generate_answer(context=context, question=question)\n</code></pre>"},{"location":"reference/templates/#email-classifier","title":"Email Classifier","text":"<pre><code>import dspy\n\nclass EmailClassifier(dspy.Module):\n    \"\"\"Email classification program.\"\"\"\n    def __init__(self):\n        super().__init__()\n        self.classify = dspy.ChainOfThought(\n            \"subject, body -&gt; reasoning -&gt; category, priority\"\n        )\n\n    def forward(self, subject, body):\n        return self.classify(subject=subject, body=body)\n</code></pre>"},{"location":"reference/templates/#optimizer-templates","title":"Optimizer Templates","text":""},{"location":"reference/templates/#bootstrap-finetune","title":"Bootstrap Finetune","text":"<pre><code>from dspy.teleprompt import BootstrapFinetune\n\nteleprompter = BootstrapFinetune(\n    metric=my_metric,\n    max_bootstrapped_demos=4,\n    max_labeled_demos=16\n)\n\noptimized_program = teleprompter.compile(\n    student=my_program,\n    trainset=training_data\n)\n</code></pre>"},{"location":"reference/templates/#mipro","title":"MIPRO","text":"<pre><code>from dspy.teleprompt import MIPRO\n\nteleprompter = MIPRO(\n    metric=my_metric,\n    num_candidates=10\n)\n\noptimized_program = teleprompter.compile(\n    student=my_program,\n    trainset=training_data\n)\n</code></pre>"},{"location":"reference/templates/#gepa","title":"GEPA","text":"<pre><code>from gepa import GEPAOptimizer\n\noptimizer = GEPAOptimizer(\n    population_size=50,\n    generations=10,\n    mutation_rate=0.1\n)\n\noptimized_program = optimizer.optimize(\n    program=my_program,\n    training_data=training_data,\n    metric=my_metric\n)\n</code></pre>"},{"location":"reference/templates/#evaluation-templates","title":"Evaluation Templates","text":""},{"location":"reference/templates/#basic-evaluation","title":"Basic Evaluation","text":"<pre><code>import dspy\n\ndef evaluate(program, testset):\n    \"\"\"Basic evaluation function.\"\"\"\n    correct = 0\n    total = len(testset)\n\n    for example in testset:\n        prediction = program(**example.inputs)\n        if prediction.answer == example.outputs.answer:\n            correct += 1\n\n    accuracy = correct / total\n    return {\"accuracy\": accuracy, \"correct\": correct, \"total\": total}\n</code></pre>"},{"location":"reference/templates/#metric-function","title":"Metric Function","text":"<pre><code>def my_metric(example, pred, trace=None):\n    \"\"\"Custom metric function.\"\"\"\n    # Compare prediction with expected output\n    if pred.answer.lower() == example.answer.lower():\n        return 1.0\n    return 0.0\n</code></pre>"},{"location":"reference/templates/#industry-templates","title":"Industry Templates","text":"<p>DSPy Code includes templates for common industry use cases:</p>"},{"location":"reference/templates/#customer-support","title":"Customer Support","text":"<ul> <li>Ticket classification</li> <li>Response generation</li> <li>Sentiment analysis</li> </ul>"},{"location":"reference/templates/#content-moderation","title":"Content Moderation","text":"<ul> <li>Toxicity detection</li> <li>Spam classification</li> <li>Content categorization</li> </ul>"},{"location":"reference/templates/#e-commerce","title":"E-commerce","text":"<ul> <li>Product recommendation</li> <li>Review analysis</li> <li>Search query understanding</li> </ul>"},{"location":"reference/templates/#healthcare","title":"Healthcare","text":"<ul> <li>Symptom analysis</li> <li>Medical Q&amp;A</li> <li>Report summarization</li> </ul>"},{"location":"reference/templates/#using-templates","title":"Using Templates","text":""},{"location":"reference/templates/#generate-from-template","title":"Generate from Template","text":"<pre><code>dspy-code\n&gt; Create a sentiment analyzer module\n</code></pre> <p>DSPy Code will generate code based on templates.</p>"},{"location":"reference/templates/#custom-templates","title":"Custom Templates","text":"<p>You can create custom templates by:</p> <ol> <li>Saving your module to <code>templates/</code> directory</li> <li>Using it as a reference for generation</li> <li>Sharing with the community</li> </ol>"},{"location":"reference/templates/#template-best-practices","title":"Template Best Practices","text":"<ol> <li>Start Simple - Begin with basic templates</li> <li>Iterate - Refine based on your needs</li> <li>Optimize - Use GEPA for production</li> <li>Evaluate - Test with your data</li> <li>Document - Add docstrings and comments</li> </ol>"},{"location":"reference/templates/#accessing-templates","title":"Accessing Templates","text":"<p>Templates are available in:</p> <ul> <li>Code Generation - DSPy Code uses templates when generating code</li> <li>Examples - See <code>examples/</code> directory</li> <li>Source - <code>dspy_code/templates/</code> directory</li> </ul> <p>For more details, see Generating Code</p>"},{"location":"reference/troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and solutions for DSPy Code.</p>"},{"location":"reference/troubleshooting/#installation-issues","title":"Installation Issues","text":""},{"location":"reference/troubleshooting/#command-not-found","title":"Command Not Found","text":"<pre><code>dspy-code: command not found\n</code></pre> <p>Solution: <pre><code>pip install --user dspy-code\n# Add to PATH if needed\nexport PATH=\"$HOME/.local/bin:$PATH\"\n</code></pre></p>"},{"location":"reference/troubleshooting/#permission-denied","title":"Permission Denied","text":"<pre><code>Permission denied during installation\n</code></pre> <p>Solution: <pre><code>pip install --user dspy-code\n# Or use virtual environment\npython -m venv venv\nsource venv/bin/activate\npip install dspy-code\n</code></pre></p>"},{"location":"reference/troubleshooting/#connection-issues","title":"Connection Issues","text":""},{"location":"reference/troubleshooting/#model-not-connected","title":"Model Not Connected","text":"<pre><code>Error: No model connected\n</code></pre> <p>Solution: <pre><code>/connect ollama llama3.1:8b\n</code></pre></p>"},{"location":"reference/troubleshooting/#ollama-connection-failed","title":"Ollama Connection Failed","text":"<pre><code>Error: Could not connect to Ollama\n</code></pre> <p>Solutions: 1. Start Ollama: <code>ollama serve</code> 2. Check Ollama is running: <code>ollama list</code> 3. Pull model: <code>ollama pull llama3.1:8b</code></p>"},{"location":"reference/troubleshooting/#api-key-invalid","title":"API Key Invalid","text":"<pre><code>Error: Invalid API key\n</code></pre> <p>Solution: <pre><code># Set environment variable\nexport OPENAI_API_KEY=sk-your-key-here\n# Restart DSPy Code\n</code></pre></p>"},{"location":"reference/troubleshooting/#code-generation-issues","title":"Code Generation Issues","text":""},{"location":"reference/troubleshooting/#no-code-generated","title":"No Code Generated","text":"<pre><code>Error: Failed to generate code\n</code></pre> <p>Solutions: 1. Check model connection: <code>/status</code> 2. Reconnect: <code>/connect ollama llama3.1:8b</code> 3. Try simpler request 4. Check model is responding</p>"},{"location":"reference/troubleshooting/#code-has-errors","title":"Code Has Errors","text":"<pre><code>Validation failed: [errors]\n</code></pre> <p>Solution: <pre><code>Ask: \"Fix the errors in the last generated code\"\n</code></pre></p>"},{"location":"reference/troubleshooting/#optimization-issues","title":"Optimization Issues","text":""},{"location":"reference/troubleshooting/#not-enough-examples","title":"Not Enough Examples","text":"<pre><code>Error: Need at least 10 examples\n</code></pre> <p>Solution: <pre><code>Generate 20 examples for [task]\n</code></pre></p>"},{"location":"reference/troubleshooting/#gepa-fails","title":"GEPA Fails","text":"<pre><code>Error: Optimization failed\n</code></pre> <p>Solutions: 1. Check training data: <code>/data validate</code> 2. Ensure enough examples (50+ recommended) 3. Check model connection 4. Try with smaller dataset first</p>"},{"location":"reference/troubleshooting/#index-issues","title":"Index Issues","text":""},{"location":"reference/troubleshooting/#index-build-failed","title":"Index Build Failed","text":"<pre><code>Warning: Could not build codebase index\n</code></pre> <p>Solutions: 1. Check Python packages are readable 2. Run <code>/refresh-index</code> 3. Check permissions 4. Continue anyway (optional feature)</p>"},{"location":"reference/troubleshooting/#index-stale","title":"Index Stale","text":"<pre><code>Warning: Index is stale\n</code></pre> <p>Solution: <pre><code>/refresh-index\n</code></pre></p>"},{"location":"reference/troubleshooting/#session-issues","title":"Session Issues","text":""},{"location":"reference/troubleshooting/#session-not-found","title":"Session Not Found","text":"<pre><code>Error: Session 'name' not found\n</code></pre> <p>Solution: <pre><code>/sessions list  # See available sessions\n</code></pre></p>"},{"location":"reference/troubleshooting/#cannot-save-session","title":"Cannot Save Session","text":"<pre><code>Error: Failed to save session\n</code></pre> <p>Solutions: 1. Check disk space 2. Check write permissions 3. Try different name</p>"},{"location":"reference/troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"reference/troubleshooting/#slow-response","title":"Slow Response","text":"<p>Solutions: 1. Use faster model (gpt-3.5-turbo vs gpt-4) 2. Use local model (Ollama) 3. Reduce example count 4. Check internet connection</p>"},{"location":"reference/troubleshooting/#high-memory-usage","title":"High Memory Usage","text":"<p>Solutions: 1. Reduce batch size in optimization 2. Use smaller model 3. Clear cache: <code>rm -rf .cache/</code></p>"},{"location":"reference/troubleshooting/#common-error-messages","title":"Common Error Messages","text":""},{"location":"reference/troubleshooting/#dspy-not-found","title":"\"DSPy not found\"","text":"<pre><code>Error: DSPy not found. Please install dspy\n</code></pre> <p>Solution: <pre><code>pip install dspy\n</code></pre></p>"},{"location":"reference/troubleshooting/#no-code-to-save","title":"\"No code to save\"","text":"<pre><code>Error: No code to save yet\n</code></pre> <p>Solution: 1. Generate code first 2. Check <code>/status</code> to see context</p>"},{"location":"reference/troubleshooting/#validation-failed","title":"\"Validation failed\"","text":"<p>See validation errors and fix: <pre><code>/validate\n# Read errors\n# Fix issues\n/validate again\n</code></pre></p>"},{"location":"reference/troubleshooting/#getting-help","title":"Getting Help","text":"<p>If you can't find a solution:</p> <ol> <li>Check FAQ: FAQ</li> <li>GitHub Issues: Report Issue</li> <li>Check Status: <code>/status</code> to see current state</li> <li>Debug Mode: Start with <code>dspy-code --debug</code></li> </ol>"},{"location":"reference/troubleshooting/#debug-mode","title":"Debug Mode","text":"<p>For detailed error information:</p> <pre><code>dspy-code --debug\n</code></pre> <p>Shows: - Full error traces - API calls - Internal state - Detailed logs</p> <p>Back to FAQ \u2192</p>"},{"location":"tutorials/gepa-optimization/","title":"Optimize with GEPA","text":"<p>Learn how to optimize your DSPy programs using the Genetic Prompt Evolution Algorithm (GEPA).</p>"},{"location":"tutorials/gepa-optimization/#overview","title":"Overview","text":"<p>GEPA (Genetic Prompt Evolution Algorithm) is a powerful optimization technique that evolves prompts to improve your DSPy program's performance.</p>"},{"location":"tutorials/gepa-optimization/#prerequisites","title":"Prerequisites","text":"<ul> <li>A DSPy program to optimize</li> <li>Training data in JSONL format</li> <li>Connected language model</li> </ul>"},{"location":"tutorials/gepa-optimization/#step-1-create-your-program","title":"Step 1: Create Your Program","text":"<p>First, create a DSPy program:</p> <pre><code>dspy-code\n/init\n/connect ollama llama3.1:8b\n</code></pre> <pre><code>Create a sentiment analyzer module\n</code></pre> <pre><code>/save sentiment_analyzer.py\n</code></pre>"},{"location":"tutorials/gepa-optimization/#step-2-generate-training-data","title":"Step 2: Generate Training Data","text":"<p>Create training examples:</p> <pre><code>/generate data 50 for sentiment analysis\n</code></pre> <p>This creates a <code>training_data.jsonl</code> file with examples like:</p> <pre><code>{\"text\": \"I love this product!\", \"sentiment\": \"positive\"}\n{\"text\": \"This is terrible.\", \"sentiment\": \"negative\"}\n</code></pre>"},{"location":"tutorials/gepa-optimization/#step-3-optimize-with-gepa","title":"Step 3: Optimize with GEPA","text":"<pre><code>/optimize sentiment_analyzer.py training_data.jsonl\n</code></pre>"},{"location":"tutorials/gepa-optimization/#what-happens-during-optimization","title":"What Happens During Optimization","text":"<ol> <li>Initialization - GEPA creates an initial population of prompt variations</li> <li>Evaluation - Each variation is tested on training data</li> <li>Selection - Best-performing prompts are selected</li> <li>Evolution - New prompts are created through mutation and crossover</li> <li>Iteration - Process repeats for multiple generations</li> <li>Result - Best prompt is returned</li> </ol>"},{"location":"tutorials/gepa-optimization/#understanding-the-output","title":"Understanding the Output","text":"<pre><code>Generation 1: Best fitness = 0.75\nGeneration 2: Best fitness = 0.82\nGeneration 3: Best fitness = 0.88\n...\nFinal: Best fitness = 0.92\n</code></pre>"},{"location":"tutorials/gepa-optimization/#advanced-optimization","title":"Advanced Optimization","text":""},{"location":"tutorials/gepa-optimization/#custom-metrics","title":"Custom Metrics","text":"<p>Define your own metric:</p> <pre><code>def my_metric(example, pred, trace=None):\n    \"\"\"Custom evaluation metric.\"\"\"\n    if pred.sentiment == example.sentiment:\n        return 1.0\n    return 0.0\n</code></pre>"},{"location":"tutorials/gepa-optimization/#optimization-parameters","title":"Optimization Parameters","text":"<pre><code>from gepa import GEPAOptimizer\n\noptimizer = GEPAOptimizer(\n    population_size=50,      # Larger population\n    generations=20,          # More generations\n    mutation_rate=0.15,      # Higher mutation\n    crossover_rate=0.7       # Crossover probability\n)\n</code></pre>"},{"location":"tutorials/gepa-optimization/#best-practices","title":"Best Practices","text":"<ol> <li>Quality Data - Use high-quality training examples</li> <li>Sufficient Data - At least 20-50 examples</li> <li>Diverse Examples - Cover various cases</li> <li>Validation Set - Keep some data for validation</li> <li>Patience - Optimization takes time</li> </ol>"},{"location":"tutorials/gepa-optimization/#example-workflow","title":"Example Workflow","text":"<pre><code># 1. Create program\ndspy-code\n&gt; Create a sentiment analyzer\n\n# 2. Save it\n/save sentiment_analyzer.py\n\n# 3. Generate training data\n/generate data 50 for sentiment analysis\n\n# 4. Optimize\n/optimize sentiment_analyzer.py training_data.jsonl\n\n# 5. Test optimized version\n/run sentiment_analyzer_optimized.py --input text=\"This is great!\"\n</code></pre>"},{"location":"tutorials/gepa-optimization/#troubleshooting","title":"Troubleshooting","text":""},{"location":"tutorials/gepa-optimization/#low-performance","title":"Low Performance","text":"<ul> <li>Check training data quality</li> <li>Increase number of examples</li> <li>Adjust optimization parameters</li> <li>Try different model</li> </ul>"},{"location":"tutorials/gepa-optimization/#slow-optimization","title":"Slow Optimization","text":"<ul> <li>Reduce population size</li> <li>Reduce generations</li> <li>Use faster model</li> <li>Optimize on subset first</li> </ul>"},{"location":"tutorials/gepa-optimization/#next-steps","title":"Next Steps","text":"<ul> <li>Evaluate on test set</li> <li>Deploy optimized program</li> <li>Monitor performance</li> <li>Iterate and improve</li> </ul> <p>For more details, see Optimization</p>"},{"location":"tutorials/question-answering/","title":"Question Answering System","text":"<p>Build a question answering system with DSPy Code.</p>"},{"location":"tutorials/question-answering/#overview","title":"Overview","text":"<p>This tutorial shows you how to build a question answering system that can answer questions based on context.</p>"},{"location":"tutorials/question-answering/#step-1-start-and-initialize","title":"Step 1: Start and Initialize","text":"<pre><code>dspy-code\n/init\n/connect ollama llama3.1:8b\n</code></pre>"},{"location":"tutorials/question-answering/#step-2-create-the-qa-system","title":"Step 2: Create the QA System","text":"<pre><code>Create a question answering module that takes a question and context and generates an answer\n</code></pre>"},{"location":"tutorials/question-answering/#step-3-review-generated-code","title":"Step 3: Review Generated Code","text":"<pre><code>import dspy\n\nclass QuestionAnswering(dspy.Module):\n    \"\"\"Question answering module.\"\"\"\n\n    def __init__(self):\n        super().__init__()\n        self.answer = dspy.ChainOfThought(\n            \"context, question -&gt; reasoning -&gt; answer\"\n        )\n\n    def forward(self, context, question):\n        return self.answer(context=context, question=question)\n</code></pre>"},{"location":"tutorials/question-answering/#step-4-save-and-test","title":"Step 4: Save and Test","text":"<pre><code>/save qa_system.py\n/run qa_system.py --input context=\"DSPy is a framework...\" question=\"What is DSPy?\"\n</code></pre>"},{"location":"tutorials/question-answering/#complete-example","title":"Complete Example","text":"<pre><code>import dspy\n\n# Configure model\nlm = dspy.LM(model=\"ollama/llama3.1:8b\")\ndspy.configure(lm=lm)\n\n# Create QA module\nclass QuestionAnswering(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.answer = dspy.ChainOfThought(\n            \"context, question -&gt; reasoning -&gt; answer\"\n        )\n\n    def forward(self, context, question):\n        return self.answer(context=context, question=question)\n\n# Use it\nqa = QuestionAnswering()\nresult = qa(\n    context=\"DSPy is a framework for building AI systems.\",\n    question=\"What is DSPy?\"\n)\nprint(result.answer)\n</code></pre>"},{"location":"tutorials/question-answering/#enhancements","title":"Enhancements","text":""},{"location":"tutorials/question-answering/#add-reasoning","title":"Add Reasoning","text":"<pre><code>self.answer = dspy.ChainOfThought(\n    \"context, question -&gt; reasoning -&gt; answer\"\n)\n</code></pre>"},{"location":"tutorials/question-answering/#add-confidence","title":"Add Confidence","text":"<pre><code>class QuestionAnswering(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.answer = dspy.ChainOfThought(\n            \"context, question -&gt; reasoning -&gt; answer, confidence\"\n        )\n</code></pre>"},{"location":"tutorials/question-answering/#next-steps","title":"Next Steps","text":"<ul> <li>Add retrieval for RAG</li> <li>Optimize with GEPA</li> <li>Add evaluation metrics</li> </ul> <p>For more details, see RAG System</p>"},{"location":"tutorials/rag-system/","title":"Build a RAG System","text":"<p>Learn how to build a Retrieval-Augmented Generation (RAG) system with DSPy Code.</p>"},{"location":"tutorials/rag-system/#overview","title":"Overview","text":"<p>This tutorial will guide you through building a RAG system that can answer questions using retrieved context from a knowledge base.</p>"},{"location":"tutorials/rag-system/#step-1-start-dspy-code","title":"Step 1: Start DSPy Code","text":"<pre><code>dspy-code\n</code></pre>"},{"location":"tutorials/rag-system/#step-2-initialize-project","title":"Step 2: Initialize Project","text":"<pre><code>/init\n</code></pre>"},{"location":"tutorials/rag-system/#step-3-connect-to-a-model","title":"Step 3: Connect to a Model","text":"<pre><code>/connect ollama llama3.1:8b\n# Or\n/connect openai gpt-4o\n</code></pre>"},{"location":"tutorials/rag-system/#step-4-create-the-rag-system","title":"Step 4: Create the RAG System","text":"<p>Describe what you want to build:</p> <pre><code>Build a RAG system for question answering that retrieves relevant passages and generates answers\n</code></pre> <p>Or use the slash command:</p> <pre><code>/create program RAG question answering system with retrieval\n</code></pre>"},{"location":"tutorials/rag-system/#step-5-review-generated-code","title":"Step 5: Review Generated Code","text":"<p>DSPy Code will generate something like:</p> <pre><code>import dspy\n\nclass RAGQA(dspy.Module):\n    \"\"\"Question answering with retrieval augmentation.\"\"\"\n\n    def __init__(self, num_passages=3):\n        super().__init__()\n        self.retrieve = dspy.Retrieve(k=num_passages)\n        self.generate_answer = dspy.ChainOfThought(\n            \"context, question -&gt; reasoning -&gt; answer\"\n        )\n\n    def forward(self, question):\n        passages = self.retrieve(question)\n        context = \"\\n\\n\".join([p.text for p in passages])\n        return self.generate_answer(context=context, question=question)\n</code></pre>"},{"location":"tutorials/rag-system/#step-6-save-the-code","title":"Step 6: Save the Code","text":"<pre><code>/save rag_system.py\n</code></pre>"},{"location":"tutorials/rag-system/#step-7-set-up-retrieval","title":"Step 7: Set Up Retrieval","text":"<p>Configure your retrieval system:</p> <pre><code>import dspy\n\n# Configure your retrieval system\n# For example, with a vector store:\nfrom dspy.retrieve import ChromadbRM\n\nretriever = ChromadbRM(\n    collection_name=\"knowledge_base\",\n    persist_directory=\"./chroma_db\"\n)\n\n# Update the RAG module to use your retriever\nclass RAGQA(dspy.Module):\n    def __init__(self, num_passages=3):\n        super().__init__()\n        self.retrieve = retriever\n        self.generate_answer = dspy.ChainOfThought(\n            \"context, question -&gt; reasoning -&gt; answer\"\n        )\n\n    def forward(self, question):\n        passages = self.retrieve(question, k=num_passages)\n        context = \"\\n\\n\".join([p.text for p in passages])\n        return self.generate_answer(context=context, question=question)\n</code></pre>"},{"location":"tutorials/rag-system/#step-8-test-the-system","title":"Step 8: Test the System","text":"<pre><code>/run rag_system.py --input question=\"What is DSPy?\"\n</code></pre>"},{"location":"tutorials/rag-system/#step-9-optimize-optional","title":"Step 9: Optimize (Optional)","text":"<p>Create training data:</p> <pre><code>/generate data 20 for question answering\n</code></pre> <p>Then optimize:</p> <pre><code>/optimize rag_system.py training_data.jsonl\n</code></pre>"},{"location":"tutorials/rag-system/#complete-example","title":"Complete Example","text":"<pre><code>import dspy\nfrom dspy.retrieve import ChromadbRM\n\n# Configure language model\nlm = dspy.LM(model=\"ollama/llama3.1:8b\")\ndspy.configure(lm=lm)\n\n# Set up retrieval\nretriever = ChromadbRM(\n    collection_name=\"knowledge_base\",\n    persist_directory=\"./chroma_db\"\n)\n\n# Create RAG module\nclass RAGQA(dspy.Module):\n    \"\"\"Question answering with retrieval.\"\"\"\n\n    def __init__(self, num_passages=3):\n        super().__init__()\n        self.retrieve = retriever\n        self.generate_answer = dspy.ChainOfThought(\n            \"context, question -&gt; reasoning -&gt; answer\"\n        )\n\n    def forward(self, question):\n        passages = self.retrieve(question, k=num_passages)\n        context = \"\\n\\n\".join([p.text for p in passages])\n        return self.generate_answer(context=context, question=question)\n\n# Use the system\nrag = RAGQA()\nresult = rag(question=\"What is DSPy?\")\nprint(result.answer)\n</code></pre>"},{"location":"tutorials/rag-system/#next-steps","title":"Next Steps","text":"<ul> <li>Add more sophisticated retrieval strategies</li> <li>Implement multi-hop reasoning</li> <li>Optimize with GEPA</li> <li>Deploy to production</li> </ul> <p>For more details, see Optimization</p>"},{"location":"tutorials/sentiment-analyzer/","title":"Tutorial: Build a Sentiment Analyzer","text":"<p>In this tutorial, you'll build a complete sentiment analysis system using DSPy Code. Perfect for beginners!</p> <p>What you'll learn:</p> <ul> <li>Creating DSPy Signatures</li> <li>Building Modules</li> <li>Validating code</li> <li>Running and testing</li> <li>Optimizing with GEPA</li> </ul> <p>Time: 15 minutes</p>"},{"location":"tutorials/sentiment-analyzer/#prerequisites","title":"Prerequisites","text":"<ul> <li>DSPy Code installed (Installation Guide)</li> <li>Basic understanding of Python</li> <li>(Optional) Ollama or OpenAI API key for better results</li> </ul>"},{"location":"tutorials/sentiment-analyzer/#step-1-start-dspy-code","title":"Step 1: Start DSPy Code","text":"<p>Open your terminal and start the CLI:</p> <pre><code>dspy-code\n</code></pre> <p>You'll see the welcome screen with the DSPy version.</p>"},{"location":"tutorials/sentiment-analyzer/#step-2-initialize-your-project","title":"Step 2: Initialize Your Project","text":"<p>Let's set up a new project:</p> <pre><code>/init\n</code></pre> <p>This will:</p> <ul> <li>Create project configuration</li> <li>Index your DSPy installation</li> <li>Set up directories</li> </ul> <p>Watch the Jokes!</p> <p>During indexing, you'll see entertaining messages. This is normal and makes the wait fun!</p>"},{"location":"tutorials/sentiment-analyzer/#step-3-connect-a-model-optional","title":"Step 3: Connect a Model (Optional)","text":"<p>For better code generation, connect to a model:</p> <p>If you have Ollama:</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>If you have OpenAI:</p> <pre><code>/connect openai gpt-3.5-turbo\n</code></pre> <p>Without a Model?</p> <p>No problem! DSPy Code can still generate code using templates. The code will be more generic but still functional.</p>"},{"location":"tutorials/sentiment-analyzer/#step-4-generate-the-sentiment-analyzer","title":"Step 4: Generate the Sentiment Analyzer","text":"<p>Now, just describe what you want in plain English:</p> <pre><code>Create a sentiment analyzer that takes text input and outputs whether it's positive or negative\n</code></pre> <p>DSPy Code will generate complete code for you!</p> <p>What You'll Get</p> <p>A complete DSPy program with: - Signature definition - Module implementation - Example usage - Configuration</p>"},{"location":"tutorials/sentiment-analyzer/#step-5-review-the-generated-code","title":"Step 5: Review the Generated Code","text":"<p>The CLI will show you the code with syntax highlighting. Let's understand what was generated:</p>"},{"location":"tutorials/sentiment-analyzer/#the-signature","title":"The Signature","text":"<pre><code>class SentimentSignature(dspy.Signature):\n    \"\"\"Analyze the sentiment of text.\"\"\"\n    text: str = dspy.InputField(desc=\"Text to analyze\")\n    sentiment: str = dspy.OutputField(desc=\"positive or negative\")\n</code></pre> <p>What this does:</p> <ul> <li>Defines the input (text) and output (sentiment)</li> <li>Provides descriptions for the LLM</li> <li>Sets up the task specification</li> </ul>"},{"location":"tutorials/sentiment-analyzer/#the-module","title":"The Module","text":"<pre><code>class SentimentAnalyzer(dspy.Module):\n    def __init__(self):\n        super().__init__()\n        self.predictor = dspy.ChainOfThought(SentimentSignature)\n\n    def forward(self, text):\n        return self.predictor(text=text)\n</code></pre> <p>What this does:</p> <ul> <li>Creates a DSPy Module</li> <li>Uses ChainOfThought for reasoning</li> <li>Implements the forward method</li> </ul>"},{"location":"tutorials/sentiment-analyzer/#example-usage","title":"Example Usage","text":"<pre><code># Configure DSPy\ndspy.settings.configure(lm=dspy.OpenAI(model=\"gpt-3.5-turbo\"))\n\n# Create analyzer\nanalyzer = SentimentAnalyzer()\n\n# Analyze text\nresult = analyzer(text=\"I love this product!\")\nprint(result.sentiment)  # Output: positive\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#step-6-save-your-code","title":"Step 6: Save Your Code","text":"<p>Save the generated code:</p> <pre><code>/save sentiment_analyzer.py\n</code></pre> <p>The file will be saved to <code>generated/sentiment_analyzer.py</code>.</p> <p>Saved!</p> <pre><code>\u2713 Code saved to: generated/sentiment_analyzer.py\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#step-7-validate-the-code","title":"Step 7: Validate the Code","text":"<p>Check if the code follows best practices:</p> <pre><code>/validate\n</code></pre> <p>The validator will check:</p> <ul> <li>\u2705 Signature has proper InputField and OutputField</li> <li>\u2705 Module inherits from dspy.Module</li> <li>\u2705 Forward method is implemented correctly</li> <li>\u2705 No common mistakes</li> </ul> <p>Fix Any Issues</p> <p>If the validator finds issues, it will tell you exactly what to fix and how.</p>"},{"location":"tutorials/sentiment-analyzer/#step-8-test-the-analyzer","title":"Step 8: Test the Analyzer","text":"<p>Run your sentiment analyzer:</p> <pre><code>/run\n</code></pre> <p>DSPy Code will execute your code in a safe sandbox and show the results.</p> <p>Example Output</p> <pre><code>Running: generated/sentiment_analyzer.py\n\nInput: \"I love this product!\"\nOutput: positive\n\nInput: \"This is terrible\"\nOutput: negative\n\n\u2713 Program executed successfully\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#step-9-generate-training-data","title":"Step 9: Generate Training Data","text":"<p>To optimize your analyzer, you need training data. Let's generate some:</p> <pre><code>Generate 20 examples for sentiment analysis with diverse text samples\n</code></pre> <p>DSPy Code will create training examples for you!</p> <p>What You'll Get</p> <pre><code>{\"text\": \"This movie was amazing!\", \"sentiment\": \"positive\"}\n{\"text\": \"Worst experience ever\", \"sentiment\": \"negative\"}\n{\"text\": \"I'm so happy with this purchase\", \"sentiment\": \"positive\"}\n...\n</code></pre> <p>Save the training data:</p> <pre><code>/save-data sentiment_training.jsonl\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#step-10-optimize-with-gepa","title":"Step 10: Optimize with GEPA","text":"<p>Now let's optimize your analyzer using GEPA:</p> <pre><code>/optimize\n</code></pre> <p>This generates a complete GEPA optimization script!</p> <p>What the script includes:</p> <ul> <li>Metric with feedback for GEPA</li> <li>Training data loader</li> <li>GEPA configuration</li> <li>Optimization execution code</li> </ul> <p>Save the optimization script:</p> <pre><code>/save gepa_optimize.py\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#step-11-run-the-optimization","title":"Step 11: Run the Optimization","text":"<p>Exit DSPy Code and run the optimization:</p> <pre><code>python generated/gepa_optimize.py\n</code></pre> <p>GEPA will:</p> <ol> <li>Load your training data</li> <li>Evaluate your current program</li> <li>Use reflection to improve prompts</li> <li>Evolve better instructions</li> <li>Save the optimized version</li> </ol> <p>Real Optimization</p> <p>This is REAL GEPA optimization, not a simulation! It uses reflection to evolve your prompts.</p>"},{"location":"tutorials/sentiment-analyzer/#step-12-test-the-optimized-version","title":"Step 12: Test the Optimized Version","text":"<p>The optimized program will be saved. Test it:</p> <pre><code>python generated/sentiment_analyzer_optimized.py\n</code></pre> <p>Compare the results with your original version!</p>"},{"location":"tutorials/sentiment-analyzer/#what-you-built","title":"What You Built","text":"<p>Congratulations! You just built:</p> <ul> <li>\u2705 A complete sentiment analysis system</li> <li>\u2705 Training data for optimization</li> <li>\u2705 GEPA optimization pipeline</li> <li>\u2705 Validated, production-ready code</li> </ul>"},{"location":"tutorials/sentiment-analyzer/#customization-ideas","title":"Customization Ideas","text":"<p>Now that you have a working analyzer, try these enhancements:</p>"},{"location":"tutorials/sentiment-analyzer/#add-more-sentiment-categories","title":"Add More Sentiment Categories","text":"<pre><code>Modify the sentiment analyzer to output positive, negative, or neutral\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#add-confidence-scores","title":"Add Confidence Scores","text":"<pre><code>Add a confidence score to the sentiment output\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#handle-multiple-languages","title":"Handle Multiple Languages","text":"<pre><code>Make the sentiment analyzer work with English, Spanish, and French\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#add-aspect-based-sentiment","title":"Add Aspect-Based Sentiment","text":"<pre><code>Analyze sentiment for specific aspects like quality, price, and service\n</code></pre>"},{"location":"tutorials/sentiment-analyzer/#common-issues","title":"Common Issues","text":""},{"location":"tutorials/sentiment-analyzer/#model-not-connected","title":"Model Not Connected","text":"<p>If you see \"No model connected\":</p> <pre><code>/connect ollama llama3.1:8b\n</code></pre> <p>Or work without a model using templates.</p>"},{"location":"tutorials/sentiment-analyzer/#code-not-saving","title":"Code Not Saving","text":"<p>Check if code was generated:</p> <pre><code>/status\n</code></pre> <p>If no code is shown, try generating again.</p>"},{"location":"tutorials/sentiment-analyzer/#validation-errors","title":"Validation Errors","text":"<p>Read the error messages carefully. They tell you exactly what to fix:</p> <pre><code>/validate\n</code></pre> <p>Follow the suggestions to fix issues.</p>"},{"location":"tutorials/sentiment-analyzer/#optimization-fails","title":"Optimization Fails","text":"<p>Make sure you have:</p> <ul> <li>Training data saved</li> <li>DSPy configured with a model</li> <li>GEPA available in your DSPy version</li> </ul>"},{"location":"tutorials/sentiment-analyzer/#next-steps","title":"Next Steps","text":"<p>Now that you've built a sentiment analyzer, try:</p> <ul> <li> <p>\ud83d\udd0d Build a RAG System</p> <p>Create a question-answering system with retrieval</p> <p>RAG Tutorial \u2192</p> </li> <li> <p>\u2753 Question Answering</p> <p>Build a QA system that answers questions from context</p> <p>QA Tutorial \u2192</p> </li> <li> <p>\u26a1 Advanced Optimization</p> <p>Learn advanced GEPA techniques</p> <p>GEPA Guide \u2192</p> </li> <li> <p>\ud83d\udce6 Deploy Your Analyzer</p> <p>Package and deploy your sentiment analyzer</p> <p>Deployment Guide \u2192</p> </li> </ul>"},{"location":"tutorials/sentiment-analyzer/#summary","title":"Summary","text":"<p>In this tutorial, you learned:</p> <ul> <li>\u2705 How to use DSPy Code interactively</li> <li>\u2705 Generating DSPy code from natural language</li> <li>\u2705 Validating and testing your code</li> <li>\u2705 Creating training data</li> <li>\u2705 Optimizing with GEPA</li> <li>\u2705 Building a complete, production-ready system</li> </ul> <p>Time to build something amazing! \ud83d\ude80</p> <p>Questions? Check the FAQ, Troubleshooting Guide, or open an issue.</p>"}]}